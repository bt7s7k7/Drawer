var Op=Object.defineProperty;var Np=(r,o,s)=>o in r?Op(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s;var Ns=(r,o,s)=>(Np(r,typeof o!="symbol"?o+"":o,s),s);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const v of h.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&u(v)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();function ua(r,o){const s=Object.create(null),u=r.split(",");for(let c=0;c<u.length;c++)s[u[c]]=!0;return o?c=>!!s[c.toLowerCase()]:c=>!!s[c]}const Ve={},wi=[],Lr=()=>{},Dp=()=>!1,Ip=/^on[^a-z]/,Co=r=>Ip.test(r),fa=r=>r.startsWith("onUpdate:"),vt=Object.assign,ca=(r,o)=>{const s=r.indexOf(o);s>-1&&r.splice(s,1)},_p=Object.prototype.hasOwnProperty,We=(r,o)=>_p.call(r,o),Le=Array.isArray,cl=r=>ko(r)==="[object Map]",Pp=r=>ko(r)==="[object Set]",De=r=>typeof r=="function",pt=r=>typeof r=="string",ha=r=>typeof r=="symbol",lt=r=>r!==null&&typeof r=="object",Mc=r=>lt(r)&&De(r.then)&&De(r.catch),Rp=Object.prototype.toString,ko=r=>Rp.call(r),Fp=r=>ko(r).slice(8,-1),Hp=r=>ko(r)==="[object Object]",da=r=>pt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,ho=ua(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),To=r=>{const o=Object.create(null);return s=>o[s]||(o[s]=r(s))},Bp=/-(\w)/g,Hr=To(r=>r.replace(Bp,(o,s)=>s?s.toUpperCase():"")),Wp=/\B([A-Z])/g,jn=To(r=>r.replace(Wp,"-$1").toLowerCase()),Lo=To(r=>r.charAt(0).toUpperCase()+r.slice(1)),Ds=To(r=>r?`on${Lo(r)}`:""),vl=(r,o)=>!Object.is(r,o),Is=(r,o)=>{for(let s=0;s<r.length;s++)r[s](o)},vo=(r,o,s)=>{Object.defineProperty(r,o,{configurable:!0,enumerable:!1,value:s})},zp=r=>{const o=parseFloat(r);return isNaN(o)?r:o},Up=r=>{const o=pt(r)?Number(r):NaN;return isNaN(o)?r:o};let Rf;const Ks=()=>Rf||(Rf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Mo(r){if(Le(r)){const o={};for(let s=0;s<r.length;s++){const u=r[s],c=pt(u)?Gp(u):Mo(u);if(c)for(const h in c)o[h]=c[h]}return o}else{if(pt(r))return r;if(lt(r))return r}}const jp=/;(?![^(]*\))/g,Kp=/:([^]+)/,qp=/\/\*[^]*?\*\//g;function Gp(r){const o={};return r.replace(qp,"").split(jp).forEach(s=>{if(s){const u=s.split(Kp);u.length>1&&(o[u[0].trim()]=u[1].trim())}}),o}function Yp(r){let o="";if(!r||pt(r))return o;for(const s in r){const u=r[s],c=s.startsWith("--")?s:jn(s);(pt(u)||typeof u=="number")&&(o+=`${c}:${u};`)}return o}function Eo(r){let o="";if(pt(r))o=r;else if(Le(r))for(let s=0;s<r.length;s++){const u=Eo(r[s]);u&&(o+=u+" ")}else if(lt(r))for(const s in r)r[s]&&(o+=s+" ");return o.trim()}const Xp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zp=ua(Xp);function Ec(r){return!!r||r===""}const Jp=/["'&<>]/;function Qp(r){const o=""+r,s=Jp.exec(o);if(!s)return o;let u="",c,h,v=0;for(h=s.index;h<o.length;h++){switch(o.charCodeAt(h)){case 34:c="&quot;";break;case 38:c="&amp;";break;case 39:c="&#39;";break;case 60:c="&lt;";break;case 62:c="&gt;";break;default:continue}v!==h&&(u+=o.slice(v,h)),v=h+1,u+=c}return v!==h?u+o.slice(v,h):u}let Cr;class $p{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Cr,!o&&Cr&&(this.index=(Cr.scopes||(Cr.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const s=Cr;try{return Cr=this,o()}finally{Cr=s}}}on(){Cr=this}off(){Cr=this.parent}stop(o){if(this._active){let s,u;for(s=0,u=this.effects.length;s<u;s++)this.effects[s].stop();for(s=0,u=this.cleanups.length;s<u;s++)this.cleanups[s]();if(this.scopes)for(s=0,u=this.scopes.length;s<u;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!o){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this._active=!1}}}function Vp(r,o=Cr){o&&o.active&&o.effects.push(r)}function eg(){return Cr}const pa=r=>{const o=new Set(r);return o.w=0,o.n=0,o},Ac=r=>(r.w&bn)>0,Oc=r=>(r.n&bn)>0,tg=({deps:r})=>{if(r.length)for(let o=0;o<r.length;o++)r[o].w|=bn},rg=r=>{const{deps:o}=r;if(o.length){let s=0;for(let u=0;u<o.length;u++){const c=o[u];Ac(c)&&!Oc(c)?c.delete(r):o[s++]=c,c.w&=~bn,c.n&=~bn}o.length=s}},mo=new WeakMap;let ul=0,bn=1;const qs=30;let kr;const zn=Symbol(""),Gs=Symbol("");class ga{constructor(o,s=null,u){this.fn=o,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Vp(this,u)}run(){if(!this.active)return this.fn();let o=kr,s=vn;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=kr,kr=this,vn=!0,bn=1<<++ul,ul<=qs?tg(this):Ff(this),this.fn()}finally{ul<=qs&&rg(this),bn=1<<--ul,kr=this.parent,vn=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){kr===this?this.deferStop=!0:this.active&&(Ff(this),this.onStop&&this.onStop(),this.active=!1)}}function Ff(r){const{deps:o}=r;if(o.length){for(let s=0;s<o.length;s++)o[s].delete(r);o.length=0}}let vn=!0;const Nc=[];function Ei(){Nc.push(vn),vn=!1}function Ai(){const r=Nc.pop();vn=r===void 0?!0:r}function rr(r,o,s){if(vn&&kr){let u=mo.get(r);u||mo.set(r,u=new Map);let c=u.get(s);c||u.set(s,c=pa()),Dc(c)}}function Dc(r,o){let s=!1;ul<=qs?Oc(r)||(r.n|=bn,s=!Ac(r)):s=!r.has(kr),s&&(r.add(kr),kr.deps.push(r))}function Zr(r,o,s,u,c,h){const v=mo.get(r);if(!v)return;let b=[];if(o==="clear")b=[...v.values()];else if(s==="length"&&Le(r)){const y=Number(u);v.forEach((w,T)=>{(T==="length"||T>=y)&&b.push(w)})}else switch(s!==void 0&&b.push(v.get(s)),o){case"add":Le(r)?da(s)&&b.push(v.get("length")):(b.push(v.get(zn)),cl(r)&&b.push(v.get(Gs)));break;case"delete":Le(r)||(b.push(v.get(zn)),cl(r)&&b.push(v.get(Gs)));break;case"set":cl(r)&&b.push(v.get(zn));break}if(b.length===1)b[0]&&Ys(b[0]);else{const y=[];for(const w of b)w&&y.push(...w);Ys(pa(y))}}function Ys(r,o){const s=Le(r)?r:[...r];for(const u of s)u.computed&&Hf(u);for(const u of s)u.computed||Hf(u)}function Hf(r,o){(r!==kr||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}function ng(r,o){var s;return(s=mo.get(r))==null?void 0:s.get(o)}const ig=ua("__proto__,__v_isRef,__isVue"),Ic=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(ha)),lg=va(),og=va(!1,!0),sg=va(!0),Bf=ag();function ag(){const r={};return["includes","indexOf","lastIndexOf"].forEach(o=>{r[o]=function(...s){const u=ze(this);for(let h=0,v=this.length;h<v;h++)rr(u,"get",h+"");const c=u[o](...s);return c===-1||c===!1?u[o](...s.map(ze)):c}}),["push","pop","shift","unshift","splice"].forEach(o=>{r[o]=function(...s){Ei();const u=ze(this)[o].apply(this,s);return Ai(),u}}),r}function ug(r){const o=ze(this);return rr(o,"has",r),o.hasOwnProperty(r)}function va(r=!1,o=!1){return function(u,c,h){if(c==="__v_isReactive")return!r;if(c==="__v_isReadonly")return r;if(c==="__v_isShallow")return o;if(c==="__v_raw"&&h===(r?o?Tg:Hc:o?Fc:Rc).get(u))return u;const v=Le(u);if(!r){if(v&&We(Bf,c))return Reflect.get(Bf,c,h);if(c==="hasOwnProperty")return ug}const b=Reflect.get(u,c,h);return(ha(c)?Ic.has(c):ig(c))||(r||rr(u,"get",c),o)?b:Et(b)?v&&da(c)?b:b.value:lt(b)?r?Wc(b):hr(b):b}}const fg=_c(),cg=_c(!0);function _c(r=!1){return function(s,u,c,h){let v=s[u];if(ki(v)&&Et(v)&&!Et(c))return!1;if(!r&&(!yo(c)&&!ki(c)&&(v=ze(v),c=ze(c)),!Le(s)&&Et(v)&&!Et(c)))return v.value=c,!0;const b=Le(s)&&da(u)?Number(u)<s.length:We(s,u),y=Reflect.set(s,u,c,h);return s===ze(h)&&(b?vl(c,v)&&Zr(s,"set",u,c):Zr(s,"add",u,c)),y}}function hg(r,o){const s=We(r,o);r[o];const u=Reflect.deleteProperty(r,o);return u&&s&&Zr(r,"delete",o,void 0),u}function dg(r,o){const s=Reflect.has(r,o);return(!ha(o)||!Ic.has(o))&&rr(r,"has",o),s}function pg(r){return rr(r,"iterate",Le(r)?"length":zn),Reflect.ownKeys(r)}const Pc={get:lg,set:fg,deleteProperty:hg,has:dg,ownKeys:pg},gg={get:sg,set(r,o){return!0},deleteProperty(r,o){return!0}},vg=vt({},Pc,{get:og,set:cg}),ma=r=>r,Ao=r=>Reflect.getPrototypeOf(r);function no(r,o,s=!1,u=!1){r=r.__v_raw;const c=ze(r),h=ze(o);s||(o!==h&&rr(c,"get",o),rr(c,"get",h));const{has:v}=Ao(c),b=u?ma:s?wa:ml;if(v.call(c,o))return b(r.get(o));if(v.call(c,h))return b(r.get(h));r!==c&&r.get(o)}function io(r,o=!1){const s=this.__v_raw,u=ze(s),c=ze(r);return o||(r!==c&&rr(u,"has",r),rr(u,"has",c)),r===c?s.has(r):s.has(r)||s.has(c)}function lo(r,o=!1){return r=r.__v_raw,!o&&rr(ze(r),"iterate",zn),Reflect.get(r,"size",r)}function Wf(r){r=ze(r);const o=ze(this);return Ao(o).has.call(o,r)||(o.add(r),Zr(o,"add",r,r)),this}function zf(r,o){o=ze(o);const s=ze(this),{has:u,get:c}=Ao(s);let h=u.call(s,r);h||(r=ze(r),h=u.call(s,r));const v=c.call(s,r);return s.set(r,o),h?vl(o,v)&&Zr(s,"set",r,o):Zr(s,"add",r,o),this}function Uf(r){const o=ze(this),{has:s,get:u}=Ao(o);let c=s.call(o,r);c||(r=ze(r),c=s.call(o,r)),u&&u.call(o,r);const h=o.delete(r);return c&&Zr(o,"delete",r,void 0),h}function jf(){const r=ze(this),o=r.size!==0,s=r.clear();return o&&Zr(r,"clear",void 0,void 0),s}function oo(r,o){return function(u,c){const h=this,v=h.__v_raw,b=ze(v),y=o?ma:r?wa:ml;return!r&&rr(b,"iterate",zn),v.forEach((w,T)=>u.call(c,y(w),y(T),h))}}function so(r,o,s){return function(...u){const c=this.__v_raw,h=ze(c),v=cl(h),b=r==="entries"||r===Symbol.iterator&&v,y=r==="keys"&&v,w=c[r](...u),T=s?ma:o?wa:ml;return!o&&rr(h,"iterate",y?Gs:zn),{next(){const{value:N,done:M}=w.next();return M?{value:N,done:M}:{value:b?[T(N[0]),T(N[1])]:T(N),done:M}},[Symbol.iterator](){return this}}}}function cn(r){return function(...o){return r==="delete"?!1:this}}function mg(){const r={get(h){return no(this,h)},get size(){return lo(this)},has:io,add:Wf,set:zf,delete:Uf,clear:jf,forEach:oo(!1,!1)},o={get(h){return no(this,h,!1,!0)},get size(){return lo(this)},has:io,add:Wf,set:zf,delete:Uf,clear:jf,forEach:oo(!1,!0)},s={get(h){return no(this,h,!0)},get size(){return lo(this,!0)},has(h){return io.call(this,h,!0)},add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear"),forEach:oo(!0,!1)},u={get(h){return no(this,h,!0,!0)},get size(){return lo(this,!0)},has(h){return io.call(this,h,!0)},add:cn("add"),set:cn("set"),delete:cn("delete"),clear:cn("clear"),forEach:oo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{r[h]=so(h,!1,!1),s[h]=so(h,!0,!1),o[h]=so(h,!1,!0),u[h]=so(h,!0,!0)}),[r,s,o,u]}const[yg,bg,xg,wg]=mg();function ya(r,o){const s=o?r?wg:xg:r?bg:yg;return(u,c,h)=>c==="__v_isReactive"?!r:c==="__v_isReadonly"?r:c==="__v_raw"?u:Reflect.get(We(s,c)&&c in u?s:u,c,h)}const Sg={get:ya(!1,!1)},Cg={get:ya(!1,!0)},kg={get:ya(!0,!1)},Rc=new WeakMap,Fc=new WeakMap,Hc=new WeakMap,Tg=new WeakMap;function Lg(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mg(r){return r.__v_skip||!Object.isExtensible(r)?0:Lg(Fp(r))}function hr(r){return ki(r)?r:ba(r,!1,Pc,Sg,Rc)}function Bc(r){return ba(r,!1,vg,Cg,Fc)}function Wc(r){return ba(r,!0,gg,kg,Hc)}function ba(r,o,s,u,c){if(!lt(r)||r.__v_raw&&!(o&&r.__v_isReactive))return r;const h=c.get(r);if(h)return h;const v=Mg(r);if(v===0)return r;const b=new Proxy(r,v===2?u:s);return c.set(r,b),b}function Si(r){return ki(r)?Si(r.__v_raw):!!(r&&r.__v_isReactive)}function ki(r){return!!(r&&r.__v_isReadonly)}function yo(r){return!!(r&&r.__v_isShallow)}function zc(r){return Si(r)||ki(r)}function ze(r){const o=r&&r.__v_raw;return o?ze(o):r}function xa(r){return vo(r,"__v_skip",!0),r}const ml=r=>lt(r)?hr(r):r,wa=r=>lt(r)?Wc(r):r;function Uc(r){vn&&kr&&(r=ze(r),Dc(r.dep||(r.dep=pa())))}function jc(r,o){r=ze(r);const s=r.dep;s&&Ys(s)}function Et(r){return!!(r&&r.__v_isRef===!0)}function dt(r){return Kc(r,!1)}function Sa(r){return Kc(r,!0)}function Kc(r,o){return Et(r)?r:new Eg(r,o)}class Eg{constructor(o,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?o:ze(o),this._value=s?o:ml(o)}get value(){return Uc(this),this._value}set value(o){const s=this.__v_isShallow||yo(o)||ki(o);o=s?o:ze(o),vl(o,this._rawValue)&&(this._rawValue=o,this._value=s?o:ml(o),jc(this))}}function Ag(r){return Et(r)?r.value:r}const Og={get:(r,o,s)=>Ag(Reflect.get(r,o,s)),set:(r,o,s,u)=>{const c=r[o];return Et(c)&&!Et(s)?(c.value=s,!0):Reflect.set(r,o,s,u)}};function qc(r){return Si(r)?r:new Proxy(r,Og)}class Ng{constructor(o,s,u){this._object=o,this._key=s,this._defaultValue=u,this.__v_isRef=!0}get value(){const o=this._object[this._key];return o===void 0?this._defaultValue:o}set value(o){this._object[this._key]=o}get dep(){return ng(ze(this._object),this._key)}}class Dg{constructor(o){this._getter=o,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ig(r,o,s){return Et(r)?r:De(r)?new Dg(r):lt(r)&&arguments.length>1?_g(r,o,s):dt(r)}function _g(r,o,s){const u=r[o];return Et(u)?u:new Ng(r,o,s)}class Pg{constructor(o,s,u,c){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ga(o,()=>{this._dirty||(this._dirty=!0,jc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=u}get value(){const o=ze(this);return Uc(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}function Rg(r,o,s=!1){let u,c;const h=De(r);return h?(u=r,c=Lr):(u=r.get,c=r.set),new Pg(u,c,h||!c,s)}function mn(r,o,s,u){let c;try{c=u?r(...u):r()}catch(h){wl(h,o,s)}return c}function fr(r,o,s,u){if(De(r)){const h=mn(r,o,s,u);return h&&Mc(h)&&h.catch(v=>{wl(v,o,s)}),h}const c=[];for(let h=0;h<r.length;h++)c.push(fr(r[h],o,s,u));return c}function wl(r,o,s,u=!0){const c=o?o.vnode:null;if(o){let h=o.parent;const v=o.proxy,b=s;for(;h;){const w=h.ec;if(w){for(let T=0;T<w.length;T++)if(w[T](r,v,b)===!1)return}h=h.parent}const y=o.appContext.config.errorHandler;if(y){mn(y,null,10,[r,v,b]);return}}Fg(r,s,c,u)}function Fg(r,o,s,u=!0){console.error(r)}let yl=!1,Xs=!1;const Ht=[];let Rr=0;const Ci=[];let Xr=null,Fn=0;const Gc=Promise.resolve();let Ca=null;function Kn(r){const o=Ca||Gc;return r?o.then(this?r.bind(this):r):o}function Hg(r){let o=Rr+1,s=Ht.length;for(;o<s;){const u=o+s>>>1;bl(Ht[u])<r?o=u+1:s=u}return o}function Oo(r){(!Ht.length||!Ht.includes(r,yl&&r.allowRecurse?Rr+1:Rr))&&(r.id==null?Ht.push(r):Ht.splice(Hg(r.id),0,r),Yc())}function Yc(){!yl&&!Xs&&(Xs=!0,Ca=Gc.then(Zc))}function Bg(r){const o=Ht.indexOf(r);o>Rr&&Ht.splice(o,1)}function Wg(r){Le(r)?Ci.push(...r):(!Xr||!Xr.includes(r,r.allowRecurse?Fn+1:Fn))&&Ci.push(r),Yc()}function Kf(r,o=yl?Rr+1:0){for(;o<Ht.length;o++){const s=Ht[o];s&&s.pre&&(Ht.splice(o,1),o--,s())}}function Xc(r){if(Ci.length){const o=[...new Set(Ci)];if(Ci.length=0,Xr){Xr.push(...o);return}for(Xr=o,Xr.sort((s,u)=>bl(s)-bl(u)),Fn=0;Fn<Xr.length;Fn++)Xr[Fn]();Xr=null,Fn=0}}const bl=r=>r.id==null?1/0:r.id,zg=(r,o)=>{const s=bl(r)-bl(o);if(s===0){if(r.pre&&!o.pre)return-1;if(o.pre&&!r.pre)return 1}return s};function Zc(r){Xs=!1,yl=!0,Ht.sort(zg);const o=Lr;try{for(Rr=0;Rr<Ht.length;Rr++){const s=Ht[Rr];s&&s.active!==!1&&mn(s,null,14)}}finally{Rr=0,Ht.length=0,Xc(),yl=!1,Ca=null,(Ht.length||Ci.length)&&Zc()}}function Ug(r,o,...s){if(r.isUnmounted)return;const u=r.vnode.props||Ve;let c=s;const h=o.startsWith("update:"),v=h&&o.slice(7);if(v&&v in u){const T=`${v==="modelValue"?"model":v}Modifiers`,{number:N,trim:M}=u[T]||Ve;M&&(c=s.map(D=>pt(D)?D.trim():D)),N&&(c=s.map(zp))}let b,y=u[b=Ds(o)]||u[b=Ds(Hr(o))];!y&&h&&(y=u[b=Ds(jn(o))]),y&&fr(y,r,6,c);const w=u[b+"Once"];if(w){if(!r.emitted)r.emitted={};else if(r.emitted[b])return;r.emitted[b]=!0,fr(w,r,6,c)}}function Jc(r,o,s=!1){const u=o.emitsCache,c=u.get(r);if(c!==void 0)return c;const h=r.emits;let v={},b=!1;if(!De(r)){const y=w=>{const T=Jc(w,o,!0);T&&(b=!0,vt(v,T))};!s&&o.mixins.length&&o.mixins.forEach(y),r.extends&&y(r.extends),r.mixins&&r.mixins.forEach(y)}return!h&&!b?(lt(r)&&u.set(r,null),null):(Le(h)?h.forEach(y=>v[y]=null):vt(v,h),lt(r)&&u.set(r,v),v)}function No(r,o){return!r||!Co(o)?!1:(o=o.slice(2).replace(/Once$/,""),We(r,o[0].toLowerCase()+o.slice(1))||We(r,jn(o))||We(r,o))}let _t=null,Qc=null;function bo(r){const o=_t;return _t=r,Qc=r&&r.type.__scopeId||null,o}function jg(r,o=_t,s){if(!o||r._n)return r;const u=(...c)=>{u._d&&nc(-1);const h=bo(o);let v;try{v=r(...c)}finally{bo(h),u._d&&nc(1)}return v};return u._n=!0,u._c=!0,u._d=!0,u}function _s(r){const{type:o,vnode:s,proxy:u,withProxy:c,props:h,propsOptions:[v],slots:b,attrs:y,emit:w,render:T,renderCache:N,data:M,setupState:D,ctx:I,inheritAttrs:H}=r;let ie,he;const q=bo(r);try{if(s.shapeFlag&4){const ee=c||u;ie=Pr(T.call(ee,ee,N,h,D,M,I)),he=y}else{const ee=o;ie=Pr(ee.length>1?ee(h,{attrs:y,slots:b,emit:w}):ee(h,null)),he=o.props?y:Kg(y)}}catch(ee){gl.length=0,wl(ee,r,1),ie=W(cr)}let ae=ie;if(he&&H!==!1){const ee=Object.keys(he),{shapeFlag:oe}=ae;ee.length&&oe&7&&(v&&ee.some(fa)&&(he=qg(he,v)),ae=wn(ae,he))}return s.dirs&&(ae=wn(ae),ae.dirs=ae.dirs?ae.dirs.concat(s.dirs):s.dirs),s.transition&&(ae.transition=s.transition),ie=ae,bo(q),ie}const Kg=r=>{let o;for(const s in r)(s==="class"||s==="style"||Co(s))&&((o||(o={}))[s]=r[s]);return o},qg=(r,o)=>{const s={};for(const u in r)(!fa(u)||!(u.slice(9)in o))&&(s[u]=r[u]);return s};function Gg(r,o,s){const{props:u,children:c,component:h}=r,{props:v,children:b,patchFlag:y}=o,w=h.emitsOptions;if(o.dirs||o.transition)return!0;if(s&&y>=0){if(y&1024)return!0;if(y&16)return u?qf(u,v,w):!!v;if(y&8){const T=o.dynamicProps;for(let N=0;N<T.length;N++){const M=T[N];if(v[M]!==u[M]&&!No(w,M))return!0}}}else return(c||b)&&(!b||!b.$stable)?!0:u===v?!1:u?v?qf(u,v,w):!0:!!v;return!1}function qf(r,o,s){const u=Object.keys(o);if(u.length!==Object.keys(r).length)return!0;for(let c=0;c<u.length;c++){const h=u[c];if(o[h]!==r[h]&&!No(s,h))return!0}return!1}function Yg({vnode:r,parent:o},s){for(;o&&o.subTree===r;)(r=o.vnode).el=s,o=o.parent}const Xg=r=>r.__isSuspense;function Zg(r,o){o&&o.pendingBranch?Le(r)?o.effects.push(...r):o.effects.push(r):Wg(r)}const ao={};function Je(r,o,s){return $c(r,o,s)}function $c(r,o,{immediate:s,deep:u,flush:c,onTrack:h,onTrigger:v}=Ve){var b;const y=eg()===((b=Ct)==null?void 0:b.scope)?Ct:null;let w,T=!1,N=!1;if(Et(r)?(w=()=>r.value,T=yo(r)):Si(r)?(w=()=>r,u=!0):Le(r)?(N=!0,T=r.some(ee=>Si(ee)||yo(ee)),w=()=>r.map(ee=>{if(Et(ee))return ee.value;if(Si(ee))return Wn(ee);if(De(ee))return mn(ee,y,2)})):De(r)?o?w=()=>mn(r,y,2):w=()=>{if(!(y&&y.isUnmounted))return M&&M(),fr(r,y,3,[D])}:w=Lr,o&&u){const ee=w;w=()=>Wn(ee())}let M,D=ee=>{M=q.onStop=()=>{mn(ee,y,4)}},I;if(Mi)if(D=Lr,o?s&&fr(o,y,3,[w(),N?[]:void 0,D]):w(),c==="sync"){const ee=Qv();I=ee.__watcherHandles||(ee.__watcherHandles=[])}else return Lr;let H=N?new Array(r.length).fill(ao):ao;const ie=()=>{if(q.active)if(o){const ee=q.run();(u||T||(N?ee.some((oe,Ae)=>vl(oe,H[Ae])):vl(ee,H)))&&(M&&M(),fr(o,y,3,[ee,H===ao?void 0:N&&H[0]===ao?[]:H,D]),H=ee)}else q.run()};ie.allowRecurse=!!o;let he;c==="sync"?he=ie:c==="post"?he=()=>er(ie,y&&y.suspense):(ie.pre=!0,y&&(ie.id=y.uid),he=()=>Oo(ie));const q=new ga(w,he);o?s?ie():H=q.run():c==="post"?er(q.run.bind(q),y&&y.suspense):q.run();const ae=()=>{q.stop(),y&&y.scope&&ca(y.scope.effects,q)};return I&&I.push(ae),ae}function Jg(r,o,s){const u=this.proxy,c=pt(r)?r.includes(".")?Vc(u,r):()=>u[r]:r.bind(u,u);let h;De(o)?h=o:(h=o.handler,s=o);const v=Ct;Li(this);const b=$c(c,h.bind(u),s);return v?Li(v):Un(),b}function Vc(r,o){const s=o.split(".");return()=>{let u=r;for(let c=0;c<s.length&&u;c++)u=u[s[c]];return u}}function Wn(r,o){if(!lt(r)||r.__v_skip||(o=o||new Set,o.has(r)))return r;if(o.add(r),Et(r))Wn(r.value,o);else if(Le(r))for(let s=0;s<r.length;s++)Wn(r[s],o);else if(Pp(r)||cl(r))r.forEach(s=>{Wn(s,o)});else if(Hp(r))for(const s in r)Wn(r[s],o);return r}function Zs(r,o){const s=_t;if(s===null)return r;const u=Po(s)||s.proxy,c=r.dirs||(r.dirs=[]);for(let h=0;h<o.length;h++){let[v,b,y,w=Ve]=o[h];v&&(De(v)&&(v={mounted:v,updated:v}),v.deep&&Wn(b),c.push({dir:v,instance:u,value:b,oldValue:void 0,arg:y,modifiers:w}))}return r}function In(r,o,s,u){const c=r.dirs,h=o&&o.dirs;for(let v=0;v<c.length;v++){const b=c[v];h&&(b.oldValue=h[v].value);let y=b.dir[u];y&&(Ei(),fr(y,s,8,[r.el,b,r,o]),Ai())}}function Qg(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qn(()=>{r.isMounted=!0}),ka(()=>{r.isUnmounting=!0}),r}const ur=[Function,Array],eh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ur,onEnter:ur,onAfterEnter:ur,onEnterCancelled:ur,onBeforeLeave:ur,onLeave:ur,onAfterLeave:ur,onLeaveCancelled:ur,onBeforeAppear:ur,onAppear:ur,onAfterAppear:ur,onAppearCancelled:ur},$g={name:"BaseTransition",props:eh,setup(r,{slots:o}){const s=Oa(),u=Qg();let c;return()=>{const h=o.default&&rh(o.default(),!0);if(!h||!h.length)return;let v=h[0];if(h.length>1){for(const H of h)if(H.type!==cr){v=H;break}}const b=ze(r),{mode:y}=b;if(u.isLeaving)return Ps(v);const w=Gf(v);if(!w)return Ps(v);const T=Js(w,b,u,s);Qs(w,T);const N=s.subTree,M=N&&Gf(N);let D=!1;const{getTransitionKey:I}=w.type;if(I){const H=I();c===void 0?c=H:H!==c&&(c=H,D=!0)}if(M&&M.type!==cr&&(!Hn(w,M)||D)){const H=Js(M,b,u,s);if(Qs(M,H),y==="out-in")return u.isLeaving=!0,H.afterLeave=()=>{u.isLeaving=!1,s.update.active!==!1&&s.update()},Ps(v);y==="in-out"&&w.type!==cr&&(H.delayLeave=(ie,he,q)=>{const ae=th(u,M);ae[String(M.key)]=M,ie._leaveCb=()=>{he(),ie._leaveCb=void 0,delete T.delayedLeave},T.delayedLeave=q})}return v}}},Vg=$g;function th(r,o){const{leavingVNodes:s}=r;let u=s.get(o.type);return u||(u=Object.create(null),s.set(o.type,u)),u}function Js(r,o,s,u){const{appear:c,mode:h,persisted:v=!1,onBeforeEnter:b,onEnter:y,onAfterEnter:w,onEnterCancelled:T,onBeforeLeave:N,onLeave:M,onAfterLeave:D,onLeaveCancelled:I,onBeforeAppear:H,onAppear:ie,onAfterAppear:he,onAppearCancelled:q}=o,ae=String(r.key),ee=th(s,r),oe=(V,Ee)=>{V&&fr(V,u,9,Ee)},Ae=(V,Ee)=>{const ke=Ee[1];oe(V,Ee),Le(V)?V.every(Ke=>Ke.length<=1)&&ke():V.length<=1&&ke()},Se={mode:h,persisted:v,beforeEnter(V){let Ee=b;if(!s.isMounted)if(c)Ee=H||b;else return;V._leaveCb&&V._leaveCb(!0);const ke=ee[ae];ke&&Hn(r,ke)&&ke.el._leaveCb&&ke.el._leaveCb(),oe(Ee,[V])},enter(V){let Ee=y,ke=w,Ke=T;if(!s.isMounted)if(c)Ee=ie||y,ke=he||w,Ke=q||T;else return;let ue=!1;const F=V._enterCb=se=>{ue||(ue=!0,se?oe(Ke,[V]):oe(ke,[V]),Se.delayedLeave&&Se.delayedLeave(),V._enterCb=void 0)};Ee?Ae(Ee,[V,F]):F()},leave(V,Ee){const ke=String(r.key);if(V._enterCb&&V._enterCb(!0),s.isUnmounting)return Ee();oe(N,[V]);let Ke=!1;const ue=V._leaveCb=F=>{Ke||(Ke=!0,Ee(),F?oe(I,[V]):oe(D,[V]),V._leaveCb=void 0,ee[ke]===r&&delete ee[ke])};ee[ke]=r,M?Ae(M,[V,ue]):ue()},clone(V){return Js(V,o,s,u)}};return Se}function Ps(r){if(Sl(r))return r=wn(r),r.children=null,r}function Gf(r){return Sl(r)?r.children?r.children[0]:void 0:r}function Qs(r,o){r.shapeFlag&6&&r.component?Qs(r.component.subTree,o):r.shapeFlag&128?(r.ssContent.transition=o.clone(r.ssContent),r.ssFallback.transition=o.clone(r.ssFallback)):r.transition=o}function rh(r,o=!1,s){let u=[],c=0;for(let h=0;h<r.length;h++){let v=r[h];const b=s==null?v.key:String(s)+String(v.key!=null?v.key:h);v.type===Mt?(v.patchFlag&128&&c++,u=u.concat(rh(v.children,o,b))):(o||v.type!==cr)&&u.push(b!=null?wn(v,{key:b}):v)}if(c>1)for(let h=0;h<u.length;h++)u[h].patchFlag=-2;return u}function ot(r,o){return De(r)?(()=>vt({name:r.name},o,{setup:r}))():r}const hl=r=>!!r.type.__asyncLoader;function ev(r){De(r)&&(r={loader:r});const{loader:o,loadingComponent:s,errorComponent:u,delay:c=200,timeout:h,suspensible:v=!0,onError:b}=r;let y=null,w,T=0;const N=()=>(T++,y=null,M()),M=()=>{let D;return y||(D=y=o().catch(I=>{if(I=I instanceof Error?I:new Error(String(I)),b)return new Promise((H,ie)=>{b(I,()=>H(N()),()=>ie(I),T+1)});throw I}).then(I=>D!==y&&y?y:(I&&(I.__esModule||I[Symbol.toStringTag]==="Module")&&(I=I.default),w=I,I)))};return ot({name:"AsyncComponentWrapper",__asyncLoader:M,get __asyncResolved(){return w},setup(){const D=Ct;if(w)return()=>Rs(w,D);const I=q=>{y=null,wl(q,D,13,!u)};if(v&&D.suspense||Mi)return M().then(q=>()=>Rs(q,D)).catch(q=>(I(q),()=>u?W(u,{error:q}):null));const H=dt(!1),ie=dt(),he=dt(!!c);return c&&setTimeout(()=>{he.value=!1},c),h!=null&&setTimeout(()=>{if(!H.value&&!ie.value){const q=new Error(`Async component timed out after ${h}ms.`);I(q),ie.value=q}},h),M().then(()=>{H.value=!0,D.parent&&Sl(D.parent.vnode)&&Oo(D.parent.update)}).catch(q=>{I(q),ie.value=q}),()=>{if(H.value&&w)return Rs(w,D);if(ie.value&&u)return W(u,{error:ie.value});if(s&&!he.value)return W(s)}}})}function Rs(r,o){const{ref:s,props:u,children:c,ce:h}=o.vnode,v=W(r,u,c);return v.ref=s,v.ce=h,delete o.vnode.ce,v}const Sl=r=>r.type.__isKeepAlive;function tv(r,o){nh(r,"a",o)}function rv(r,o){nh(r,"da",o)}function nh(r,o,s=Ct){const u=r.__wdc||(r.__wdc=()=>{let c=s;for(;c;){if(c.isDeactivated)return;c=c.parent}return r()});if(Do(o,u,s),s){let c=s.parent;for(;c&&c.parent;)Sl(c.parent.vnode)&&nv(u,o,s,c),c=c.parent}}function nv(r,o,s,u){const c=Do(o,r,u,!0);yn(()=>{ca(u[o],c)},s)}function Do(r,o,s=Ct,u=!1){if(s){const c=s[r]||(s[r]=[]),h=o.__weh||(o.__weh=(...v)=>{if(s.isUnmounted)return;Ei(),Li(s);const b=fr(o,s,r,v);return Un(),Ai(),b});return u?c.unshift(h):c.push(h),h}}const Jr=r=>(o,s=Ct)=>(!Mi||r==="sp")&&Do(r,(...u)=>o(...u),s),iv=Jr("bm"),qn=Jr("m"),lv=Jr("bu"),ih=Jr("u"),ka=Jr("bum"),yn=Jr("um"),ov=Jr("sp"),sv=Jr("rtg"),av=Jr("rtc");function uv(r,o=Ct){Do("ec",r,o)}const fv="components",cv="directives",hv=Symbol.for("v-ndc");function po(r){return dv(cv,r)}function dv(r,o,s=!0,u=!1){const c=_t||Ct;if(c){const h=c.type;if(r===fv){const b=Xv(h,!1);if(b&&(b===o||b===Hr(o)||b===Lo(Hr(o))))return h}const v=Yf(c[r]||h[r],o)||Yf(c.appContext[r],o);return!v&&u?h:v}}function Yf(r,o){return r&&(r[o]||r[Hr(o)]||r[Lo(Hr(o))])}function pv(r,o,s={},u,c){if(_t.isCE||_t.parent&&hl(_t.parent)&&_t.parent.isCE)return o!=="default"&&(s.name=o),W("slot",s,u&&u());let h=r[o];h&&h._c&&(h._d=!1),ph();const v=h&&lh(h(s)),b=gh(Mt,{key:s.key||v&&v.key||`_${o}`},v||(u?u():[]),v&&r._===1?64:-2);return!c&&b.scopeId&&(b.slotScopeIds=[b.scopeId+"-s"]),h&&h._c&&(h._d=!0),b}function lh(r){return r.some(o=>xn(o)?!(o.type===cr||o.type===Mt&&!lh(o.children)):!0)?r:null}const $s=r=>r?mh(r)?Po(r)||r.proxy:$s(r.parent):null,dl=vt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>$s(r.parent),$root:r=>$s(r.root),$emit:r=>r.emit,$options:r=>Ta(r),$forceUpdate:r=>r.f||(r.f=()=>Oo(r.update)),$nextTick:r=>r.n||(r.n=Kn.bind(r.proxy)),$watch:r=>Jg.bind(r)}),Fs=(r,o)=>r!==Ve&&!r.__isScriptSetup&&We(r,o),gv={get({_:r},o){const{ctx:s,setupState:u,data:c,props:h,accessCache:v,type:b,appContext:y}=r;let w;if(o[0]!=="$"){const D=v[o];if(D!==void 0)switch(D){case 1:return u[o];case 2:return c[o];case 4:return s[o];case 3:return h[o]}else{if(Fs(u,o))return v[o]=1,u[o];if(c!==Ve&&We(c,o))return v[o]=2,c[o];if((w=r.propsOptions[0])&&We(w,o))return v[o]=3,h[o];if(s!==Ve&&We(s,o))return v[o]=4,s[o];Vs&&(v[o]=0)}}const T=dl[o];let N,M;if(T)return o==="$attrs"&&rr(r,"get",o),T(r);if((N=b.__cssModules)&&(N=N[o]))return N;if(s!==Ve&&We(s,o))return v[o]=4,s[o];if(M=y.config.globalProperties,We(M,o))return M[o]},set({_:r},o,s){const{data:u,setupState:c,ctx:h}=r;return Fs(c,o)?(c[o]=s,!0):u!==Ve&&We(u,o)?(u[o]=s,!0):We(r.props,o)||o[0]==="$"&&o.slice(1)in r?!1:(h[o]=s,!0)},has({_:{data:r,setupState:o,accessCache:s,ctx:u,appContext:c,propsOptions:h}},v){let b;return!!s[v]||r!==Ve&&We(r,v)||Fs(o,v)||(b=h[0])&&We(b,v)||We(u,v)||We(dl,v)||We(c.config.globalProperties,v)},defineProperty(r,o,s){return s.get!=null?r._.accessCache[o]=0:We(s,"value")&&this.set(r,o,s.value,null),Reflect.defineProperty(r,o,s)}};function Xf(r){return Le(r)?r.reduce((o,s)=>(o[s]=null,o),{}):r}let Vs=!0;function vv(r){const o=Ta(r),s=r.proxy,u=r.ctx;Vs=!1,o.beforeCreate&&Zf(o.beforeCreate,r,"bc");const{data:c,computed:h,methods:v,watch:b,provide:y,inject:w,created:T,beforeMount:N,mounted:M,beforeUpdate:D,updated:I,activated:H,deactivated:ie,beforeDestroy:he,beforeUnmount:q,destroyed:ae,unmounted:ee,render:oe,renderTracked:Ae,renderTriggered:Se,errorCaptured:V,serverPrefetch:Ee,expose:ke,inheritAttrs:Ke,components:ue,directives:F,filters:se}=o;if(w&&mv(w,u,null),v)for(const Re in v){const _e=v[Re];De(_e)&&(u[Re]=_e.bind(s))}if(c){const Re=c.call(s,s);lt(Re)&&(r.data=hr(Re))}if(Vs=!0,h)for(const Re in h){const _e=h[Re],Qe=De(_e)?_e.bind(s,s):De(_e.get)?_e.get.bind(s,s):Lr,kt=!De(_e)&&De(_e.set)?_e.set.bind(s):Lr,At=Br({get:Qe,set:kt});Object.defineProperty(u,Re,{enumerable:!0,configurable:!0,get:()=>At.value,set:Tt=>At.value=Tt})}if(b)for(const Re in b)oh(b[Re],u,s,Re);if(y){const Re=De(y)?y.call(s):y;Reflect.ownKeys(Re).forEach(_e=>{La(_e,Re[_e])})}T&&Zf(T,r,"c");function Xe(Re,_e){Le(_e)?_e.forEach(Qe=>Re(Qe.bind(s))):_e&&Re(_e.bind(s))}if(Xe(iv,N),Xe(qn,M),Xe(lv,D),Xe(ih,I),Xe(tv,H),Xe(rv,ie),Xe(uv,V),Xe(av,Ae),Xe(sv,Se),Xe(ka,q),Xe(yn,ee),Xe(ov,Ee),Le(ke))if(ke.length){const Re=r.exposed||(r.exposed={});ke.forEach(_e=>{Object.defineProperty(Re,_e,{get:()=>s[_e],set:Qe=>s[_e]=Qe})})}else r.exposed||(r.exposed={});oe&&r.render===Lr&&(r.render=oe),Ke!=null&&(r.inheritAttrs=Ke),ue&&(r.components=ue),F&&(r.directives=F)}function mv(r,o,s=Lr){Le(r)&&(r=ea(r));for(const u in r){const c=r[u];let h;lt(c)?"default"in c?h=Fr(c.from||u,c.default,!0):h=Fr(c.from||u):h=Fr(c),Et(h)?Object.defineProperty(o,u,{enumerable:!0,configurable:!0,get:()=>h.value,set:v=>h.value=v}):o[u]=h}}function Zf(r,o,s){fr(Le(r)?r.map(u=>u.bind(o.proxy)):r.bind(o.proxy),o,s)}function oh(r,o,s,u){const c=u.includes(".")?Vc(s,u):()=>s[u];if(pt(r)){const h=o[r];De(h)&&Je(c,h)}else if(De(r))Je(c,r.bind(s));else if(lt(r))if(Le(r))r.forEach(h=>oh(h,o,s,u));else{const h=De(r.handler)?r.handler.bind(s):o[r.handler];De(h)&&Je(c,h,r)}}function Ta(r){const o=r.type,{mixins:s,extends:u}=o,{mixins:c,optionsCache:h,config:{optionMergeStrategies:v}}=r.appContext,b=h.get(o);let y;return b?y=b:!c.length&&!s&&!u?y=o:(y={},c.length&&c.forEach(w=>xo(y,w,v,!0)),xo(y,o,v)),lt(o)&&h.set(o,y),y}function xo(r,o,s,u=!1){const{mixins:c,extends:h}=o;h&&xo(r,h,s,!0),c&&c.forEach(v=>xo(r,v,s,!0));for(const v in o)if(!(u&&v==="expose")){const b=yv[v]||s&&s[v];r[v]=b?b(r[v],o[v]):o[v]}return r}const yv={data:Jf,props:Qf,emits:Qf,methods:fl,computed:fl,beforeCreate:Yt,created:Yt,beforeMount:Yt,mounted:Yt,beforeUpdate:Yt,updated:Yt,beforeDestroy:Yt,beforeUnmount:Yt,destroyed:Yt,unmounted:Yt,activated:Yt,deactivated:Yt,errorCaptured:Yt,serverPrefetch:Yt,components:fl,directives:fl,watch:xv,provide:Jf,inject:bv};function Jf(r,o){return o?r?function(){return vt(De(r)?r.call(this,this):r,De(o)?o.call(this,this):o)}:o:r}function bv(r,o){return fl(ea(r),ea(o))}function ea(r){if(Le(r)){const o={};for(let s=0;s<r.length;s++)o[r[s]]=r[s];return o}return r}function Yt(r,o){return r?[...new Set([].concat(r,o))]:o}function fl(r,o){return r?vt(Object.create(null),r,o):o}function Qf(r,o){return r?Le(r)&&Le(o)?[...new Set([...r,...o])]:vt(Object.create(null),Xf(r),Xf(o??{})):o}function xv(r,o){if(!r)return o;if(!o)return r;const s=vt(Object.create(null),r);for(const u in o)s[u]=Yt(r[u],o[u]);return s}function sh(){return{app:null,config:{isNativeTag:Dp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wv=0;function Sv(r,o){return function(u,c=null){De(u)||(u=vt({},u)),c!=null&&!lt(c)&&(c=null);const h=sh(),v=new Set;let b=!1;const y=h.app={_uid:wv++,_component:u,_props:c,_container:null,_context:h,_instance:null,version:$v,get config(){return h.config},set config(w){},use(w,...T){return v.has(w)||(w&&De(w.install)?(v.add(w),w.install(y,...T)):De(w)&&(v.add(w),w(y,...T))),y},mixin(w){return h.mixins.includes(w)||h.mixins.push(w),y},component(w,T){return T?(h.components[w]=T,y):h.components[w]},directive(w,T){return T?(h.directives[w]=T,y):h.directives[w]},mount(w,T,N){if(!b){const M=W(u,c);return M.appContext=h,T&&o?o(M,w):r(M,w,N),b=!0,y._container=w,w.__vue_app__=y,Po(M.component)||M.component.proxy}},unmount(){b&&(r(null,y._container),delete y._container.__vue_app__)},provide(w,T){return h.provides[w]=T,y},runWithContext(w){wo=y;try{return w()}finally{wo=null}}};return y}}let wo=null;function La(r,o){if(Ct){let s=Ct.provides;const u=Ct.parent&&Ct.parent.provides;u===s&&(s=Ct.provides=Object.create(u)),s[r]=o}}function Fr(r,o,s=!1){const u=Ct||_t;if(u||wo){const c=u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:wo._context.provides;if(c&&r in c)return c[r];if(arguments.length>1)return s&&De(o)?o.call(u&&u.proxy):o}}function Cv(r,o,s,u=!1){const c={},h={};vo(h,_o,1),r.propsDefaults=Object.create(null),ah(r,o,c,h);for(const v in r.propsOptions[0])v in c||(c[v]=void 0);s?r.props=u?c:Bc(c):r.type.props?r.props=c:r.props=h,r.attrs=h}function kv(r,o,s,u){const{props:c,attrs:h,vnode:{patchFlag:v}}=r,b=ze(c),[y]=r.propsOptions;let w=!1;if((u||v>0)&&!(v&16)){if(v&8){const T=r.vnode.dynamicProps;for(let N=0;N<T.length;N++){let M=T[N];if(No(r.emitsOptions,M))continue;const D=o[M];if(y)if(We(h,M))D!==h[M]&&(h[M]=D,w=!0);else{const I=Hr(M);c[I]=ta(y,b,I,D,r,!1)}else D!==h[M]&&(h[M]=D,w=!0)}}}else{ah(r,o,c,h)&&(w=!0);let T;for(const N in b)(!o||!We(o,N)&&((T=jn(N))===N||!We(o,T)))&&(y?s&&(s[N]!==void 0||s[T]!==void 0)&&(c[N]=ta(y,b,N,void 0,r,!0)):delete c[N]);if(h!==b)for(const N in h)(!o||!We(o,N))&&(delete h[N],w=!0)}w&&Zr(r,"set","$attrs")}function ah(r,o,s,u){const[c,h]=r.propsOptions;let v=!1,b;if(o)for(let y in o){if(ho(y))continue;const w=o[y];let T;c&&We(c,T=Hr(y))?!h||!h.includes(T)?s[T]=w:(b||(b={}))[T]=w:No(r.emitsOptions,y)||(!(y in u)||w!==u[y])&&(u[y]=w,v=!0)}if(h){const y=ze(s),w=b||Ve;for(let T=0;T<h.length;T++){const N=h[T];s[N]=ta(c,y,N,w[N],r,!We(w,N))}}return v}function ta(r,o,s,u,c,h){const v=r[s];if(v!=null){const b=We(v,"default");if(b&&u===void 0){const y=v.default;if(v.type!==Function&&!v.skipFactory&&De(y)){const{propsDefaults:w}=c;s in w?u=w[s]:(Li(c),u=w[s]=y.call(null,o),Un())}else u=y}v[0]&&(h&&!b?u=!1:v[1]&&(u===""||u===jn(s))&&(u=!0))}return u}function uh(r,o,s=!1){const u=o.propsCache,c=u.get(r);if(c)return c;const h=r.props,v={},b=[];let y=!1;if(!De(r)){const T=N=>{y=!0;const[M,D]=uh(N,o,!0);vt(v,M),D&&b.push(...D)};!s&&o.mixins.length&&o.mixins.forEach(T),r.extends&&T(r.extends),r.mixins&&r.mixins.forEach(T)}if(!h&&!y)return lt(r)&&u.set(r,wi),wi;if(Le(h))for(let T=0;T<h.length;T++){const N=Hr(h[T]);$f(N)&&(v[N]=Ve)}else if(h)for(const T in h){const N=Hr(T);if($f(N)){const M=h[T],D=v[N]=Le(M)||De(M)?{type:M}:vt({},M);if(D){const I=tc(Boolean,D.type),H=tc(String,D.type);D[0]=I>-1,D[1]=H<0||I<H,(I>-1||We(D,"default"))&&b.push(N)}}}const w=[v,b];return lt(r)&&u.set(r,w),w}function $f(r){return r[0]!=="$"}function Vf(r){const o=r&&r.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:r===null?"null":""}function ec(r,o){return Vf(r)===Vf(o)}function tc(r,o){return Le(o)?o.findIndex(s=>ec(s,r)):De(o)&&ec(o,r)?0:-1}const fh=r=>r[0]==="_"||r==="$stable",Ma=r=>Le(r)?r.map(Pr):[Pr(r)],Tv=(r,o,s)=>{if(o._n)return o;const u=jg((...c)=>Ma(o(...c)),s);return u._c=!1,u},ch=(r,o,s)=>{const u=r._ctx;for(const c in r){if(fh(c))continue;const h=r[c];if(De(h))o[c]=Tv(c,h,u);else if(h!=null){const v=Ma(h);o[c]=()=>v}}},hh=(r,o)=>{const s=Ma(o);r.slots.default=()=>s},Lv=(r,o)=>{if(r.vnode.shapeFlag&32){const s=o._;s?(r.slots=ze(o),vo(o,"_",s)):ch(o,r.slots={})}else r.slots={},o&&hh(r,o);vo(r.slots,_o,1)},Mv=(r,o,s)=>{const{vnode:u,slots:c}=r;let h=!0,v=Ve;if(u.shapeFlag&32){const b=o._;b?s&&b===1?h=!1:(vt(c,o),!s&&b===1&&delete c._):(h=!o.$stable,ch(o,c)),v=o}else o&&(hh(r,o),v={default:1});if(h)for(const b in c)!fh(b)&&!(b in v)&&delete c[b]};function ra(r,o,s,u,c=!1){if(Le(r)){r.forEach((M,D)=>ra(M,o&&(Le(o)?o[D]:o),s,u,c));return}if(hl(u)&&!c)return;const h=u.shapeFlag&4?Po(u.component)||u.component.proxy:u.el,v=c?null:h,{i:b,r:y}=r,w=o&&o.r,T=b.refs===Ve?b.refs={}:b.refs,N=b.setupState;if(w!=null&&w!==y&&(pt(w)?(T[w]=null,We(N,w)&&(N[w]=null)):Et(w)&&(w.value=null)),De(y))mn(y,b,12,[v,T]);else{const M=pt(y),D=Et(y);if(M||D){const I=()=>{if(r.f){const H=M?We(N,y)?N[y]:T[y]:y.value;c?Le(H)&&ca(H,h):Le(H)?H.includes(h)||H.push(h):M?(T[y]=[h],We(N,y)&&(N[y]=T[y])):(y.value=[h],r.k&&(T[r.k]=y.value))}else M?(T[y]=v,We(N,y)&&(N[y]=v)):D&&(y.value=v,r.k&&(T[r.k]=v))};v?(I.id=-1,er(I,s)):I()}}}const er=Zg;function Ev(r){return Av(r)}function Av(r,o){const s=Ks();s.__VUE__=!0;const{insert:u,remove:c,patchProp:h,createElement:v,createText:b,createComment:y,setText:w,setElementText:T,parentNode:N,nextSibling:M,setScopeId:D=Lr,insertStaticContent:I}=r,H=(k,A,R,K=null,U=null,Z=null,re=!1,J=null,j=!!A.dynamicChildren)=>{if(k===A)return;k&&!Hn(k,A)&&(K=be(k),Tt(k,U,Z,!0),k=null),A.patchFlag===-2&&(j=!1,A.dynamicChildren=null);const{type:G,ref:ge,shapeFlag:fe}=A;switch(G){case Io:ie(k,A,R,K);break;case cr:he(k,A,R,K);break;case Hs:k==null&&q(A,R,K,re);break;case Mt:ue(k,A,R,K,U,Z,re,J,j);break;default:fe&1?oe(k,A,R,K,U,Z,re,J,j):fe&6?F(k,A,R,K,U,Z,re,J,j):(fe&64||fe&128)&&G.process(k,A,R,K,U,Z,re,J,j,Pe)}ge!=null&&U&&ra(ge,k&&k.ref,Z,A||k,!A)},ie=(k,A,R,K)=>{if(k==null)u(A.el=b(A.children),R,K);else{const U=A.el=k.el;A.children!==k.children&&w(U,A.children)}},he=(k,A,R,K)=>{k==null?u(A.el=y(A.children||""),R,K):A.el=k.el},q=(k,A,R,K)=>{[k.el,k.anchor]=I(k.children,A,R,K,k.el,k.anchor)},ae=({el:k,anchor:A},R,K)=>{let U;for(;k&&k!==A;)U=M(k),u(k,R,K),k=U;u(A,R,K)},ee=({el:k,anchor:A})=>{let R;for(;k&&k!==A;)R=M(k),c(k),k=R;c(A)},oe=(k,A,R,K,U,Z,re,J,j)=>{re=re||A.type==="svg",k==null?Ae(A,R,K,U,Z,re,J,j):Ee(k,A,U,Z,re,J,j)},Ae=(k,A,R,K,U,Z,re,J)=>{let j,G;const{type:ge,props:fe,shapeFlag:pe,transition:xe,dirs:Oe}=k;if(j=k.el=v(k.type,Z,fe&&fe.is,fe),pe&8?T(j,k.children):pe&16&&V(k.children,j,null,K,U,Z&&ge!=="foreignObject",re,J),Oe&&In(k,null,K,"created"),Se(j,k,k.scopeId,re,K),fe){for(const He in fe)He!=="value"&&!ho(He)&&h(j,He,null,fe[He],Z,k.children,K,U,ye);"value"in fe&&h(j,"value",null,fe.value),(G=fe.onVnodeBeforeMount)&&_r(G,K,k)}Oe&&In(k,null,K,"beforeMount");const Fe=(!U||U&&!U.pendingBranch)&&xe&&!xe.persisted;Fe&&xe.beforeEnter(j),u(j,A,R),((G=fe&&fe.onVnodeMounted)||Fe||Oe)&&er(()=>{G&&_r(G,K,k),Fe&&xe.enter(j),Oe&&In(k,null,K,"mounted")},U)},Se=(k,A,R,K,U)=>{if(R&&D(k,R),K)for(let Z=0;Z<K.length;Z++)D(k,K[Z]);if(U){let Z=U.subTree;if(A===Z){const re=U.vnode;Se(k,re,re.scopeId,re.slotScopeIds,U.parent)}}},V=(k,A,R,K,U,Z,re,J,j=0)=>{for(let G=j;G<k.length;G++){const ge=k[G]=J?pn(k[G]):Pr(k[G]);H(null,ge,A,R,K,U,Z,re,J)}},Ee=(k,A,R,K,U,Z,re)=>{const J=A.el=k.el;let{patchFlag:j,dynamicChildren:G,dirs:ge}=A;j|=k.patchFlag&16;const fe=k.props||Ve,pe=A.props||Ve;let xe;R&&_n(R,!1),(xe=pe.onVnodeBeforeUpdate)&&_r(xe,R,A,k),ge&&In(A,k,R,"beforeUpdate"),R&&_n(R,!0);const Oe=U&&A.type!=="foreignObject";if(G?ke(k.dynamicChildren,G,J,R,K,Oe,Z):re||_e(k,A,J,null,R,K,Oe,Z,!1),j>0){if(j&16)Ke(J,A,fe,pe,R,K,U);else if(j&2&&fe.class!==pe.class&&h(J,"class",null,pe.class,U),j&4&&h(J,"style",fe.style,pe.style,U),j&8){const Fe=A.dynamicProps;for(let He=0;He<Fe.length;He++){const qe=Fe[He],Be=fe[qe],Bt=pe[qe];(Bt!==Be||qe==="value")&&h(J,qe,Be,Bt,U,k.children,R,K,ye)}}j&1&&k.children!==A.children&&T(J,A.children)}else!re&&G==null&&Ke(J,A,fe,pe,R,K,U);((xe=pe.onVnodeUpdated)||ge)&&er(()=>{xe&&_r(xe,R,A,k),ge&&In(A,k,R,"updated")},K)},ke=(k,A,R,K,U,Z,re)=>{for(let J=0;J<A.length;J++){const j=k[J],G=A[J],ge=j.el&&(j.type===Mt||!Hn(j,G)||j.shapeFlag&70)?N(j.el):R;H(j,G,ge,null,K,U,Z,re,!0)}},Ke=(k,A,R,K,U,Z,re)=>{if(R!==K){if(R!==Ve)for(const J in R)!ho(J)&&!(J in K)&&h(k,J,R[J],null,re,A.children,U,Z,ye);for(const J in K){if(ho(J))continue;const j=K[J],G=R[J];j!==G&&J!=="value"&&h(k,J,G,j,re,A.children,U,Z,ye)}"value"in K&&h(k,"value",R.value,K.value)}},ue=(k,A,R,K,U,Z,re,J,j)=>{const G=A.el=k?k.el:b(""),ge=A.anchor=k?k.anchor:b("");let{patchFlag:fe,dynamicChildren:pe,slotScopeIds:xe}=A;xe&&(J=J?J.concat(xe):xe),k==null?(u(G,R,K),u(ge,R,K),V(A.children,R,ge,U,Z,re,J,j)):fe>0&&fe&64&&pe&&k.dynamicChildren?(ke(k.dynamicChildren,pe,R,U,Z,re,J),(A.key!=null||U&&A===U.subTree)&&Ea(k,A,!0)):_e(k,A,R,ge,U,Z,re,J,j)},F=(k,A,R,K,U,Z,re,J,j)=>{A.slotScopeIds=J,k==null?A.shapeFlag&512?U.ctx.activate(A,R,K,re,j):se(A,R,K,U,Z,re,j):L(k,A,j)},se=(k,A,R,K,U,Z,re)=>{const J=k.component=jv(k,K,U);if(Sl(k)&&(J.ctx.renderer=Pe),Kv(J),J.asyncDep){if(U&&U.registerDep(J,Xe),!k.el){const j=J.subTree=W(cr);he(null,j,A,R)}return}Xe(J,k,A,R,U,Z,re)},L=(k,A,R)=>{const K=A.component=k.component;if(Gg(k,A,R))if(K.asyncDep&&!K.asyncResolved){Re(K,A,R);return}else K.next=A,Bg(K.update),K.update();else A.el=k.el,K.vnode=A},Xe=(k,A,R,K,U,Z,re)=>{const J=()=>{if(k.isMounted){let{next:ge,bu:fe,u:pe,parent:xe,vnode:Oe}=k,Fe=ge,He;_n(k,!1),ge?(ge.el=Oe.el,Re(k,ge,re)):ge=Oe,fe&&Is(fe),(He=ge.props&&ge.props.onVnodeBeforeUpdate)&&_r(He,xe,ge,Oe),_n(k,!0);const qe=_s(k),Be=k.subTree;k.subTree=qe,H(Be,qe,N(Be.el),be(Be),k,U,Z),ge.el=qe.el,Fe===null&&Yg(k,qe.el),pe&&er(pe,U),(He=ge.props&&ge.props.onVnodeUpdated)&&er(()=>_r(He,xe,ge,Oe),U)}else{let ge;const{el:fe,props:pe}=A,{bm:xe,m:Oe,parent:Fe}=k,He=hl(A);if(_n(k,!1),xe&&Is(xe),!He&&(ge=pe&&pe.onVnodeBeforeMount)&&_r(ge,Fe,A),_n(k,!0),fe&&Ce){const qe=()=>{k.subTree=_s(k),Ce(fe,k.subTree,k,U,null)};He?A.type.__asyncLoader().then(()=>!k.isUnmounted&&qe()):qe()}else{const qe=k.subTree=_s(k);H(null,qe,R,K,k,U,Z),A.el=qe.el}if(Oe&&er(Oe,U),!He&&(ge=pe&&pe.onVnodeMounted)){const qe=A;er(()=>_r(ge,Fe,qe),U)}(A.shapeFlag&256||Fe&&hl(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&k.a&&er(k.a,U),k.isMounted=!0,A=R=K=null}},j=k.effect=new ga(J,()=>Oo(G),k.scope),G=k.update=()=>j.run();G.id=k.uid,_n(k,!0),G()},Re=(k,A,R)=>{A.component=k;const K=k.vnode.props;k.vnode=A,k.next=null,kv(k,A.props,K,R),Mv(k,A.children,R),Ei(),Kf(),Ai()},_e=(k,A,R,K,U,Z,re,J,j=!1)=>{const G=k&&k.children,ge=k?k.shapeFlag:0,fe=A.children,{patchFlag:pe,shapeFlag:xe}=A;if(pe>0){if(pe&128){kt(G,fe,R,K,U,Z,re,J,j);return}else if(pe&256){Qe(G,fe,R,K,U,Z,re,J,j);return}}xe&8?(ge&16&&ye(G,U,Z),fe!==G&&T(R,fe)):ge&16?xe&16?kt(G,fe,R,K,U,Z,re,J,j):ye(G,U,Z,!0):(ge&8&&T(R,""),xe&16&&V(fe,R,K,U,Z,re,J,j))},Qe=(k,A,R,K,U,Z,re,J,j)=>{k=k||wi,A=A||wi;const G=k.length,ge=A.length,fe=Math.min(G,ge);let pe;for(pe=0;pe<fe;pe++){const xe=A[pe]=j?pn(A[pe]):Pr(A[pe]);H(k[pe],xe,R,null,U,Z,re,J,j)}G>ge?ye(k,U,Z,!0,!1,fe):V(A,R,K,U,Z,re,J,j,fe)},kt=(k,A,R,K,U,Z,re,J,j)=>{let G=0;const ge=A.length;let fe=k.length-1,pe=ge-1;for(;G<=fe&&G<=pe;){const xe=k[G],Oe=A[G]=j?pn(A[G]):Pr(A[G]);if(Hn(xe,Oe))H(xe,Oe,R,null,U,Z,re,J,j);else break;G++}for(;G<=fe&&G<=pe;){const xe=k[fe],Oe=A[pe]=j?pn(A[pe]):Pr(A[pe]);if(Hn(xe,Oe))H(xe,Oe,R,null,U,Z,re,J,j);else break;fe--,pe--}if(G>fe){if(G<=pe){const xe=pe+1,Oe=xe<ge?A[xe].el:K;for(;G<=pe;)H(null,A[G]=j?pn(A[G]):Pr(A[G]),R,Oe,U,Z,re,J,j),G++}}else if(G>pe)for(;G<=fe;)Tt(k[G],U,Z,!0),G++;else{const xe=G,Oe=G,Fe=new Map;for(G=Oe;G<=pe;G++){const st=A[G]=j?pn(A[G]):Pr(A[G]);st.key!=null&&Fe.set(st.key,G)}let He,qe=0;const Be=pe-Oe+1;let Bt=!1,ir=0;const Zt=new Array(Be);for(G=0;G<Be;G++)Zt[G]=0;for(G=xe;G<=fe;G++){const st=k[G];if(qe>=Be){Tt(st,U,Z,!0);continue}let Jt;if(st.key!=null)Jt=Fe.get(st.key);else for(He=Oe;He<=pe;He++)if(Zt[He-Oe]===0&&Hn(st,A[He])){Jt=He;break}Jt===void 0?Tt(st,U,Z,!0):(Zt[Jt-Oe]=G+1,Jt>=ir?ir=Jt:Bt=!0,H(st,A[Jt],R,null,U,Z,re,J,j),qe++)}const Er=Bt?Ov(Zt):wi;for(He=Er.length-1,G=Be-1;G>=0;G--){const st=Oe+G,Jt=A[st],Ie=st+1<ge?A[st+1].el:K;Zt[G]===0?H(null,Jt,R,Ie,U,Z,re,J,j):Bt&&(He<0||G!==Er[He]?At(Jt,R,Ie,2):He--)}}},At=(k,A,R,K,U=null)=>{const{el:Z,type:re,transition:J,children:j,shapeFlag:G}=k;if(G&6){At(k.component.subTree,A,R,K);return}if(G&128){k.suspense.move(A,R,K);return}if(G&64){re.move(k,A,R,Pe);return}if(re===Mt){u(Z,A,R);for(let fe=0;fe<j.length;fe++)At(j[fe],A,R,K);u(k.anchor,A,R);return}if(re===Hs){ae(k,A,R);return}if(K!==2&&G&1&&J)if(K===0)J.beforeEnter(Z),u(Z,A,R),er(()=>J.enter(Z),U);else{const{leave:fe,delayLeave:pe,afterLeave:xe}=J,Oe=()=>u(Z,A,R),Fe=()=>{fe(Z,()=>{Oe(),xe&&xe()})};pe?pe(Z,Oe,Fe):Fe()}else u(Z,A,R)},Tt=(k,A,R,K=!1,U=!1)=>{const{type:Z,props:re,ref:J,children:j,dynamicChildren:G,shapeFlag:ge,patchFlag:fe,dirs:pe}=k;if(J!=null&&ra(J,null,R,k,!0),ge&256){A.ctx.deactivate(k);return}const xe=ge&1&&pe,Oe=!hl(k);let Fe;if(Oe&&(Fe=re&&re.onVnodeBeforeUnmount)&&_r(Fe,A,k),ge&6)ft(k.component,R,K);else{if(ge&128){k.suspense.unmount(R,K);return}xe&&In(k,null,A,"beforeUnmount"),ge&64?k.type.remove(k,A,R,U,Pe,K):G&&(Z!==Mt||fe>0&&fe&64)?ye(G,A,R,!1,!0):(Z===Mt&&fe&384||!U&&ge&16)&&ye(j,A,R),K&&Pt(k)}(Oe&&(Fe=re&&re.onVnodeUnmounted)||xe)&&er(()=>{Fe&&_r(Fe,A,k),xe&&In(k,null,A,"unmounted")},R)},Pt=k=>{const{type:A,el:R,anchor:K,transition:U}=k;if(A===Mt){nr(R,K);return}if(A===Hs){ee(k);return}const Z=()=>{c(R),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(k.shapeFlag&1&&U&&!U.persisted){const{leave:re,delayLeave:J}=U,j=()=>re(R,Z);J?J(k.el,Z,j):j()}else Z()},nr=(k,A)=>{let R;for(;k!==A;)R=M(k),c(k),k=R;c(A)},ft=(k,A,R)=>{const{bum:K,scope:U,update:Z,subTree:re,um:J}=k;K&&Is(K),U.stop(),Z&&(Z.active=!1,Tt(re,k,A,R)),J&&er(J,A),er(()=>{k.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ye=(k,A,R,K=!1,U=!1,Z=0)=>{for(let re=Z;re<k.length;re++)Tt(k[re],A,R,K,U)},be=k=>k.shapeFlag&6?be(k.component.subTree):k.shapeFlag&128?k.suspense.next():M(k.anchor||k.el),Me=(k,A,R)=>{k==null?A._vnode&&Tt(A._vnode,null,null,!0):H(A._vnode||null,k,A,null,null,null,R),Kf(),Xc(),A._vnode=k},Pe={p:H,um:Tt,m:At,r:Pt,mt:se,mc:V,pc:_e,pbc:ke,n:be,o:r};let Xt,Ce;return o&&([Xt,Ce]=o(Pe)),{render:Me,hydrate:Xt,createApp:Sv(Me,Xt)}}function _n({effect:r,update:o},s){r.allowRecurse=o.allowRecurse=s}function Ea(r,o,s=!1){const u=r.children,c=o.children;if(Le(u)&&Le(c))for(let h=0;h<u.length;h++){const v=u[h];let b=c[h];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=c[h]=pn(c[h]),b.el=v.el),s||Ea(v,b)),b.type===Io&&(b.el=v.el)}}function Ov(r){const o=r.slice(),s=[0];let u,c,h,v,b;const y=r.length;for(u=0;u<y;u++){const w=r[u];if(w!==0){if(c=s[s.length-1],r[c]<w){o[u]=c,s.push(u);continue}for(h=0,v=s.length-1;h<v;)b=h+v>>1,r[s[b]]<w?h=b+1:v=b;w<r[s[h]]&&(h>0&&(o[u]=s[h-1]),s[h]=u)}}for(h=s.length,v=s[h-1];h-- >0;)s[h]=v,v=o[v];return s}const Nv=r=>r.__isTeleport,pl=r=>r&&(r.disabled||r.disabled===""),rc=r=>typeof SVGElement<"u"&&r instanceof SVGElement,na=(r,o)=>{const s=r&&r.to;return pt(s)?o?o(s):null:s},Dv={__isTeleport:!0,process(r,o,s,u,c,h,v,b,y,w){const{mc:T,pc:N,pbc:M,o:{insert:D,querySelector:I,createText:H,createComment:ie}}=w,he=pl(o.props);let{shapeFlag:q,children:ae,dynamicChildren:ee}=o;if(r==null){const oe=o.el=H(""),Ae=o.anchor=H("");D(oe,s,u),D(Ae,s,u);const Se=o.target=na(o.props,I),V=o.targetAnchor=H("");Se&&(D(V,Se),v=v||rc(Se));const Ee=(ke,Ke)=>{q&16&&T(ae,ke,Ke,c,h,v,b,y)};he?Ee(s,Ae):Se&&Ee(Se,V)}else{o.el=r.el;const oe=o.anchor=r.anchor,Ae=o.target=r.target,Se=o.targetAnchor=r.targetAnchor,V=pl(r.props),Ee=V?s:Ae,ke=V?oe:Se;if(v=v||rc(Ae),ee?(M(r.dynamicChildren,ee,Ee,c,h,v,b),Ea(r,o,!0)):y||N(r,o,Ee,ke,c,h,v,b,!1),he)V||uo(o,s,oe,w,1);else if((o.props&&o.props.to)!==(r.props&&r.props.to)){const Ke=o.target=na(o.props,I);Ke&&uo(o,Ke,null,w,0)}else V&&uo(o,Ae,Se,w,1)}dh(o)},remove(r,o,s,u,{um:c,o:{remove:h}},v){const{shapeFlag:b,children:y,anchor:w,targetAnchor:T,target:N,props:M}=r;if(N&&h(T),(v||!pl(M))&&(h(w),b&16))for(let D=0;D<y.length;D++){const I=y[D];c(I,o,s,!0,!!I.dynamicChildren)}},move:uo,hydrate:Iv};function uo(r,o,s,{o:{insert:u},m:c},h=2){h===0&&u(r.targetAnchor,o,s);const{el:v,anchor:b,shapeFlag:y,children:w,props:T}=r,N=h===2;if(N&&u(v,o,s),(!N||pl(T))&&y&16)for(let M=0;M<w.length;M++)c(w[M],o,s,2);N&&u(b,o,s)}function Iv(r,o,s,u,c,h,{o:{nextSibling:v,parentNode:b,querySelector:y}},w){const T=o.target=na(o.props,y);if(T){const N=T._lpa||T.firstChild;if(o.shapeFlag&16)if(pl(o.props))o.anchor=w(v(r),o,b(r),s,u,c,h),o.targetAnchor=N;else{o.anchor=v(r);let M=N;for(;M;)if(M=v(M),M&&M.nodeType===8&&M.data==="teleport anchor"){o.targetAnchor=M,T._lpa=o.targetAnchor&&v(o.targetAnchor);break}w(N,o,T,s,u,c,h)}dh(o)}return o.anchor&&v(o.anchor)}const _v=Dv;function dh(r){const o=r.ctx;if(o&&o.ut){let s=r.children[0].el;for(;s!==r.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",o.uid),s=s.nextSibling;o.ut()}}const Mt=Symbol.for("v-fgt"),Io=Symbol.for("v-txt"),cr=Symbol.for("v-cmt"),Hs=Symbol.for("v-stc"),gl=[];let Tr=null;function ph(r=!1){gl.push(Tr=r?null:[])}function Pv(){gl.pop(),Tr=gl[gl.length-1]||null}let xl=1;function nc(r){xl+=r}function Rv(r){return r.dynamicChildren=xl>0?Tr||wi:null,Pv(),xl>0&&Tr&&Tr.push(r),r}function gh(r,o,s,u,c){return Rv(W(r,o,s,u,c,!0))}function xn(r){return r?r.__v_isVNode===!0:!1}function Hn(r,o){return r.type===o.type&&r.key===o.key}const _o="__vInternal",vh=({key:r})=>r??null,go=({ref:r,ref_key:o,ref_for:s})=>(typeof r=="number"&&(r=""+r),r!=null?pt(r)||Et(r)||De(r)?{i:_t,r,k:o,f:!!s}:r:null);function Fv(r,o=null,s=null,u=0,c=null,h=r===Mt?0:1,v=!1,b=!1){const y={__v_isVNode:!0,__v_skip:!0,type:r,props:o,key:o&&vh(o),ref:o&&go(o),scopeId:Qc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:u,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:_t};return b?(Aa(y,s),h&128&&r.normalize(y)):s&&(y.shapeFlag|=pt(s)?8:16),xl>0&&!v&&Tr&&(y.patchFlag>0||h&6)&&y.patchFlag!==32&&Tr.push(y),y}const W=Hv;function Hv(r,o=null,s=null,u=0,c=null,h=!1){if((!r||r===hv)&&(r=cr),xn(r)){const b=wn(r,o,!0);return s&&Aa(b,s),xl>0&&!h&&Tr&&(b.shapeFlag&6?Tr[Tr.indexOf(r)]=b:Tr.push(b)),b.patchFlag|=-2,b}if(Zv(r)&&(r=r.__vccOpts),o){o=Bv(o);let{class:b,style:y}=o;b&&!pt(b)&&(o.class=Eo(b)),lt(y)&&(zc(y)&&!Le(y)&&(y=vt({},y)),o.style=Mo(y))}const v=pt(r)?1:Xg(r)?128:Nv(r)?64:lt(r)?4:De(r)?2:0;return Fv(r,o,s,u,c,v,h,!0)}function Bv(r){return r?zc(r)||_o in r?vt({},r):r:null}function wn(r,o,s=!1){const{props:u,ref:c,patchFlag:h,children:v}=r,b=o?Ti(u||{},o):u;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:b,key:b&&vh(b),ref:o&&o.ref?s&&c?Le(c)?c.concat(go(o)):[c,go(o)]:go(o):c,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:v,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:o&&r.type!==Mt?h===-1?16:h|16:h,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&wn(r.ssContent),ssFallback:r.ssFallback&&wn(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function tr(r=" ",o=0){return W(Io,null,r,o)}function Wv(r="",o=!1){return o?(ph(),gh(cr,null,r)):W(cr,null,r)}function Pr(r){return r==null||typeof r=="boolean"?W(cr):Le(r)?W(Mt,null,r.slice()):typeof r=="object"?pn(r):W(Io,null,String(r))}function pn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:wn(r)}function Aa(r,o){let s=0;const{shapeFlag:u}=r;if(o==null)o=null;else if(Le(o))s=16;else if(typeof o=="object")if(u&65){const c=o.default;c&&(c._c&&(c._d=!1),Aa(r,c()),c._c&&(c._d=!0));return}else{s=32;const c=o._;!c&&!(_o in o)?o._ctx=_t:c===3&&_t&&(_t.slots._===1?o._=1:(o._=2,r.patchFlag|=1024))}else De(o)?(o={default:o,_ctx:_t},s=32):(o=String(o),u&64?(s=16,o=[tr(o)]):s=8);r.children=o,r.shapeFlag|=s}function Ti(...r){const o={};for(let s=0;s<r.length;s++){const u=r[s];for(const c in u)if(c==="class")o.class!==u.class&&(o.class=Eo([o.class,u.class]));else if(c==="style")o.style=Mo([o.style,u.style]);else if(Co(c)){const h=o[c],v=u[c];v&&h!==v&&!(Le(h)&&h.includes(v))&&(o[c]=h?[].concat(h,v):v)}else c!==""&&(o[c]=u[c])}return o}function _r(r,o,s,u=null){fr(r,o,7,[s,u])}const zv=sh();let Uv=0;function jv(r,o,s){const u=r.type,c=(o?o.appContext:r.appContext)||zv,h={uid:Uv++,vnode:r,type:u,parent:o,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new $p(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uh(u,c),emitsOptions:Jc(u,c),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:u.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=o?o.root:h,h.emit=Ug.bind(null,h),r.ce&&r.ce(h),h}let Ct=null;const Oa=()=>Ct||_t;let Na,bi,ic="__VUE_INSTANCE_SETTERS__";(bi=Ks()[ic])||(bi=Ks()[ic]=[]),bi.push(r=>Ct=r),Na=r=>{bi.length>1?bi.forEach(o=>o(r)):bi[0](r)};const Li=r=>{Na(r),r.scope.on()},Un=()=>{Ct&&Ct.scope.off(),Na(null)};function mh(r){return r.vnode.shapeFlag&4}let Mi=!1;function Kv(r,o=!1){Mi=o;const{props:s,children:u}=r.vnode,c=mh(r);Cv(r,s,c,o),Lv(r,u);const h=c?qv(r,o):void 0;return Mi=!1,h}function qv(r,o){const s=r.type;r.accessCache=Object.create(null),r.proxy=xa(new Proxy(r.ctx,gv));const{setup:u}=s;if(u){const c=r.setupContext=u.length>1?Yv(r):null;Li(r),Ei();const h=mn(u,r,0,[r.props,c]);if(Ai(),Un(),Mc(h)){if(h.then(Un,Un),o)return h.then(v=>{lc(r,v,o)}).catch(v=>{wl(v,r,0)});r.asyncDep=h}else lc(r,h,o)}else yh(r,o)}function lc(r,o,s){De(o)?r.type.__ssrInlineRender?r.ssrRender=o:r.render=o:lt(o)&&(r.setupState=qc(o)),yh(r,s)}let oc;function yh(r,o,s){const u=r.type;if(!r.render){if(!o&&oc&&!u.render){const c=u.template||Ta(r).template;if(c){const{isCustomElement:h,compilerOptions:v}=r.appContext.config,{delimiters:b,compilerOptions:y}=u,w=vt(vt({isCustomElement:h,delimiters:b},v),y);u.render=oc(c,w)}}r.render=u.render||Lr}Li(r),Ei(),vv(r),Ai(),Un()}function Gv(r){return r.attrsProxy||(r.attrsProxy=new Proxy(r.attrs,{get(o,s){return rr(r,"get","$attrs"),o[s]}}))}function Yv(r){const o=s=>{r.exposed=s||{}};return{get attrs(){return Gv(r)},slots:r.slots,emit:r.emit,expose:o}}function Po(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(qc(xa(r.exposed)),{get(o,s){if(s in o)return o[s];if(s in dl)return dl[s](r)},has(o,s){return s in o||s in dl}}))}function Xv(r,o=!0){return De(r)?r.displayName||r.name:r.name||o&&r.__name}function Zv(r){return De(r)&&"__vccOpts"in r}const Br=(r,o)=>Rg(r,o,Mi);function Cl(r,o,s){const u=arguments.length;return u===2?lt(o)&&!Le(o)?xn(o)?W(r,null,[o]):W(r,o):W(r,null,o):(u>3?s=Array.prototype.slice.call(arguments,2):u===3&&xn(s)&&(s=[s]),W(r,o,s))}const Jv=Symbol.for("v-scx"),Qv=()=>Fr(Jv),$v="3.3.4",Vv="http://www.w3.org/2000/svg",Bn=typeof document<"u"?document:null,sc=Bn&&Bn.createElement("template"),em={insert:(r,o,s)=>{o.insertBefore(r,s||null)},remove:r=>{const o=r.parentNode;o&&o.removeChild(r)},createElement:(r,o,s,u)=>{const c=o?Bn.createElementNS(Vv,r):Bn.createElement(r,s?{is:s}:void 0);return r==="select"&&u&&u.multiple!=null&&c.setAttribute("multiple",u.multiple),c},createText:r=>Bn.createTextNode(r),createComment:r=>Bn.createComment(r),setText:(r,o)=>{r.nodeValue=o},setElementText:(r,o)=>{r.textContent=o},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Bn.querySelector(r),setScopeId(r,o){r.setAttribute(o,"")},insertStaticContent(r,o,s,u,c,h){const v=s?s.previousSibling:o.lastChild;if(c&&(c===h||c.nextSibling))for(;o.insertBefore(c.cloneNode(!0),s),!(c===h||!(c=c.nextSibling)););else{sc.innerHTML=u?`<svg>${r}</svg>`:r;const b=sc.content;if(u){const y=b.firstChild;for(;y.firstChild;)b.appendChild(y.firstChild);b.removeChild(y)}o.insertBefore(b,s)}return[v?v.nextSibling:o.firstChild,s?s.previousSibling:o.lastChild]}};function tm(r,o,s){const u=r._vtc;u&&(o=(o?[o,...u]:[...u]).join(" ")),o==null?r.removeAttribute("class"):s?r.setAttribute("class",o):r.className=o}function rm(r,o,s){const u=r.style,c=pt(s);if(s&&!c){if(o&&!pt(o))for(const h in o)s[h]==null&&ia(u,h,"");for(const h in s)ia(u,h,s[h])}else{const h=u.display;c?o!==s&&(u.cssText=s):o&&r.removeAttribute("style"),"_vod"in r&&(u.display=h)}}const ac=/\s*!important$/;function ia(r,o,s){if(Le(s))s.forEach(u=>ia(r,o,u));else if(s==null&&(s=""),o.startsWith("--"))r.setProperty(o,s);else{const u=nm(r,o);ac.test(s)?r.setProperty(jn(u),s.replace(ac,""),"important"):r[u]=s}}const uc=["Webkit","Moz","ms"],Bs={};function nm(r,o){const s=Bs[o];if(s)return s;let u=Hr(o);if(u!=="filter"&&u in r)return Bs[o]=u;u=Lo(u);for(let c=0;c<uc.length;c++){const h=uc[c]+u;if(h in r)return Bs[o]=h}return o}const fc="http://www.w3.org/1999/xlink";function im(r,o,s,u,c){if(u&&o.startsWith("xlink:"))s==null?r.removeAttributeNS(fc,o.slice(6,o.length)):r.setAttributeNS(fc,o,s);else{const h=Zp(o);s==null||h&&!Ec(s)?r.removeAttribute(o):r.setAttribute(o,h?"":s)}}function lm(r,o,s,u,c,h,v){if(o==="innerHTML"||o==="textContent"){u&&v(u,c,h),r[o]=s??"";return}const b=r.tagName;if(o==="value"&&b!=="PROGRESS"&&!b.includes("-")){r._value=s;const w=b==="OPTION"?r.getAttribute("value"):r.value,T=s??"";w!==T&&(r.value=T),s==null&&r.removeAttribute(o);return}let y=!1;if(s===""||s==null){const w=typeof r[o];w==="boolean"?s=Ec(s):s==null&&w==="string"?(s="",y=!0):w==="number"&&(s=0,y=!0)}try{r[o]=s}catch{}y&&r.removeAttribute(o)}function om(r,o,s,u){r.addEventListener(o,s,u)}function sm(r,o,s,u){r.removeEventListener(o,s,u)}function am(r,o,s,u,c=null){const h=r._vei||(r._vei={}),v=h[o];if(u&&v)v.value=u;else{const[b,y]=um(o);if(u){const w=h[o]=hm(u,c);om(r,b,w,y)}else v&&(sm(r,b,v,y),h[o]=void 0)}}const cc=/(?:Once|Passive|Capture)$/;function um(r){let o;if(cc.test(r)){o={};let u;for(;u=r.match(cc);)r=r.slice(0,r.length-u[0].length),o[u[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):jn(r.slice(2)),o]}let Ws=0;const fm=Promise.resolve(),cm=()=>Ws||(fm.then(()=>Ws=0),Ws=Date.now());function hm(r,o){const s=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=s.attached)return;fr(dm(u,s.value),o,5,[u])};return s.value=r,s.attached=cm(),s}function dm(r,o){if(Le(o)){const s=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{s.call(r),r._stopped=!0},o.map(u=>c=>!c._stopped&&u&&u(c))}else return o}const hc=/^on[a-z]/,pm=(r,o,s,u,c=!1,h,v,b,y)=>{o==="class"?tm(r,u,c):o==="style"?rm(r,s,u):Co(o)?fa(o)||am(r,o,s,u,v):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):gm(r,o,u,c))?lm(r,o,u,h,v,b,y):(o==="true-value"?r._trueValue=u:o==="false-value"&&(r._falseValue=u),im(r,o,u,c))};function gm(r,o,s,u){return u?!!(o==="innerHTML"||o==="textContent"||o in r&&hc.test(o)&&De(s)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&r.tagName==="INPUT"||o==="type"&&r.tagName==="TEXTAREA"||hc.test(o)&&pt(s)?!1:o in r}const hn="transition",al="animation",Oi=(r,{slots:o})=>Cl(Vg,vm(r),o);Oi.displayName="Transition";const bh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Oi.props=vt({},eh,bh);const Pn=(r,o=[])=>{Le(r)?r.forEach(s=>s(...o)):r&&r(...o)},dc=r=>r?Le(r)?r.some(o=>o.length>1):r.length>1:!1;function vm(r){const o={};for(const ue in r)ue in bh||(o[ue]=r[ue]);if(r.css===!1)return o;const{name:s="v",type:u,duration:c,enterFromClass:h=`${s}-enter-from`,enterActiveClass:v=`${s}-enter-active`,enterToClass:b=`${s}-enter-to`,appearFromClass:y=h,appearActiveClass:w=v,appearToClass:T=b,leaveFromClass:N=`${s}-leave-from`,leaveActiveClass:M=`${s}-leave-active`,leaveToClass:D=`${s}-leave-to`}=r,I=mm(c),H=I&&I[0],ie=I&&I[1],{onBeforeEnter:he,onEnter:q,onEnterCancelled:ae,onLeave:ee,onLeaveCancelled:oe,onBeforeAppear:Ae=he,onAppear:Se=q,onAppearCancelled:V=ae}=o,Ee=(ue,F,se)=>{Rn(ue,F?T:b),Rn(ue,F?w:v),se&&se()},ke=(ue,F)=>{ue._isLeaving=!1,Rn(ue,N),Rn(ue,D),Rn(ue,M),F&&F()},Ke=ue=>(F,se)=>{const L=ue?Se:q,Xe=()=>Ee(F,ue,se);Pn(L,[F,Xe]),pc(()=>{Rn(F,ue?y:h),dn(F,ue?T:b),dc(L)||gc(F,u,H,Xe)})};return vt(o,{onBeforeEnter(ue){Pn(he,[ue]),dn(ue,h),dn(ue,v)},onBeforeAppear(ue){Pn(Ae,[ue]),dn(ue,y),dn(ue,w)},onEnter:Ke(!1),onAppear:Ke(!0),onLeave(ue,F){ue._isLeaving=!0;const se=()=>ke(ue,F);dn(ue,N),xm(),dn(ue,M),pc(()=>{ue._isLeaving&&(Rn(ue,N),dn(ue,D),dc(ee)||gc(ue,u,ie,se))}),Pn(ee,[ue,se])},onEnterCancelled(ue){Ee(ue,!1),Pn(ae,[ue])},onAppearCancelled(ue){Ee(ue,!0),Pn(V,[ue])},onLeaveCancelled(ue){ke(ue),Pn(oe,[ue])}})}function mm(r){if(r==null)return null;if(lt(r))return[zs(r.enter),zs(r.leave)];{const o=zs(r);return[o,o]}}function zs(r){return Up(r)}function dn(r,o){o.split(/\s+/).forEach(s=>s&&r.classList.add(s)),(r._vtc||(r._vtc=new Set)).add(o)}function Rn(r,o){o.split(/\s+/).forEach(u=>u&&r.classList.remove(u));const{_vtc:s}=r;s&&(s.delete(o),s.size||(r._vtc=void 0))}function pc(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let ym=0;function gc(r,o,s,u){const c=r._endId=++ym,h=()=>{c===r._endId&&u()};if(s)return setTimeout(h,s);const{type:v,timeout:b,propCount:y}=bm(r,o);if(!v)return u();const w=v+"end";let T=0;const N=()=>{r.removeEventListener(w,M),h()},M=D=>{D.target===r&&++T>=y&&N()};setTimeout(()=>{T<y&&N()},b+1),r.addEventListener(w,M)}function bm(r,o){const s=window.getComputedStyle(r),u=I=>(s[I]||"").split(", "),c=u(`${hn}Delay`),h=u(`${hn}Duration`),v=vc(c,h),b=u(`${al}Delay`),y=u(`${al}Duration`),w=vc(b,y);let T=null,N=0,M=0;o===hn?v>0&&(T=hn,N=v,M=h.length):o===al?w>0&&(T=al,N=w,M=y.length):(N=Math.max(v,w),T=N>0?v>w?hn:al:null,M=T?T===hn?h.length:y.length:0);const D=T===hn&&/\b(transform|all)(,|$)/.test(u(`${hn}Property`).toString());return{type:T,timeout:N,propCount:M,hasTransform:D}}function vc(r,o){for(;r.length<o.length;)r=r.concat(r);return Math.max(...o.map((s,u)=>mc(s)+mc(r[u])))}function mc(r){return Number(r.slice(0,-1).replace(",","."))*1e3}function xm(){return document.body.offsetHeight}const wm=vt({patchProp:pm},em);let yc;function Sm(){return yc||(yc=Ev(wm))}const Cm=(...r)=>{const o=Sm().createApp(...r),{mount:s}=o;return o.mount=u=>{const c=km(u);if(!c)return;const h=o._component;!De(h)&&!h.render&&!h.template&&(h.template=c.innerHTML),c.innerHTML="";const v=s(c,!1,c instanceof SVGElement);return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),v},o};function km(r){return pt(r)?document.querySelector(r):r}const Tm="modulepreload",Lm=function(r){return"/Drawer/"+r},bc={},Mm=function(o,s,u){if(!s||s.length===0)return o();const c=document.getElementsByTagName("link");return Promise.all(s.map(h=>{if(h=Lm(h),h in bc)return;bc[h]=!0;const v=h.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(!!u)for(let T=c.length-1;T>=0;T--){const N=c[T];if(N.href===h&&(!v||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${b}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":Tm,v||(w.as="script",w.crossOrigin=""),w.href=h,document.head.appendChild(w),v)return new Promise((T,N)=>{w.addEventListener("load",T),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})})).then(()=>o()).catch(h=>{const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=h,window.dispatchEvent(v),!v.defaultPrevented)throw h})};const xh=ot({name:"Icon",props:{icon:{type:String,required:!0},scale:{type:[Number,String]},color:{type:String},variant:{type:String},rotate:{type:[Number,String]}},setup(r,o){const s=Br(()=>{const u={},c=[];return r.scale&&c.push(`scale(${r.scale})`),r.color&&(u.color=r.color),r.rotate&&c.push(`rotate(${r.rotate}deg)`),u.transform=c.join(" "),u.transformOrigin="center",u});return()=>W("svg",{class:["as-icon",r.variant&&`text-${r.variant}`],fill:"currentColor",viewBox:"0 0 24 24",style:s.value},[W("g",{style:s.value},[W("path",{d:r.icon},null),W("rect",{width:"24",height:"24",fill:"transparent"},null)])])}});let Em=ev(()=>Mm(()=>import("./vue-router-f7f76aaf.js"),[]).then(r=>r.RouterLink)),Mr;(function(r){r.STYLE={variant:{type:String},flat:{type:Boolean},textual:{type:Boolean},clear:{type:Boolean},small:{type:Boolean},disabled:{type:Boolean},plain:{type:Boolean},shadow:{type:Boolean},selected:{type:Boolean}},r.FUNCTION={href:{type:String},to:{type:null},replace:{type:Boolean},submit:{type:Boolean},nativeProps:{type:Object},label:{type:String},icon:{type:String},forceFocus:{type:Boolean},nativeElement:{type:String,default:"button"}},r.GROUP_SYMBOL=Symbol.for("vue3gui.buttonGroup");function o(s){const u=Fr(Mr.GROUP_SYMBOL,void 0);return Br(()=>(s==null?void 0:s.value)||(u==null?void 0:u.props.disabled)||!1)}r.useDisabled=o})(Mr||(Mr={}));const dr=ot({name:"Button",emits:{click:r=>!0,mouseDown:r=>!0},props:{...Mr.STYLE,...Mr.FUNCTION},setup(r,o){const s=Fr(Mr.GROUP_SYMBOL,void 0);return()=>{const u=s==null?void 0:s.props,c=r.plain||(u==null?void 0:u.plain),h=r.disabled||(u==null?void 0:u.disabled),v=r.selected||(u==null?void 0:u.selected),b=v?"primary":r.variant??(u==null?void 0:u.variant)??"secondary",y=r.clear||(u==null?void 0:u.clear),w=r.flat||(u==null?void 0:u.flat),T=r.textual||(u==null?void 0:u.textual),N=r.small||(u==null?void 0:u.small),M=r.shadow||(u==null?void 0:u.shadow);return Cl(r.href?"a":r.to?Em:r.nativeElement,{...r.nativeProps,class:!c&&["as-button",!h&&!y&&!T&&"as-clickable",...y?["flat",!h&&"as-clickable",v&&"bg-primary-translucent"]:[w&&"flat",T?"textual flat":`bg-${b}`],N&&"small",M&&"as-clickable-shadow",r.forceFocus&&"force-focus"],...r.href?{href:r.href}:r.to?{to:r.to}:r.submit?{type:"submit"}:{type:"button"},...h?{disabled:!0}:{},...r.replace?{replace:!0}:{},onClick:D=>{D.stopPropagation(),o.emit("click",D)},onMousedown:D=>{D.stopPropagation(),o.emit("mouseDown",D)}},{default:r.label||r.icon?()=>{var D,I;return[r.icon&&W(xh,{icon:r.icon},null),r.label&&r.icon&&" ",(I=(D=o.slots).default)==null?void 0:I.call(D),r.label]}:o.slots.default??(()=>"")})}}}),wh=Object.keys(Mr.STYLE);wh.push("class","style");({...Mr.STYLE});const Sh=ot({name:"LoadingIndicator",props:{inline:{type:Boolean},prewarm:{type:Boolean}},setup(r,o){return()=>W("div",{class:["as-loading-indicator",r.inline&&"inline",r.prewarm&&"prewarm"]},[W("div",null,null),W("div",null,null),W("div",null,null)])}});function Am(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!xn(r)}let So;(function(r){const o=r.BASE_PROPS={variant:{type:String},noTransition:{type:Boolean},fill:{type:Boolean},transition:{type:String},debounce:{type:Boolean}},s=r.PROPS={...o,show:{type:Boolean,required:!1}};r.EXTENDED_PROPS={...s,fullScreen:{type:Boolean},overlayClass:{type:null},tag:{type:String,default:()=>"div"},loading:{type:Boolean}}})(So||(So={}));const Da=ot({name:"Overlay",props:So.EXTENDED_PROPS,emits:{backdropClick:()=>!0},setup(r,o){const s=dt();let u;if(r.debounce){let h=null;u=dt(!1),Je(()=>r.show,v=>{if(v){if(h!=null)return;h=setTimeout(()=>{u.value=!0},100)}else h!=null&&(clearTimeout(h),h=null),u.value=!1},{immediate:!0})}else u=Ig(r,"show");const c=h=>W(Oi,{name:r.noTransition?void 0:r.transition??"as-transition-fade"},{default:()=>[u.value&&W("div",{ref:s,onClick:v=>v.target==s.value&&o.emit("backdropClick"),style:"pointer-events: auto; z-index: 20",class:[r.overlayClass,"flex",r.variant!="clear"&&`bg-${r.variant??"black"}-transparent`,r.fill?"column p-2":"center",r.fullScreen?"as-fullscreen-overlay as-reset":"absolute-fill"]},[(h==null?void 0:h())??(r.loading?W(Sh,null,null):null)])]});return()=>{var v,b;let h;return r.fullScreen?W(_v,{to:Da.fullScreenTarget},Am(h=c(o.slots.default))?h:{default:()=>[h]}):Cl(r.tag,{},[(b=(v=o.slots).default)==null?void 0:b.call(v),c(o.slots.overlay)])}}});Da.fullScreenTarget="body";const Om=ot({name:"Modal",props:{...So.PROPS,background:{type:String},cancelButton:{type:[Boolean,String]},okButton:{type:[Boolean,String]},backdropCancels:{type:null,default:null},ignoreEnter:{type:Boolean},contentClass:{type:null},noDefaultStyle:{type:Boolean},contain:{type:Boolean}},inheritAttrs:!1,emits:{cancel:()=>!0,ok:()=>!0,mounted:r=>!0},setup(r,o){const s=Br(()=>{const{background:y,cancelButton:w,okButton:T,backdropCancels:N,contentClass:M,noDefaultStyle:D,ignoreEnter:I,contain:H,...ie}=r;return ie}),u=Br(()=>{if(r.backdropCancels===!0)return!0;if(r.backdropCancels==null)return!!r.cancelButton;if(r.backdropCancels===!1)return!1}),c=Oa();if(c){const y=c.root;y.__v3g_modalStack==null&&(y.__v3g_modalStack={stack:[],handled:!1});const w=y.__v3g_modalStack,T=N=>{var D,I;if(w.handled||((I=(D=N.target)==null?void 0:D.tagName)==null?void 0:I.toLowerCase())=="textarea"||w.handled||c!=w.stack[w.stack.length-1])return;const M=N.code=="Enter"||N.code=="NumpadEnter";if(!r.ignoreEnter&&(r.okButton&&M||u.value&&(N.code=="Escape"||M))){if(N.target instanceof HTMLInputElement&&N.target.form!=null)return;w.handled=!0,M?o.emit("ok"):o.emit("cancel"),N.preventDefault(),N.stopPropagation(),setTimeout(()=>{w.handled=!1},10);return}};Je(()=>r.show,(N,M)=>{if(N==M)return;const D=w.stack.indexOf(c);if(N){if(D!=-1)throw new Error("Duplicate addition of modal on stack");window.addEventListener("keydown",T),w.stack.push(c)}else{if(D==-1)return;window.removeEventListener("keydown",T),w.stack.splice(D,1)}},{immediate:!0}),yn(()=>{})}let h=!1;function v(y){h||(o.emit("mounted",y),h=!0)}const b=()=>o.emit("cancel");return()=>W(Da,Ti({onBackdropClick:()=>u.value&&o.emit("cancel")},s.value,{fullScreen:!0}),{default:()=>[W(Oi,{name:s.value.noTransition?void 0:s.value.transition??"as-transition-shrink",appear:!0},{default:()=>{var y,w,T,N,M,D;return[W("div",Ti({class:[r.background?`bg-${r.background}`:"bg-default",!r.noDefaultStyle&&"p-2 w-min-200 h-min-100 as-reset rounded w-max-fill",r.fill&&"flex-fill",r.contain&&"as-overlay-contain"]},o.attrs,{ref:v}),[W("div",{class:["flex-fill flex column",r.contentClass]},[(w=(y=o.slots).default)==null?void 0:w.call(y)]),(r.okButton||r.cancelButton)&&W("div",{class:"flex row"},[(N=(T=o.slots).buttonsLeft)==null?void 0:N.call(T),W("div",{class:"flex-fill"},null),(D=(M=o.slots).buttons)==null?void 0:D.call(M,b),r.okButton&&W(dr,{class:"text-primary",variant:"primary",onClick:()=>{o.emit("ok")},clear:!0},{default:()=>[typeof r.okButton=="string"?r.okButton:"OK"]}),r.cancelButton&&W(dr,{onClick:b,clear:!0},{default:()=>[typeof r.cancelButton=="string"?r.cancelButton:"Cancel"]})])])]}})]})}});function Nm(r={}){let o=null;const s=hr({element:null,props:{show:r.show??!1,onCancel:()=>{s.close(!1)},onOk:()=>{s.okBlocked||s.close(!0)},onMounted:u=>{var c;s.element=u,(c=r==null?void 0:r.onMounted)==null||c.call(r,u)}},open:()=>new Promise(u=>{o=u,s.props.show=!0}),okBlocked:!1,close:(u=!1)=>{s.props.show=!1,o==null||o(u),o=null}});return s}const Dm={error:()=>W("div",{class:"w-5-em h-5-em bg-danger circle flex center user-select-none"},[W("b",null,[tr("!")])]),done:()=>W("div",{class:"w-2-em h-2-em bg-success circle"},null),working:()=>W(Sh,{prewarm:!0,inline:!0},null)},Ch=ot({name:"StateCard",props:{state:{type:Object},error:{type:Boolean},working:{type:Boolean},done:{type:Boolean},textClass:{type:null}},setup(r,o){const s=Br(()=>{var u;return r.done?"done":r.error?"error":r.working?"working":((u=r.state)==null?void 0:u.type)??"working"});return()=>{var u,c,h;return W("div",{class:"flex row"},[W("div",{class:"flex-basis-5-em flex column center-cross"},[W(Oi,{name:"as-transition-fade",mode:"default"},{default:()=>[W("div",{key:s.value,class:"absolute-fill flex column center-cross"},[W("div",{class:"w-5-em h-5-em flex center"},[Dm[s.value]()])])]})]),tr(" "),W("div",{class:[s.value=="error"&&"text-danger",r.textClass]},[((u=r.state)==null?void 0:u.text)??((h=(c=o.slots).default)==null?void 0:h.call(c))])])}}});function Im(){return hr({type:"working",text:"Loading...",error(r){return this.type="error",this.text=r,this},done(r){return this.type="done",this.text=r,this},working(r){return this.type="working",this.text=r,this}})}const _m=Im,Pm={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1},Rm=ot({name:"TextField",props:{modelValue:{type:String,default:""},type:{type:String,default:"text"},variant:{type:String},focus:{type:Boolean},autoResize:{type:Boolean},placeholder:{type:String},autocomplete:{type:String},clear:{type:Boolean},noIndicator:{type:Boolean},fieldProps:{type:Object},disabled:{type:Boolean},borderVariant:{type:String},plain:{type:Boolean},label:{type:String},alwaysHighlight:{type:Boolean},pattern:{type:String},error:{type:String},validate:{type:null},validator:{type:Function},errorOverride:{type:String},min:{type:[Number,String]},max:{type:[Number,String]},step:{type:[Number,String]},explicit:{type:Boolean},required:{type:Boolean}},emits:{"update:modelValue":r=>!0,input:r=>!0,confirm:r=>!0,change:r=>!0,blur:()=>!0,focus:()=>!0,errorChanged:(r,o)=>!0},setup(r,o){var he;const s=jm(),u=dt(r.modelValue),c=dt();let h=null;const v=dt(""),b=Br(()=>r.error??v.value);o.expose({input:c}),qn(()=>{r.explicit||(r.focus&&c.value.focus(),"computedStyleMap"in c.value&&(h=c.value.computedStyleMap()),setTimeout(()=>{r.autoResize&&c.value&&w()},10),r.validate=="always"&&T())}),Je(()=>r.modelValue,q=>{u.value=q,r.autoResize&&w()});let y=null;const w=()=>{const ae=c.value.parentElement;y||(y=document.createElement("span"),y.classList.add("nowrap")),y.innerText=u.value||r.placeholder||"0",h!=null&&(y.style.fontSize=h.get("font-size"),y.style.padding=h.get("padding")),ae.appendChild(y);const ee=y.getBoundingClientRect().width;ae.removeChild(y),ae.style.width=`${ee+5}px`};function T(){if(c.value==null){v.value="",o.emit("errorChanged",v.value,Pm);return}let q=c.value.validationMessage;const ae={...c.value.validity,customError:!1};if(r.validator){const ee=r.validator(u.value);ee&&(q=ee,ae.customError=!0)}q?v.value=r.errorOverride??q:v.value="",o.emit("errorChanged",v.value,ae)}Je(u,(q,ae)=>{q!=ae&&(r.explicit||(o.emit("update:modelValue",q),o.emit("input",q)),r.validate&&T(),r.autoResize&&w())}),Je(()=>r.autoResize,q=>q&&w());function N(q){const ae=q.target.value;ae!=u.value&&(u.value=ae)}function M(q){N(q),!r.explicit&&(q.code=="Enter"||q.code=="NumpadEnter")&&(o.emit("confirm",u.value),o.emit("change",u.value))}const D=(he=Fr(Mr.GROUP_SYMBOL,void 0))==null?void 0:he.props,I=()=>{var V,Ee;const q=r.alwaysHighlight||b.value!="",ae=b.value!=""?"danger":r.variant??"highlight",ee=r.label!=null||b.value!=""||r.validate,oe=ee&&(!!r.label||b.value!=""),Ae=b.value||r.label,Se=r.disabled||(D==null?void 0:D.disabled);return W("div",{class:["flex row as-text-field",!r.clear&&!r.plain&&"border-bottom",r.borderVariant&&`border-${r.borderVariant}`,r.plain&&"-plain",oe&&"-show-label",q&&"-always"],style:[r.plain||ee?`--text-field-color: var(--bg-${ae})`:""]},[W("input",Ti({type:r.type,onKeydown:M,onInput:N,value:u.value,onBlur:()=>{!r.explicit&&o.emit("change",u.value),o.emit("blur")},onFocus:()=>o.emit("focus"),class:"flex-fill",ref:c,size:1,placeholder:r.placeholder,autocomplete:r.autocomplete,disabled:Se,pattern:r.pattern,min:r.min,max:r.max,step:r.step,required:r.required},r.fieldProps),null),(Ee=(V=o.slots).default)==null?void 0:Ee.call(V),!r.noIndicator&&!r.disabled&&!r.plain&&W("div",{class:["focus-indicator",`border-${ae}`]},null),ee&&W("div",{class:["-label",`text-${ae}`]},[Ae])])},H=Sa();function ie(q){if(H.value==null)return;const ee=H.value.$el.getBoundingClientRect(),oe=s.popup(H.value,{render:I},{align:"over",contentProps:{style:`width: ${ee.width}px`},props:{backdropCancels:!0,class:"shadow",style:{marginLeft:"calc(-1 * var(--size-int))",marginTop:"calc(-1 * var(--size-int))"}},onMounted(){setTimeout(()=>{var Se;(Se=c.value)==null||Se.focus()},100),r.validate&&Kn(T)}}),Ae=Je(b,Se=>{Se==""?oe.controller.okBlocked=!1:oe.controller.okBlocked=!0});oe.then(Se=>{Se?(o.emit("update:modelValue",u.value),o.emit("input",u.value),o.emit("change",u.value),o.emit("confirm",u.value)):u.value=r.modelValue}).finally(()=>{Ae()})}return()=>r.explicit?W(dr,{class:"text-left",clear:!0,onClick:ie,ref:H},{default:()=>[W("span",{class:"absolute-fill p-1 nowrap overflow-ellipsis"},[u.value||(r.placeholder?W("span",{class:"muted"},[r.placeholder]):" ")]),tr(" ")]}):I()}});function Fm(r,{delay:o=500,intermediateUpdates:s=!1,onChanged:u,...c}={}){let h=0;const v=dt(r.value);let b;return Je(r,y=>{o<=0?(u==null||u(y),v.value=y):s?h==0&&(b=y,h=setTimeout(()=>{u==null||u(y),v.value=b,h=0},o)):(clearTimeout(h),h=setTimeout(()=>{u==null||u(y),v.value=y,h=0},o))},{...c}),Object.assign(v,{updateNow(){clearTimeout(h),v.value=r.value,u==null||u(r.value)}}),v}function Hm(r){if(!r)return"Internal error";if(r.response)if(r.response.data)if(typeof r.response.data=="string")try{r=new DOMParser().parseFromString(r.response.data,"text/html").querySelector("body").innerText}catch{}else typeof r.response.data=="object"&&(r=r.response.data);else r.response.statusText&&(r=r.response.statusText);return r.err&&(r=r.err),r.error&&(r=r.error),r.message&&(r=r.message),r.startsWith("Server Error:")&&(r=r.slice(13)),r.trim()}function Us(...r){if(r.length==1){const[o]=r;yn(()=>o.remove())}else if(r[0]=="interval"){const[,o,s]=r,u=setInterval(s,o);yn(()=>{clearInterval(u)})}else{const[o,s,u,c]=r;o.addEventListener(s,u,c),yn(()=>o.removeEventListener(s,u))}}const gn=self.window==null?null:hr({width:window.innerWidth,height:window.innerHeight});gn!=null&&window.addEventListener("resize",()=>{gn.height=window.innerHeight,gn.width=window.innerWidth});function kh(r,o={}){if(gn==null)throw new Error("Cannot useResizeWatcher because there is no window (self.window == undefined)");return Je(()=>gn,()=>{r==null||r(gn)},{deep:!0}),o.immediate&&qn(()=>r==null?void 0:r(gn)),gn}function la(r){return r==null?[]:typeof r=="string"||typeof r=="number"||typeof r=="boolean"?[r]:r instanceof Array?r.flatMap(la):xn(r)?r.type==Mt?la(r.children):[r]:[]}const Bm={};function Th(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!xn(r)}let Wm=0;const zm=ot({name:"ButtonDefinitionRenderer",props:{definition:{type:Array,required:!0},close:{type:null,required:!0}},setup(r){return()=>r.definition.map(({callback:o,label:s,variant:u},c)=>W(dr,{clear:!0,onClick:()=>o(r.close),variant:u,class:[!!u&&`text-${u}`],key:c},Th(s)?s:{default:()=>[s]}))}}),Ia=Symbol("dynamicsEmitter"),xc=ot({name:"AlertPopup",props:{state:{type:String},content:{type:null,required:!0}},setup(r){const o=Br(()=>typeof r.content!="function"?()=>W(Mt,null,[r.content]):r.content);return()=>W("div",{class:"mb-5 mt-5 ml-2 mr-4"},[r.state?W("div",{class:"flex row"},[W("h3",{class:"m-0 mb-3 mr-7"},[W(Ch,{state:{text:"",type:r.state}},null)]),W("div",{class:r.state=="error"&&"text-danger"},[W(o.value,null,null)])]):W(o.value,null,null)])}});function Um(r){const o=hr({modal(s,u={}){const c=Nm({onMounted:u.onMounted}),h={content:typeof s=="object"?xa(s):s,controller:c,props:u.props??{},id:Wm++,buttons:u.buttons??[],contentProps:u.contentProps};this.modals.push(h);const v=c.open();return v.controller=c,v.finally(()=>{this.modals.splice(this.modals.indexOf(h),1)}),v},genericModal(s,u={}){const c={cancel:()=>h.controller.close(!1),submit:()=>h.controller.close(!0),resultFactory:()=>{throw new Error("Result factory was not set")},controller:null};if("value"in s){const b=s;c.resultFactory=()=>b.value,s=()=>b.render(b.value,c)}const h=this.modal(s,{...u,contentProps:{handle:c,...u.contentProps}});c.controller=h.controller;const v=h.then(b=>b?c.resultFactory():null);return v.controller=h.controller,v},prompt(s={}){const u=dt(s.initialValue??""),c=new Promise(h=>{const v=ot({name:"Prompt",setup:()=>{let y=null;if(s.verifier){s.verifierOptional||(b.controller.okBlocked=!0);const w=Fm(u,{delay:s.verifierDebounce});y=_m();let T=!1,N=!1;const M=()=>{if(T){N=!0;return}const D=s.verifier(w.value,y);D instanceof Promise&&(T=!0,D.then(()=>{T=!1,N&&M(),N=!1}))};Je(w,M,{immediate:!0}),Je(u,()=>s.verifierDebounce&&s.verifierDebounce>0&&y.working("Waiting for input")),Je(()=>y.type,D=>{s.verifierOptional||(b.controller.okBlocked=D!="done")},{immediate:!0})}return()=>W(Mt,null,[W("div",{class:"mb-3"},[s.title??"Enter value"]),W(Rm,{focus:!0,modelValue:u.value,onInput:w=>u.value=w},null),y&&W(Ch,{class:"mt-3",state:y},null)])}}),b=this.modal(v,{...s,props:{okButton:!0,cancelButton:s.cancelable??!0,...s.props}});b.then(y=>h(y?u.value:null))});return Object.assign(c,{result:u})},listPrompt(s,u={}){return new Promise(c=>{const h=dt(null),v=s.map(w=>{var T;return{label:((T=u.label)==null?void 0:T.call(u,w))??w.toString(),value:w}}).map(w=>({value:w.value,label:typeof w.label=="string"?[w.label]:w.label})),b=ot({name:"ListPrompt",setup:()=>()=>W(Mt,null,[W("div",{class:"mb-3"},[u.title??"Select value"]),W("div",{class:["border rounder scroll contain w-500 h-500 flex column","bg-default"]},[v.map(({label:w,value:T})=>{let N;return W(dr,{onClick:()=>{h.value=T,y.controller.close(!0)},clear:!0,class:"text-left flex row"},Th(N=w.map(M=>W("div",{class:"flex-fill"},[M])))?N:{default:()=>[N]})})])])}),y=this.modal(b,{...u,props:{cancelButton:u.cancelable??!0,...u.props}});y.then(w=>c(w?h.value:null))})},alert(s,u={}){const c=u.error?"error":u.state;return this.modal(xc,{...u,props:{cancelButton:!0,...u.props},contentProps:{content:s,state:c,...u.props}})},confirm(s,u={}){return this.alert(s,{...u,props:{okButton:!0,...u.props}})},work(s="",u={}){const c=hr({message:s,done:null}),{controller:h}=this.modal(xc,{...u,contentProps:{content:Br(()=>c.message),state:"working",...u.contentProps}});return c.done=()=>h.close(),c},modals:[],popup(s,u,c={}){var v;const h={};if("$el"in s||s instanceof HTMLElement){const b=("$el"in s?s.$el:s).getBoundingClientRect();let y=0,w=0;typeof c.align=="object"&&({offsetX:y,offsetY:w}=c.align,c.align="over");const[T,N]=(c.align??"bottom-left").split("-");T=="right"||T=="left"?(N=="down"?h.top=b.top+"px":h.bottom=window.innerHeight-b.bottom+"px",T=="right"?h.left=b.right+"px":h.right=window.innerWidth-b.left+"px"):T=="top"||T=="bottom"?(N=="right"?h.left=b.left+"px":h.right=window.innerWidth-b.right+"px",T=="bottom"?h.top=b.bottom+"px":h.bottom=window.innerHeight-b.top+"px"):T=="over"&&(h.left=b.left+y+"px",h.top=b.top+w+"px")}else h.left=s.x+"px",h.top=s.y+"px";return this.modal(u,{...c,props:{variant:"clear",...c.props,style:{position:"absolute",...h,minWidth:"unset",minHeight:"unset",...((v=c.props)==null?void 0:v.style)!=null&&typeof c.props.style=="object"?c.props.style:void 0}}})},menu(s,u,c={}){let h;if(s instanceof HTMLElement){const b=s.getBoundingClientRect();h={x:b.x,y:b.y+b.height}}else if("x"in s&&"y"in s)h=s;else{const b=s.$el.getBoundingClientRect();h={x:b.x,y:b.y+b.height}}return this.modal(u,{...c,props:{variant:"clear",style:{position:"absolute",minWidth:"unset",minHeight:"unset",left:`${h.x}px`,top:`${h.y}px`},...c.props,noTransition:!0},onMounted(b){Kn(()=>{const y=b.getBoundingClientRect();y.x+y.width>window.innerWidth&&(b.style.left=`${h.x-y.width}px`),y.y+y.height>window.innerHeight&&(b.style.top=`${h.y-y.height}px`)})}})}});return r(Ia,o),o}function jm(){const r=Fr(Ia);if(!r)throw new Error("No dynamics emitter provided");return r}const Km=ot({name:"DynamicsEmitter",setup(r,o){if(Fr(Ia,null))throw new Error("Multiple dynamics emitters");const s=Um((u,c)=>La(u,c));return()=>W(Mt,null,[o.slots.default?Cl(o.slots.default,{key:"main"}):null,s.modals.map(u=>W(Om,Ti(u.props,u.controller.props,{key:u.id}),{default:()=>typeof u.content=="string"?u.content:W(u.content,u.contentProps,null),buttons:()=>u.buttons&&W(zm,{definition:u.buttons,close:(c=!1)=>u.controller.close(c)},null)}))])}});var qm="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",Gm="M20 4H4A2 2 0 0 0 2 6V18A2 2 0 0 0 4 20H20A2 2 0 0 0 22 18V6A2 2 0 0 0 20 4M20 18H9V6H20Z",Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var js={exports:{}},wc;function _a(){return wc||(wc=1,function(r,o){(function(s,u){r.exports=u()})(Ym,function(){var s=navigator.userAgent,u=navigator.platform,c=/gecko\/\d/i.test(s),h=/MSIE \d/.test(s),v=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(s),b=/Edge\/(\d+)/.exec(s),y=h||v||b,w=y&&(h?document.documentMode||6:+(b||v)[1]),T=!b&&/WebKit\//.test(s),N=T&&/Qt\/\d+\.\d+/.test(s),M=!b&&/Chrome\/(\d+)/.exec(s),D=M&&+M[1],I=/Opera\//.test(s),H=/Apple Computer/.test(navigator.vendor),ie=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(s),he=/PhantomJS/.test(s),q=H&&(/Mobile\/\w+/.test(s)||navigator.maxTouchPoints>2),ae=/Android/.test(s),ee=q||ae||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(s),oe=q||/Mac/.test(u),Ae=/\bCrOS\b/.test(s),Se=/win/i.test(u),V=I&&s.match(/Version\/(\d*\.\d*)/);V&&(V=Number(V[1])),V&&V>=15&&(I=!1,T=!0);var Ee=oe&&(N||I&&(V==null||V<12.11)),ke=c||y&&w>=9;function Ke(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var ue=function(e,t){var i=e.className,n=Ke(t).exec(i);if(n){var l=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(l?n[1]+l:"")}};function F(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function se(e,t){return F(e).appendChild(t)}function L(e,t,i,n){var l=document.createElement(e);if(i&&(l.className=i),n&&(l.style.cssText=n),typeof t=="string")l.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)l.appendChild(t[a]);return l}function Xe(e,t,i,n){var l=L(e,t,i,n);return l.setAttribute("role","presentation"),l}var Re;document.createRange?Re=function(e,t,i,n){var l=document.createRange();return l.setEnd(n||e,i),l.setStart(e,t),l}:Re=function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};function _e(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function Qe(e){var t=e.ownerDocument||e,i;try{i=e.activeElement}catch{i=t.body||null}for(;i&&i.shadowRoot&&i.shadowRoot.activeElement;)i=i.shadowRoot.activeElement;return i}function kt(e,t){var i=e.className;Ke(t).test(i)||(e.className+=(i?" ":"")+t)}function At(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!Ke(i[n]).test(t)&&(t+=" "+i[n]);return t}var Tt=function(e){e.select()};q?Tt=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:y&&(Tt=function(e){try{e.select()}catch{}});function Pt(e){return e.display.wrapper.ownerDocument}function nr(e){return ft(e.display.wrapper)}function ft(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function ye(e){return Pt(e).defaultView}function be(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Me(e,t,i){t||(t={});for(var n in e)e.hasOwnProperty(n)&&(i!==!1||!t.hasOwnProperty(n))&&(t[n]=e[n]);return t}function Pe(e,t,i,n,l){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var a=n||0,f=l||0;;){var d=e.indexOf("	",a);if(d<0||d>=t)return f+(t-a);f+=d-a,f+=i-f%i,a=d+1}}var Xt=function(){this.id=null,this.f=null,this.time=0,this.handler=be(this.onTimeout,this)};Xt.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Xt.prototype.set=function(e,t){this.f=t;var i=+new Date+e;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=i)};function Ce(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}var k=50,A={toString:function(){return"CodeMirror.Pass"}},R={scroll:!1},K={origin:"*mouse"},U={origin:"+move"};function Z(e,t,i){for(var n=0,l=0;;){var a=e.indexOf("	",n);a==-1&&(a=e.length);var f=a-n;if(a==e.length||l+f>=t)return n+Math.min(f,t-l);if(l+=a-n,l+=i-l%i,n=a+1,l>=t)return n}}var re=[""];function J(e){for(;re.length<=e;)re.push(j(re)+" ");return re[e]}function j(e){return e[e.length-1]}function G(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function ge(e,t,i){for(var n=0,l=i(t);n<e.length&&i(e[n])<=l;)n++;e.splice(n,0,t)}function fe(){}function pe(e,t){var i;return Object.create?i=Object.create(e):(fe.prototype=e,i=new fe),t&&Me(t,i),i}var xe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Oe(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||xe.test(e))}function Fe(e,t){return t?t.source.indexOf("\\w")>-1&&Oe(e)?!0:t.test(e):Oe(e)}function He(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var qe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Be(e){return e.charCodeAt(0)>=768&&qe.test(e)}function Bt(e,t,i){for(;(i<0?t>0:t<e.length)&&Be(e.charAt(t));)t+=i;return t}function ir(e,t,i){for(var n=t>i?-1:1;;){if(t==i)return t;var l=(t+i)/2,a=n<0?Math.ceil(l):Math.floor(l);if(a==t)return e(a)?t:i;e(a)?i=a:t=a+n}}function Zt(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var l=!1,a=0;a<e.length;++a){var f=e[a];(f.from<i&&f.to>t||t==i&&f.to==t)&&(n(Math.max(f.from,t),Math.min(f.to,i),f.level==1?"rtl":"ltr",a),l=!0)}l||n(t,i,"ltr")}var Er=null;function st(e,t,i){var n;Er=null;for(var l=0;l<e.length;++l){var a=e[l];if(a.from<t&&a.to>t)return l;a.to==t&&(a.from!=a.to&&i=="before"?n=l:Er=l),a.from==t&&(a.from!=a.to&&i!="before"?n=l:Er=l)}return n??Er}var Jt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(g){return g<=247?e.charAt(g):1424<=g&&g<=1524?"R":1536<=g&&g<=1785?t.charAt(g-1536):1774<=g&&g<=2220?"r":8192<=g&&g<=8203?"w":g==8204?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,l=/[stwN]/,a=/[LRr]/,f=/[Lb1n]/,d=/[1n]/;function p(g,x,C){this.level=g,this.from=x,this.to=C}return function(g,x){var C=x=="ltr"?"L":"R";if(g.length==0||x=="ltr"&&!n.test(g))return!1;for(var O=g.length,E=[],P=0;P<O;++P)E.push(i(g.charCodeAt(P)));for(var z=0,X=C;z<O;++z){var Q=E[z];Q=="m"?E[z]=X:X=Q}for(var ne=0,$=C;ne<O;++ne){var le=E[ne];le=="1"&&$=="r"?E[ne]="n":a.test(le)&&($=le,le=="r"&&(E[ne]="R"))}for(var me=1,de=E[0];me<O-1;++me){var Ne=E[me];Ne=="+"&&de=="1"&&E[me+1]=="1"?E[me]="1":Ne==","&&de==E[me+1]&&(de=="1"||de=="n")&&(E[me]=de),de=Ne}for(var Ze=0;Ze<O;++Ze){var wt=E[Ze];if(wt==",")E[Ze]="N";else if(wt=="%"){var et=void 0;for(et=Ze+1;et<O&&E[et]=="%";++et);for(var Vt=Ze&&E[Ze-1]=="!"||et<O&&E[et]=="1"?"1":"N",Kt=Ze;Kt<et;++Kt)E[Kt]=Vt;Ze=et-1}}for(var ct=0,qt=C;ct<O;++ct){var Lt=E[ct];qt=="L"&&Lt=="1"?E[ct]="L":a.test(Lt)&&(qt=Lt)}for(var gt=0;gt<O;++gt)if(l.test(E[gt])){var ht=void 0;for(ht=gt+1;ht<O&&l.test(E[ht]);++ht);for(var it=(gt?E[gt-1]:C)=="L",Gt=(ht<O?E[ht]:C)=="L",mi=it==Gt?it?"L":"R":C,fn=gt;fn<ht;++fn)E[fn]=mi;gt=ht-1}for(var It=[],Ir,St=0;St<O;)if(f.test(E[St])){var As=St;for(++St;St<O&&f.test(E[St]);++St);It.push(new p(0,As,St))}else{var Yr=St,Nn=It.length,Dn=x=="rtl"?1:0;for(++St;St<O&&E[St]!="L";++St);for(var Ft=Yr;Ft<St;)if(d.test(E[Ft])){Yr<Ft&&(It.splice(Nn,0,new p(1,Yr,Ft)),Nn+=Dn);var yi=Ft;for(++Ft;Ft<St&&d.test(E[Ft]);++Ft);It.splice(Nn,0,new p(2,yi,Ft)),Nn+=Dn,Yr=Ft}else++Ft;Yr<St&&It.splice(Nn,0,new p(1,Yr,St))}return x=="ltr"&&(It[0].level==1&&(Ir=g.match(/^\s+/))&&(It[0].from=Ir[0].length,It.unshift(new p(0,0,Ir[0].length))),j(It).level==1&&(Ir=g.match(/\s+$/))&&(j(It).to-=Ir[0].length,It.push(new p(0,O-Ir[0].length,O)))),x=="rtl"?It.reverse():It}}();function Ie(e,t){var i=e.order;return i==null&&(i=e.order=Jt(e.text,t)),i}var kl=[],ve=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||kl).concat(i)}};function Wr(e,t){return e._handlers&&e._handlers[t]||kl}function Ot(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,l=n&&n[t];if(l){var a=Ce(l,i);a>-1&&(n[t]=l.slice(0,a).concat(l.slice(a+1)))}}}function tt(e,t){var i=Wr(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),l=0;l<i.length;++l)i[l].apply(null,n)}function rt(e,t,i){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),tt(e,i||t.type,e,t),Wt(t)||t.codemirrorIgnore}function sr(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)Ce(i,t[n])==-1&&i.push(t[n])}function Qt(e,t){return Wr(e,t).length>0}function pr(e){e.prototype.on=function(t,i){ve(this,t,i)},e.prototype.off=function(t,i){Ot(this,t,i)}}function Nt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Gn(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Wt(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function Qr(e){Nt(e),Gn(e)}function Ni(e){return e.target||e.srcElement}function gr(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),oe&&e.ctrlKey&&t==1&&(t=3),t}var Ro=function(){if(y&&w<9)return!1;var e=L("div");return"draggable"in e||"dragDrop"in e}(),Yn;function Tl(e){if(Yn==null){var t=L("span","​");se(e,L("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Yn=t.offsetWidth<=1&&t.offsetHeight>2&&!(y&&w<8))}var i=Yn?L("span","​"):L("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}var Di;function $r(e){if(Di!=null)return Di;var t=se(e,document.createTextNode("AخA")),i=Re(t,0,1).getBoundingClientRect(),n=Re(t,1,2).getBoundingClientRect();return F(e),!i||i.left==i.right?!1:Di=n.right-i.right<3}var ar=`

b`.split(/\n/).length!=3?function(e){for(var t=0,i=[],n=e.length;t<=n;){var l=e.indexOf(`
`,t);l==-1&&(l=e.length);var a=e.slice(t,e.charAt(l-1)=="\r"?l-1:l),f=a.indexOf("\r");f!=-1?(i.push(a.slice(0,f)),t+=f+1):(i.push(a),t=l+1)}return i}:function(e){return e.split(/\r\n?|\n/)},Vr=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},Ll=function(){var e=L("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),vr=null;function Fo(e){if(vr!=null)return vr;var t=se(e,L("span","x")),i=t.getBoundingClientRect(),n=Re(t,0,1).getBoundingClientRect();return vr=Math.abs(i.left-n.left)>1}var Xn={},mr={};function yr(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Xn[e]=t}function Sn(e,t){mr[e]=t}function Zn(e){if(typeof e=="string"&&mr.hasOwnProperty(e))e=mr[e];else if(e&&typeof e.name=="string"&&mr.hasOwnProperty(e.name)){var t=mr[e.name];typeof t=="string"&&(t={name:t}),e=pe(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Zn("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Zn("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Jn(e,t){t=Zn(t);var i=Xn[t.name];if(!i)return Jn(e,"text/plain");var n=i(e,t);if(en.hasOwnProperty(t.name)){var l=en[t.name];for(var a in l)l.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=l[a])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var f in t.modeProps)n[f]=t.modeProps[f];return n}var en={};function Qn(e,t){var i=en.hasOwnProperty(e)?en[e]:en[e]={};Me(t,i)}function Ar(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var l=t[n];l instanceof Array&&(l=l.concat([])),i[n]=l}return i}function Ii(e,t){for(var i;e.innerMode&&(i=e.innerMode(t),!(!i||i.mode==e));)t=i.state,e=i.mode;return i||{mode:e,state:t}}function $n(e,t,i){return e.startState?e.startState(t,i):!0}var nt=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};nt.prototype.eol=function(){return this.pos>=this.string.length},nt.prototype.sol=function(){return this.pos==this.lineStart},nt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},nt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},nt.prototype.eat=function(e){var t=this.string.charAt(this.pos),i;if(typeof e=="string"?i=t==e:i=t&&(e.test?e.test(t):e(t)),i)return++this.pos,t},nt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},nt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},nt.prototype.skipToEnd=function(){this.pos=this.string.length},nt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},nt.prototype.backUp=function(e){this.pos-=e},nt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Pe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},nt.prototype.indentation=function(){return Pe(this.string,null,this.tabSize)-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},nt.prototype.match=function(e,t,i){if(typeof e=="string"){var n=function(f){return i?f.toLowerCase():f},l=this.string.substr(this.pos,e.length);if(n(l)==n(e))return t!==!1&&(this.pos+=e.length),!0}else{var a=this.string.slice(this.pos).match(e);return a&&a.index>0?null:(a&&t!==!1&&(this.pos+=a[0].length),a)}},nt.prototype.current=function(){return this.string.slice(this.start,this.pos)},nt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},nt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},nt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function ce(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var l=i.children[n],a=l.chunkSize();if(t<a){i=l;break}t-=a}return i.lines[t]}function zr(e,t,i){var n=[],l=t.line;return e.iter(t.line,i.line+1,function(a){var f=a.text;l==i.line&&(f=f.slice(0,i.ch)),l==t.line&&(f=f.slice(t.ch)),n.push(f),++l}),n}function _i(e,t,i){var n=[];return e.iter(t,i,function(l){n.push(l.text)}),n}function lr(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function m(e){if(e.parent==null)return null;for(var t=e.parent,i=Ce(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var l=0;n.children[l]!=t;++l)i+=n.children[l].chunkSize();return i+t.first}function S(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var l=e.children[n],a=l.height;if(t<a){e=l;continue e}t-=a,i+=l.chunkSize()}return i}while(!e.lines);for(var f=0;f<e.lines.length;++f){var d=e.lines[f],p=d.height;if(t<p)break;t-=p}return i+f}function B(e,t){return t>=e.first&&t<e.first+e.size}function Y(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function _(e,t,i){if(i===void 0&&(i=null),!(this instanceof _))return new _(e,t,i);this.line=e,this.ch=t,this.sticky=i}function te(e,t){return e.line-t.line||e.ch-t.ch}function Ue(e,t){return e.sticky==t.sticky&&te(e,t)==0}function mt(e){return _(e.line,e.ch)}function zt(e,t){return te(e,t)<0?t:e}function Vn(e,t){return te(e,t)<0?e:t}function Ra(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function we(e,t){if(t.line<e.first)return _(e.first,0);var i=e.first+e.size-1;return t.line>i?_(i,ce(e,i).text.length):Nh(t,ce(e,t.line).text.length)}function Nh(e,t){var i=e.ch;return i==null||i>t?_(e.line,t):i<0?_(e.line,0):e}function Fa(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=we(e,t[n]);return i}var Ml=function(e,t){this.state=e,this.lookAhead=t},Or=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};Or.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Or.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Or.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Or.fromSaved=function(e,t,i){return t instanceof Ml?new Or(e,Ar(e.mode,t.state),i,t.lookAhead):new Or(e,Ar(e.mode,t),i)},Or.prototype.save=function(e){var t=e!==!1?Ar(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ml(t,this.maxLookAhead):t};function Ha(e,t,i,n){var l=[e.state.modeGen],a={};Ka(e,t.text,e.doc.mode,i,function(g,x){return l.push(g,x)},a,n);for(var f=i.state,d=function(g){i.baseTokens=l;var x=e.state.overlays[g],C=1,O=0;i.state=!0,Ka(e,t.text,x.mode,i,function(E,P){for(var z=C;O<E;){var X=l[C];X>E&&l.splice(C,1,E,l[C+1],X),C+=2,O=Math.min(E,X)}if(P)if(x.opaque)l.splice(z,C-z,E,"overlay "+P),C=z+2;else for(;z<C;z+=2){var Q=l[z+1];l[z+1]=(Q?Q+" ":"")+"overlay "+P}},a),i.state=f,i.baseTokens=null,i.baseTokenPos=1},p=0;p<e.state.overlays.length;++p)d(p);return{styles:l,classes:a.bgClass||a.textClass?a:null}}function Ba(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Pi(e,m(t)),l=t.text.length>e.options.maxHighlightLength&&Ar(e.doc.mode,n.state),a=Ha(e,t,n);l&&(n.state=l),t.stateAfter=n.save(!l),t.styles=a.styles,a.classes?t.styleClasses=a.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Pi(e,t,i){var n=e.doc,l=e.display;if(!n.mode.startState)return new Or(n,!0,t);var a=Dh(e,t,i),f=a>n.first&&ce(n,a-1).stateAfter,d=f?Or.fromSaved(n,f,a):new Or(n,$n(n.mode),a);return n.iter(a,t,function(p){Ho(e,p.text,d);var g=d.line;p.stateAfter=g==t-1||g%5==0||g>=l.viewFrom&&g<l.viewTo?d.save():null,d.nextLine()}),i&&(n.modeFrontier=d.line),d}function Ho(e,t,i,n){var l=e.doc.mode,a=new nt(t,e.options.tabSize,i);for(a.start=a.pos=n||0,t==""&&Wa(l,i.state);!a.eol();)Bo(l,a,i.state),a.start=a.pos}function Wa(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=Ii(e,t);if(i.mode.blankLine)return i.mode.blankLine(i.state)}}function Bo(e,t,i,n){for(var l=0;l<10;l++){n&&(n[0]=Ii(e,i).mode);var a=e.token(t,i);if(t.pos>t.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}var za=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function Ua(e,t,i,n){var l=e.doc,a=l.mode,f;t=we(l,t);var d=ce(l,t.line),p=Pi(e,t.line,i),g=new nt(d.text,e.options.tabSize,p),x;for(n&&(x=[]);(n||g.pos<t.ch)&&!g.eol();)g.start=g.pos,f=Bo(a,g,p.state),n&&x.push(new za(g,f,Ar(l.mode,p.state)));return n?x:new za(g,f,p.state)}function ja(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";t[n]==null?t[n]=i[2]:new RegExp("(?:^|\\s)"+i[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+i[2])}return e}function Ka(e,t,i,n,l,a,f){var d=i.flattenSpans;d==null&&(d=e.options.flattenSpans);var p=0,g=null,x=new nt(t,e.options.tabSize,n),C,O=e.options.addModeClass&&[null];for(t==""&&ja(Wa(i,n.state),a);!x.eol();){if(x.pos>e.options.maxHighlightLength?(d=!1,f&&Ho(e,t,n,x.pos),x.pos=t.length,C=null):C=ja(Bo(i,x,n.state,O),a),O){var E=O[0].name;E&&(C="m-"+(C?E+" "+C:E))}if(!d||g!=C){for(;p<x.start;)p=Math.min(x.start,p+5e3),l(p,g);g=C}x.start=x.pos}for(;p<x.pos;){var P=Math.min(x.pos,p+5e3);l(P,g),p=P}}function Dh(e,t,i){for(var n,l,a=e.doc,f=i?-1:t-(e.doc.mode.innerMode?1e3:100),d=t;d>f;--d){if(d<=a.first)return a.first;var p=ce(a,d-1),g=p.stateAfter;if(g&&(!i||d+(g instanceof Ml?g.lookAhead:0)<=a.modeFrontier))return d;var x=Pe(p.text,null,e.options.tabSize);(l==null||n>x)&&(l=d-1,n=x)}return l}function Ih(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;n>i;n--){var l=ce(e,n).stateAfter;if(l&&(!(l instanceof Ml)||n+l.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}var qa=!1,Ur=!1;function _h(){qa=!0}function Ph(){Ur=!0}function El(e,t,i){this.marker=e,this.from=t,this.to=i}function Ri(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function Rh(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function Fh(e,t,i){var n=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));n&&e.markedSpans&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function Hh(e,t,i){var n;if(e)for(var l=0;l<e.length;++l){var a=e[l],f=a.marker,d=a.from==null||(f.inclusiveLeft?a.from<=t:a.from<t);if(d||a.from==t&&f.type=="bookmark"&&(!i||!a.marker.insertLeft)){var p=a.to==null||(f.inclusiveRight?a.to>=t:a.to>t);(n||(n=[])).push(new El(f,a.from,p?null:a.to))}}return n}function Bh(e,t,i){var n;if(e)for(var l=0;l<e.length;++l){var a=e[l],f=a.marker,d=a.to==null||(f.inclusiveRight?a.to>=t:a.to>t);if(d||a.from==t&&f.type=="bookmark"&&(!i||a.marker.insertLeft)){var p=a.from==null||(f.inclusiveLeft?a.from<=t:a.from<t);(n||(n=[])).push(new El(f,p?null:a.from-t,a.to==null?null:a.to-t))}}return n}function Wo(e,t){if(t.full)return null;var i=B(e,t.from.line)&&ce(e,t.from.line).markedSpans,n=B(e,t.to.line)&&ce(e,t.to.line).markedSpans;if(!i&&!n)return null;var l=t.from.ch,a=t.to.ch,f=te(t.from,t.to)==0,d=Hh(i,l,f),p=Bh(n,a,f),g=t.text.length==1,x=j(t.text).length+(g?l:0);if(d)for(var C=0;C<d.length;++C){var O=d[C];if(O.to==null){var E=Ri(p,O.marker);E?g&&(O.to=E.to==null?null:E.to+x):O.to=l}}if(p)for(var P=0;P<p.length;++P){var z=p[P];if(z.to!=null&&(z.to+=x),z.from==null){var X=Ri(d,z.marker);X||(z.from=x,g&&(d||(d=[])).push(z))}else z.from+=x,g&&(d||(d=[])).push(z)}d&&(d=Ga(d)),p&&p!=d&&(p=Ga(p));var Q=[d];if(!g){var ne=t.text.length-2,$;if(ne>0&&d)for(var le=0;le<d.length;++le)d[le].to==null&&($||($=[])).push(new El(d[le].marker,null,null));for(var me=0;me<ne;++me)Q.push($);Q.push(p)}return Q}function Ga(e){for(var t=0;t<e.length;++t){var i=e[t];i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Wh(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(E){if(E.markedSpans)for(var P=0;P<E.markedSpans.length;++P){var z=E.markedSpans[P].marker;z.readOnly&&(!n||Ce(n,z)==-1)&&(n||(n=[])).push(z)}}),!n)return null;for(var l=[{from:t,to:i}],a=0;a<n.length;++a)for(var f=n[a],d=f.find(0),p=0;p<l.length;++p){var g=l[p];if(!(te(g.to,d.from)<0||te(g.from,d.to)>0)){var x=[p,1],C=te(g.from,d.from),O=te(g.to,d.to);(C<0||!f.inclusiveLeft&&!C)&&x.push({from:g.from,to:d.from}),(O>0||!f.inclusiveRight&&!O)&&x.push({from:d.to,to:g.to}),l.splice.apply(l,x),p+=x.length-3}}return l}function Ya(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Xa(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Al(e){return e.inclusiveLeft?-1:0}function Ol(e){return e.inclusiveRight?1:0}function zo(e,t){var i=e.lines.length-t.lines.length;if(i!=0)return i;var n=e.find(),l=t.find(),a=te(n.from,l.from)||Al(e)-Al(t);if(a)return-a;var f=te(n.to,l.to)||Ol(e)-Ol(t);return f||t.id-e.id}function Za(e,t){var i=Ur&&e.markedSpans,n;if(i)for(var l=void 0,a=0;a<i.length;++a)l=i[a],l.marker.collapsed&&(t?l.from:l.to)==null&&(!n||zo(n,l.marker)<0)&&(n=l.marker);return n}function Ja(e){return Za(e,!0)}function Nl(e){return Za(e,!1)}function zh(e,t){var i=Ur&&e.markedSpans,n;if(i)for(var l=0;l<i.length;++l){var a=i[l];a.marker.collapsed&&(a.from==null||a.from<t)&&(a.to==null||a.to>t)&&(!n||zo(n,a.marker)<0)&&(n=a.marker)}return n}function Qa(e,t,i,n,l){var a=ce(e,t),f=Ur&&a.markedSpans;if(f)for(var d=0;d<f.length;++d){var p=f[d];if(p.marker.collapsed){var g=p.marker.find(0),x=te(g.from,i)||Al(p.marker)-Al(l),C=te(g.to,n)||Ol(p.marker)-Ol(l);if(!(x>=0&&C<=0||x<=0&&C>=0)&&(x<=0&&(p.marker.inclusiveRight&&l.inclusiveLeft?te(g.to,i)>=0:te(g.to,i)>0)||x>=0&&(p.marker.inclusiveRight&&l.inclusiveLeft?te(g.from,n)<=0:te(g.from,n)<0)))return!0}}}function br(e){for(var t;t=Ja(e);)e=t.find(-1,!0).line;return e}function Uh(e){for(var t;t=Nl(e);)e=t.find(1,!0).line;return e}function jh(e){for(var t,i;t=Nl(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function Uo(e,t){var i=ce(e,t),n=br(i);return i==n?t:m(n)}function $a(e,t){if(t>e.lastLine())return t;var i=ce(e,t),n;if(!tn(e,i))return t;for(;n=Nl(i);)i=n.find(1,!0).line;return m(i)+1}function tn(e,t){var i=Ur&&t.markedSpans;if(i){for(var n=void 0,l=0;l<i.length;++l)if(n=i[l],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&jo(e,t,n))return!0}}}function jo(e,t,i){if(i.to==null){var n=i.marker.find(1,!0);return jo(e,n.line,Ri(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var l=void 0,a=0;a<t.markedSpans.length;++a)if(l=t.markedSpans[a],l.marker.collapsed&&!l.marker.widgetNode&&l.from==i.to&&(l.to==null||l.to!=i.from)&&(l.marker.inclusiveLeft||i.marker.inclusiveRight)&&jo(e,t,l))return!0}function jr(e){e=br(e);for(var t=0,i=e.parent,n=0;n<i.lines.length;++n){var l=i.lines[n];if(l==e)break;t+=l.height}for(var a=i.parent;a;i=a,a=i.parent)for(var f=0;f<a.children.length;++f){var d=a.children[f];if(d==i)break;t+=d.height}return t}function Dl(e){if(e.height==0)return 0;for(var t=e.text.length,i,n=e;i=Ja(n);){var l=i.find(0,!0);n=l.from.line,t+=l.from.ch-l.to.ch}for(n=e;i=Nl(n);){var a=i.find(0,!0);t-=n.text.length-a.from.ch,n=a.to.line,t+=n.text.length-a.to.ch}return t}function Ko(e){var t=e.display,i=e.doc;t.maxLine=ce(i,i.first),t.maxLineLength=Dl(t.maxLine),t.maxLineChanged=!0,i.iter(function(n){var l=Dl(n);l>t.maxLineLength&&(t.maxLineLength=l,t.maxLine=n)})}var ei=function(e,t,i){this.text=e,Xa(this,t),this.height=i?i(this):1};ei.prototype.lineNo=function(){return m(this)},pr(ei);function Kh(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Ya(e),Xa(e,i);var l=n?n(e):1;l!=e.height&&lr(e,l)}function qh(e){e.parent=null,Ya(e)}var Gh={},Yh={};function Va(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?Yh:Gh;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function eu(e,t){var i=Xe("span",null,null,T?"padding-right: .1px":null),n={pre:Xe("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var l=0;l<=(t.rest?t.rest.length:0);l++){var a=l?t.rest[l-1]:t.line,f=void 0;n.pos=0,n.addToken=Zh,$r(e.display.measure)&&(f=Ie(a,e.doc.direction))&&(n.addToken=Qh(n.addToken,f)),n.map=[];var d=t!=e.display.externalMeasured&&m(a);$h(a,n,Ba(e,a,d)),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=At(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=At(a.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Tl(e.display.measure))),l==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(T){var p=n.content.lastChild;(/\bcm-tab\b/.test(p.className)||p.querySelector&&p.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return tt(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=At(n.pre.className,n.textClass||"")),n}function Xh(e){var t=L("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Zh(e,t,i,n,l,a,f){if(t){var d=e.splitSpaces?Jh(t,e.trailingSpace):t,p=e.cm.state.specialChars,g=!1,x;if(!p.test(t))e.col+=t.length,x=document.createTextNode(d),e.map.push(e.pos,e.pos+t.length,x),y&&w<9&&(g=!0),e.pos+=t.length;else{x=document.createDocumentFragment();for(var C=0;;){p.lastIndex=C;var O=p.exec(t),E=O?O.index-C:t.length-C;if(E){var P=document.createTextNode(d.slice(C,C+E));y&&w<9?x.appendChild(L("span",[P])):x.appendChild(P),e.map.push(e.pos,e.pos+E,P),e.col+=E,e.pos+=E}if(!O)break;C+=E+1;var z=void 0;if(O[0]=="	"){var X=e.cm.options.tabSize,Q=X-e.col%X;z=x.appendChild(L("span",J(Q),"cm-tab")),z.setAttribute("role","presentation"),z.setAttribute("cm-text","	"),e.col+=Q}else O[0]=="\r"||O[0]==`
`?(z=x.appendChild(L("span",O[0]=="\r"?"␍":"␤","cm-invalidchar")),z.setAttribute("cm-text",O[0]),e.col+=1):(z=e.cm.options.specialCharPlaceholder(O[0]),z.setAttribute("cm-text",O[0]),y&&w<9?x.appendChild(L("span",[z])):x.appendChild(z),e.col+=1);e.map.push(e.pos,e.pos+1,z),e.pos++}}if(e.trailingSpace=d.charCodeAt(t.length-1)==32,i||n||l||g||a||f){var ne=i||"";n&&(ne+=n),l&&(ne+=l);var $=L("span",[x],ne,a);if(f)for(var le in f)f.hasOwnProperty(le)&&le!="style"&&le!="class"&&$.setAttribute(le,f[le]);return e.content.appendChild($)}e.content.appendChild(x)}}function Jh(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,n="",l=0;l<e.length;l++){var a=e.charAt(l);a==" "&&i&&(l==e.length-1||e.charCodeAt(l+1)==32)&&(a=" "),n+=a,i=a==" "}return n}function Qh(e,t){return function(i,n,l,a,f,d,p){l=l?l+" cm-force-border":"cm-force-border";for(var g=i.pos,x=g+n.length;;){for(var C=void 0,O=0;O<t.length&&(C=t[O],!(C.to>g&&C.from<=g));O++);if(C.to>=x)return e(i,n,l,a,f,d,p);e(i,n.slice(0,C.to-g),l,a,null,d,p),a=null,n=n.slice(C.to-g),g=C.to}}}function tu(e,t,i,n){var l=!n&&i.widgetNode;l&&e.map.push(e.pos,e.pos+t,l),!n&&e.cm.display.input.needsContentAttribute&&(l||(l=e.content.appendChild(document.createElement("span"))),l.setAttribute("cm-marker",i.id)),l&&(e.cm.display.input.setUneditable(l),e.content.appendChild(l)),e.pos+=t,e.trailingSpace=!1}function $h(e,t,i){var n=e.markedSpans,l=e.text,a=0;if(!n){for(var f=1;f<i.length;f+=2)t.addToken(t,l.slice(a,a=i[f]),Va(i[f+1],t.cm.options));return}for(var d=l.length,p=0,g=1,x="",C,O,E=0,P,z,X,Q,ne;;){if(E==p){P=z=X=O="",ne=null,Q=null,E=1/0;for(var $=[],le=void 0,me=0;me<n.length;++me){var de=n[me],Ne=de.marker;if(Ne.type=="bookmark"&&de.from==p&&Ne.widgetNode)$.push(Ne);else if(de.from<=p&&(de.to==null||de.to>p||Ne.collapsed&&de.to==p&&de.from==p)){if(de.to!=null&&de.to!=p&&E>de.to&&(E=de.to,z=""),Ne.className&&(P+=" "+Ne.className),Ne.css&&(O=(O?O+";":"")+Ne.css),Ne.startStyle&&de.from==p&&(X+=" "+Ne.startStyle),Ne.endStyle&&de.to==E&&(le||(le=[])).push(Ne.endStyle,de.to),Ne.title&&((ne||(ne={})).title=Ne.title),Ne.attributes)for(var Ze in Ne.attributes)(ne||(ne={}))[Ze]=Ne.attributes[Ze];Ne.collapsed&&(!Q||zo(Q.marker,Ne)<0)&&(Q=de)}else de.from>p&&E>de.from&&(E=de.from)}if(le)for(var wt=0;wt<le.length;wt+=2)le[wt+1]==E&&(z+=" "+le[wt]);if(!Q||Q.from==p)for(var et=0;et<$.length;++et)tu(t,0,$[et]);if(Q&&(Q.from||0)==p){if(tu(t,(Q.to==null?d+1:Q.to)-p,Q.marker,Q.from==null),Q.to==null)return;Q.to==p&&(Q=!1)}}if(p>=d)break;for(var Vt=Math.min(d,E);;){if(x){var Kt=p+x.length;if(!Q){var ct=Kt>Vt?x.slice(0,Vt-p):x;t.addToken(t,ct,C?C+P:P,X,p+ct.length==E?z:"",O,ne)}if(Kt>=Vt){x=x.slice(Vt-p),p=Vt;break}p=Kt,X=""}x=l.slice(a,a=i[g++]),C=Va(i[g++],t.cm.options)}}}function ru(e,t,i){this.line=t,this.rest=jh(t),this.size=this.rest?m(j(this.rest))-i+1:1,this.node=this.text=null,this.hidden=tn(e,t)}function Il(e,t,i){for(var n=[],l,a=t;a<i;a=l){var f=new ru(e.doc,ce(e.doc,a),a);l=a+f.size,n.push(f)}return n}var ti=null;function Vh(e){ti?ti.ops.push(e):e.ownsGroup=ti={ops:[e],delayedCallbacks:[]}}function ed(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var l=e.ops[n];if(l.cursorActivityHandlers)for(;l.cursorActivityCalled<l.cursorActivityHandlers.length;)l.cursorActivityHandlers[l.cursorActivityCalled++].call(null,l.cm)}}while(i<t.length)}function td(e,t){var i=e.ownsGroup;if(i)try{ed(i)}finally{ti=null,t(i)}}var Fi=null;function yt(e,t){var i=Wr(e,t);if(i.length){var n=Array.prototype.slice.call(arguments,2),l;ti?l=ti.delayedCallbacks:Fi?l=Fi:(l=Fi=[],setTimeout(rd,0));for(var a=function(d){l.push(function(){return i[d].apply(null,n)})},f=0;f<i.length;++f)a(f)}}function rd(){var e=Fi;Fi=null;for(var t=0;t<e.length;++t)e[t]()}function nu(e,t,i,n){for(var l=0;l<t.changes.length;l++){var a=t.changes[l];a=="text"?id(e,t):a=="gutter"?lu(e,t,i,n):a=="class"?qo(e,t):a=="widget"&&ld(e,t,n)}t.changes=null}function Hi(e){return e.node==e.text&&(e.node=L("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),y&&w<8&&(e.node.style.zIndex=2)),e.node}function nd(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var n=Hi(t);t.background=n.insertBefore(L("div",null,i),n.firstChild),e.display.input.setUneditable(t.background)}}function iu(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):eu(e,t)}function id(e,t){var i=t.text.className,n=iu(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,qo(e,t)):i&&(t.text.className=i)}function qo(e,t){nd(e,t),t.line.wrapClass?Hi(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function lu(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var l=Hi(t);t.gutterBackground=L("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),l.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var f=Hi(t),d=t.gutter=L("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(d.setAttribute("aria-hidden","true"),e.display.input.setUneditable(d),f.insertBefore(d,t.text),t.line.gutterClass&&(d.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!a||!a["CodeMirror-linenumbers"])&&(t.lineNumber=d.appendChild(L("div",Y(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var p=0;p<e.display.gutterSpecs.length;++p){var g=e.display.gutterSpecs[p].className,x=a.hasOwnProperty(g)&&a[g];x&&d.appendChild(L("div",[x],"CodeMirror-gutter-elt","left: "+n.gutterLeft[g]+"px; width: "+n.gutterWidth[g]+"px"))}}}function ld(e,t,i){t.alignable&&(t.alignable=null);for(var n=Ke("CodeMirror-linewidget"),l=t.node.firstChild,a=void 0;l;l=a)a=l.nextSibling,n.test(l.className)&&t.node.removeChild(l);ou(e,t,i)}function od(e,t,i,n){var l=iu(e,t);return t.text=t.node=l.pre,l.bgClass&&(t.bgClass=l.bgClass),l.textClass&&(t.textClass=l.textClass),qo(e,t),lu(e,t,i,n),ou(e,t,n),t.node}function ou(e,t,i){if(su(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)su(e,t.rest[n],t,i,!1)}function su(e,t,i,n,l){if(t.widgets)for(var a=Hi(i),f=0,d=t.widgets;f<d.length;++f){var p=d[f],g=L("div",[p.node],"CodeMirror-linewidget"+(p.className?" "+p.className:""));p.handleMouseEvents||g.setAttribute("cm-ignore-events","true"),sd(p,g,i,n),e.display.input.setUneditable(g),l&&p.above?a.insertBefore(g,i.gutter||i.text):a.appendChild(g),yt(p,"redraw")}}function sd(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var l=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(l-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=l+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Bi(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!_e(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),se(t.display.measure,L("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Kr(e,t){for(var i=Ni(t);i!=e.wrapper;i=i.parentNode)if(!i||i.nodeType==1&&i.getAttribute("cm-ignore-events")=="true"||i.parentNode==e.sizer&&i!=e.mover)return!0}function _l(e){return e.lineSpace.offsetTop}function Go(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function au(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=se(e.measure,L("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(e.cachedPaddingH=n),n}function Nr(e){return k-e.display.nativeBarWidth}function Cn(e){return e.display.scroller.clientWidth-Nr(e)-e.display.barWidth}function Yo(e){return e.display.scroller.clientHeight-Nr(e)-e.display.barHeight}function ad(e,t,i){var n=e.options.lineWrapping,l=n&&Cn(e);if(!t.measure.heights||n&&t.measure.width!=l){var a=t.measure.heights=[];if(n){t.measure.width=l;for(var f=t.text.firstChild.getClientRects(),d=0;d<f.length-1;d++){var p=f[d],g=f[d+1];Math.abs(p.bottom-g.bottom)>2&&a.push((p.bottom+g.top)/2-i.top)}}a.push(i.bottom-i.top)}}function uu(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var l=0;l<e.rest.length;l++)if(m(e.rest[l])>i)return{map:e.measure.maps[l],cache:e.measure.caches[l],before:!0}}}function ud(e,t){t=br(t);var i=m(t),n=e.display.externalMeasured=new ru(e.doc,t,i);n.lineN=i;var l=n.built=eu(e,n);return n.text=l.pre,se(e.display.lineMeasure,l.pre),n}function fu(e,t,i,n){return Dr(e,ri(e,t),i,n)}function Xo(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ln(e,t)];var i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size)return i}function ri(e,t){var i=m(t),n=Xo(e,i);n&&!n.text?n=null:n&&n.changes&&(nu(e,n,i,Vo(e)),e.curOp.forceUpdate=!0),n||(n=ud(e,t));var l=uu(n,t,i);return{line:t,view:n,rect:null,map:l.map,cache:l.cache,before:l.before,hasHeights:!1}}function Dr(e,t,i,n,l){t.before&&(i=-1);var a=i+(n||""),f;return t.cache.hasOwnProperty(a)?f=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(ad(e,t.view,t.rect),t.hasHeights=!0),f=cd(e,t,i,n),f.bogus||(t.cache[a]=f)),{left:f.left,right:f.right,top:l?f.rtop:f.top,bottom:l?f.rbottom:f.bottom}}var cu={left:0,right:0,top:0,bottom:0};function hu(e,t,i){for(var n,l,a,f,d,p,g=0;g<e.length;g+=3)if(d=e[g],p=e[g+1],t<d?(l=0,a=1,f="left"):t<p?(l=t-d,a=l+1):(g==e.length-3||t==p&&e[g+3]>t)&&(a=p-d,l=a-1,t>=p&&(f="right")),l!=null){if(n=e[g+2],d==p&&i==(n.insertLeft?"left":"right")&&(f=i),i=="left"&&l==0)for(;g&&e[g-2]==e[g-3]&&e[g-1].insertLeft;)n=e[(g-=3)+2],f="left";if(i=="right"&&l==p-d)for(;g<e.length-3&&e[g+3]==e[g+4]&&!e[g+5].insertLeft;)n=e[(g+=3)+2],f="right";break}return{node:n,start:l,end:a,collapse:f,coverStart:d,coverEnd:p}}function fd(e,t){var i=cu;if(t=="left")for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var l=e.length-1;l>=0&&(i=e[l]).left==i.right;l--);return i}function cd(e,t,i,n){var l=hu(t.map,i,n),a=l.node,f=l.start,d=l.end,p=l.collapse,g;if(a.nodeType==3){for(var x=0;x<4;x++){for(;f&&Be(t.line.text.charAt(l.coverStart+f));)--f;for(;l.coverStart+d<l.coverEnd&&Be(t.line.text.charAt(l.coverStart+d));)++d;if(y&&w<9&&f==0&&d==l.coverEnd-l.coverStart?g=a.parentNode.getBoundingClientRect():g=fd(Re(a,f,d).getClientRects(),n),g.left||g.right||f==0)break;d=f,f=f-1,p="right"}y&&w<11&&(g=hd(e.display.measure,g))}else{f>0&&(p=n="right");var C;e.options.lineWrapping&&(C=a.getClientRects()).length>1?g=C[n=="right"?C.length-1:0]:g=a.getBoundingClientRect()}if(y&&w<9&&!f&&(!g||!g.left&&!g.right)){var O=a.parentNode.getClientRects()[0];O?g={left:O.left,right:O.left+ii(e.display),top:O.top,bottom:O.bottom}:g=cu}for(var E=g.top-t.rect.top,P=g.bottom-t.rect.top,z=(E+P)/2,X=t.view.measure.heights,Q=0;Q<X.length-1&&!(z<X[Q]);Q++);var ne=Q?X[Q-1]:0,$=X[Q],le={left:(p=="right"?g.right:g.left)-t.rect.left,right:(p=="left"?g.left:g.right)-t.rect.left,top:ne,bottom:$};return!g.left&&!g.right&&(le.bogus=!0),e.options.singleCursorHeightPerLine||(le.rtop=E,le.rbottom=P),le}function hd(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Fo(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}function du(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function pu(e){e.display.externalMeasure=null,F(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)du(e.display.view[t])}function Wi(e){pu(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function gu(e){return M&&ae?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function vu(e){return M&&ae?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function Zo(e){var t=br(e),i=t.widgets,n=0;if(i)for(var l=0;l<i.length;++l)i[l].above&&(n+=Bi(i[l]));return n}function Pl(e,t,i,n,l){if(!l){var a=Zo(t);i.top+=a,i.bottom+=a}if(n=="line")return i;n||(n="local");var f=jr(t);if(n=="local"?f+=_l(e.display):f-=e.display.viewOffset,n=="page"||n=="window"){var d=e.display.lineSpace.getBoundingClientRect();f+=d.top+(n=="window"?0:vu(Pt(e)));var p=d.left+(n=="window"?0:gu(Pt(e)));i.left+=p,i.right+=p}return i.top+=f,i.bottom+=f,i}function mu(e,t,i){if(i=="div")return t;var n=t.left,l=t.top;if(i=="page")n-=gu(Pt(e)),l-=vu(Pt(e));else if(i=="local"||!i){var a=e.display.sizer.getBoundingClientRect();n+=a.left,l+=a.top}var f=e.display.lineSpace.getBoundingClientRect();return{left:n-f.left,top:l-f.top}}function Rl(e,t,i,n,l){return n||(n=ce(e.doc,t.line)),Pl(e,n,fu(e,n,t.ch,l),i)}function xr(e,t,i,n,l,a){n=n||ce(e.doc,t.line),l||(l=ri(e,n));function f(P,z){var X=Dr(e,l,P,z?"right":"left",a);return z?X.left=X.right:X.right=X.left,Pl(e,n,X,i)}var d=Ie(n,e.doc.direction),p=t.ch,g=t.sticky;if(p>=n.text.length?(p=n.text.length,g="before"):p<=0&&(p=0,g="after"),!d)return f(g=="before"?p-1:p,g=="before");function x(P,z,X){var Q=d[z],ne=Q.level==1;return f(X?P-1:P,ne!=X)}var C=st(d,p,g),O=Er,E=x(p,C,g=="before");return O!=null&&(E.other=x(p,O,g!="before")),E}function yu(e,t){var i=0;t=we(e.doc,t),e.options.lineWrapping||(i=ii(e.display)*t.ch);var n=ce(e.doc,t.line),l=jr(n)+_l(e.display);return{left:i,right:i,top:l,bottom:l+n.height}}function Jo(e,t,i,n,l){var a=_(e,t,i);return a.xRel=l,n&&(a.outside=n),a}function Qo(e,t,i){var n=e.doc;if(i+=e.display.viewOffset,i<0)return Jo(n.first,0,null,-1,-1);var l=S(n,i),a=n.first+n.size-1;if(l>a)return Jo(n.first+n.size-1,ce(n,a).text.length,null,1,1);t<0&&(t=0);for(var f=ce(n,l);;){var d=dd(e,f,l,t,i),p=zh(f,d.ch+(d.xRel>0||d.outside>0?1:0));if(!p)return d;var g=p.find(1);if(g.line==l)return g;f=ce(n,l=g.line)}}function bu(e,t,i,n){n-=Zo(t);var l=t.text.length,a=ir(function(f){return Dr(e,i,f-1).bottom<=n},l,0);return l=ir(function(f){return Dr(e,i,f).top>n},a,l),{begin:a,end:l}}function xu(e,t,i,n){i||(i=ri(e,t));var l=Pl(e,t,Dr(e,i,n),"line").top;return bu(e,t,i,l)}function $o(e,t,i,n){return e.bottom<=i?!1:e.top>i?!0:(n?e.left:e.right)>t}function dd(e,t,i,n,l){l-=jr(t);var a=ri(e,t),f=Zo(t),d=0,p=t.text.length,g=!0,x=Ie(t,e.doc.direction);if(x){var C=(e.options.lineWrapping?gd:pd)(e,t,i,a,x,n,l);g=C.level!=1,d=g?C.from:C.to-1,p=g?C.to:C.from-1}var O=null,E=null,P=ir(function(me){var de=Dr(e,a,me);return de.top+=f,de.bottom+=f,$o(de,n,l,!1)?(de.top<=l&&de.left<=n&&(O=me,E=de),!0):!1},d,p),z,X,Q=!1;if(E){var ne=n-E.left<E.right-n,$=ne==g;P=O+($?0:1),X=$?"after":"before",z=ne?E.left:E.right}else{!g&&(P==p||P==d)&&P++,X=P==0?"after":P==t.text.length?"before":Dr(e,a,P-(g?1:0)).bottom+f<=l==g?"after":"before";var le=xr(e,_(i,P,X),"line",t,a);z=le.left,Q=l<le.top?-1:l>=le.bottom?1:0}return P=Bt(t.text,P,1),Jo(i,P,X,Q,n-z)}function pd(e,t,i,n,l,a,f){var d=ir(function(C){var O=l[C],E=O.level!=1;return $o(xr(e,_(i,E?O.to:O.from,E?"before":"after"),"line",t,n),a,f,!0)},0,l.length-1),p=l[d];if(d>0){var g=p.level!=1,x=xr(e,_(i,g?p.from:p.to,g?"after":"before"),"line",t,n);$o(x,a,f,!0)&&x.top>f&&(p=l[d-1])}return p}function gd(e,t,i,n,l,a,f){var d=bu(e,t,n,f),p=d.begin,g=d.end;/\s/.test(t.text.charAt(g-1))&&g--;for(var x=null,C=null,O=0;O<l.length;O++){var E=l[O];if(!(E.from>=g||E.to<=p)){var P=E.level!=1,z=Dr(e,n,P?Math.min(g,E.to)-1:Math.max(p,E.from)).right,X=z<a?a-z+1e9:z-a;(!x||C>X)&&(x=E,C=X)}}return x||(x=l[l.length-1]),x.from<p&&(x={from:p,to:x.to,level:x.level}),x.to>g&&(x={from:x.from,to:g,level:x.level}),x}var kn;function ni(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(kn==null){kn=L("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)kn.appendChild(document.createTextNode("x")),kn.appendChild(L("br"));kn.appendChild(document.createTextNode("x"))}se(e.measure,kn);var i=kn.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),F(e.measure),i||1}function ii(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=L("span","xxxxxxxxxx"),i=L("pre",[t],"CodeMirror-line-like");se(e.measure,i);var n=t.getBoundingClientRect(),l=(n.right-n.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function Vo(e){for(var t=e.display,i={},n={},l=t.gutters.clientLeft,a=t.gutters.firstChild,f=0;a;a=a.nextSibling,++f){var d=e.display.gutterSpecs[f].className;i[d]=a.offsetLeft+a.clientLeft+l,n[d]=a.clientWidth}return{fixedPos:es(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function es(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function wu(e){var t=ni(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/ii(e.display)-3);return function(l){if(tn(e.doc,l))return 0;var a=0;if(l.widgets)for(var f=0;f<l.widgets.length;f++)l.widgets[f].height&&(a+=l.widgets[f].height);return i?a+(Math.ceil(l.text.length/n)||1)*t:a+t}}function ts(e){var t=e.doc,i=wu(e);t.iter(function(n){var l=i(n);l!=n.height&&lr(n,l)})}function Tn(e,t,i,n){var l=e.display;if(!i&&Ni(t).getAttribute("cm-not-content")=="true")return null;var a,f,d=l.lineSpace.getBoundingClientRect();try{a=t.clientX-d.left,f=t.clientY-d.top}catch{return null}var p=Qo(e,a,f),g;if(n&&p.xRel>0&&(g=ce(e.doc,p.line).text).length==p.ch){var x=Pe(g,g.length,e.options.tabSize)-g.length;p=_(p.line,Math.max(0,Math.round((a-au(e.display).left)/ii(e.display))-x))}return p}function Ln(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var i=e.display.view,n=0;n<i.length;n++)if(t-=i[n].size,t<0)return n}function Ut(e,t,i,n){t==null&&(t=e.doc.first),i==null&&(i=e.doc.first+e.doc.size),n||(n=0);var l=e.display;if(n&&i<l.viewTo&&(l.updateLineNumbers==null||l.updateLineNumbers>t)&&(l.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=l.viewTo)Ur&&Uo(e.doc,t)<l.viewTo&&nn(e);else if(i<=l.viewFrom)Ur&&$a(e.doc,i+n)>l.viewFrom?nn(e):(l.viewFrom+=n,l.viewTo+=n);else if(t<=l.viewFrom&&i>=l.viewTo)nn(e);else if(t<=l.viewFrom){var a=Fl(e,i,i+n,1);a?(l.view=l.view.slice(a.index),l.viewFrom=a.lineN,l.viewTo+=n):nn(e)}else if(i>=l.viewTo){var f=Fl(e,t,t,-1);f?(l.view=l.view.slice(0,f.index),l.viewTo=f.lineN):nn(e)}else{var d=Fl(e,t,t,-1),p=Fl(e,i,i+n,1);d&&p?(l.view=l.view.slice(0,d.index).concat(Il(e,d.lineN,p.lineN)).concat(l.view.slice(p.index)),l.viewTo+=n):nn(e)}var g=l.externalMeasured;g&&(i<g.lineN?g.lineN+=n:t<g.lineN+g.size&&(l.externalMeasured=null))}function rn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,l=e.display.externalMeasured;if(l&&t>=l.lineN&&t<l.lineN+l.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[Ln(e,t)];if(a.node!=null){var f=a.changes||(a.changes=[]);Ce(f,i)==-1&&f.push(i)}}}function nn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Fl(e,t,i,n){var l=Ln(e,t),a,f=e.display.view;if(!Ur||i==e.doc.first+e.doc.size)return{index:l,lineN:i};for(var d=e.display.viewFrom,p=0;p<l;p++)d+=f[p].size;if(d!=t){if(n>0){if(l==f.length-1)return null;a=d+f[l].size-t,l++}else a=d-t;t+=a,i+=a}for(;Uo(e.doc,i)!=i;){if(l==(n<0?0:f.length-1))return null;i+=n*f[l-(n<0?1:0)].size,l+=n}return{index:l,lineN:i}}function vd(e,t,i){var n=e.display,l=n.view;l.length==0||t>=n.viewTo||i<=n.viewFrom?(n.view=Il(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=Il(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Ln(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(Il(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ln(e,i)))),n.viewTo=i}function Su(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var l=t[n];!l.hidden&&(!l.node||l.changes)&&++i}return i}function zi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Cu(e,t){t===void 0&&(t=!0);var i=e.doc,n={},l=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),f=e.options.$customCursor;f&&(t=!0);for(var d=0;d<i.sel.ranges.length;d++)if(!(!t&&d==i.sel.primIndex)){var p=i.sel.ranges[d];if(!(p.from().line>=e.display.viewTo||p.to().line<e.display.viewFrom)){var g=p.empty();if(f){var x=f(e,p);x&&rs(e,x,l)}else(g||e.options.showCursorWhenSelecting)&&rs(e,p.head,l);g||md(e,p,a)}}return n}function rs(e,t,i){var n=xr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),l=i.appendChild(L("div"," ","CodeMirror-cursor"));if(l.style.left=n.left+"px",l.style.top=n.top+"px",l.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var a=Rl(e,t,"div",null,null),f=a.right-a.left;l.style.width=(f>0?f:e.defaultCharWidth())+"px"}if(n.other){var d=i.appendChild(L("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));d.style.display="",d.style.left=n.other.left+"px",d.style.top=n.other.top+"px",d.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function Hl(e,t){return e.top-t.top||e.left-t.left}function md(e,t,i){var n=e.display,l=e.doc,a=document.createDocumentFragment(),f=au(e.display),d=f.left,p=Math.max(n.sizerWidth,Cn(e)-n.sizer.offsetLeft)-f.right,g=l.direction=="ltr";function x($,le,me,de){le<0&&(le=0),le=Math.round(le),de=Math.round(de),a.appendChild(L("div",null,"CodeMirror-selected","position: absolute; left: "+$+`px;
                             top: `+le+"px; width: "+(me??p-$)+`px;
                             height: `+(de-le)+"px"))}function C($,le,me){var de=ce(l,$),Ne=de.text.length,Ze,wt;function et(ct,qt){return Rl(e,_($,ct),"div",de,qt)}function Vt(ct,qt,Lt){var gt=xu(e,de,null,ct),ht=qt=="ltr"==(Lt=="after")?"left":"right",it=Lt=="after"?gt.begin:gt.end-(/\s/.test(de.text.charAt(gt.end-1))?2:1);return et(it,ht)[ht]}var Kt=Ie(de,l.direction);return Zt(Kt,le||0,me??Ne,function(ct,qt,Lt,gt){var ht=Lt=="ltr",it=et(ct,ht?"left":"right"),Gt=et(qt-1,ht?"right":"left"),mi=le==null&&ct==0,fn=me==null&&qt==Ne,It=gt==0,Ir=!Kt||gt==Kt.length-1;if(Gt.top-it.top<=3){var St=(g?mi:fn)&&It,As=(g?fn:mi)&&Ir,Yr=St?d:(ht?it:Gt).left,Nn=As?p:(ht?Gt:it).right;x(Yr,it.top,Nn-Yr,it.bottom)}else{var Dn,Ft,yi,Os;ht?(Dn=g&&mi&&It?d:it.left,Ft=g?p:Vt(ct,Lt,"before"),yi=g?d:Vt(qt,Lt,"after"),Os=g&&fn&&Ir?p:Gt.right):(Dn=g?Vt(ct,Lt,"before"):d,Ft=!g&&mi&&It?p:it.right,yi=!g&&fn&&Ir?d:Gt.left,Os=g?Vt(qt,Lt,"after"):p),x(Dn,it.top,Ft-Dn,it.bottom),it.bottom<Gt.top&&x(d,it.bottom,null,Gt.top),x(yi,Gt.top,Os-yi,Gt.bottom)}(!Ze||Hl(it,Ze)<0)&&(Ze=it),Hl(Gt,Ze)<0&&(Ze=Gt),(!wt||Hl(it,wt)<0)&&(wt=it),Hl(Gt,wt)<0&&(wt=Gt)}),{start:Ze,end:wt}}var O=t.from(),E=t.to();if(O.line==E.line)C(O.line,O.ch,E.ch);else{var P=ce(l,O.line),z=ce(l,E.line),X=br(P)==br(z),Q=C(O.line,O.ch,X?P.text.length+1:null).end,ne=C(E.line,X?0:null,E.ch).start;X&&(Q.top<ne.top-2?(x(Q.right,Q.top,null,Q.bottom),x(d,ne.top,ne.left,ne.bottom)):x(Q.right,Q.top,ne.left-Q.right,Q.bottom)),Q.bottom<ne.top&&x(d,Q.bottom,null,ne.top)}i.appendChild(a)}function ns(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||li(e),t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ku(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||ls(e))}function is(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&li(e))},100)}function ls(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(tt(e,"focus",e,t),e.state.focused=!0,kt(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),T&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),ns(e))}function li(e,t){e.state.delayingBlurEvent||(e.state.focused&&(tt(e,"blur",e,t),e.state.focused=!1,ue(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Bl(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),l=t.lineDiv.getBoundingClientRect().top,a=0,f=0;f<t.view.length;f++){var d=t.view[f],p=e.options.lineWrapping,g=void 0,x=0;if(!d.hidden){if(l+=d.line.height,y&&w<8){var C=d.node.offsetTop+d.node.offsetHeight;g=C-i,i=C}else{var O=d.node.getBoundingClientRect();g=O.bottom-O.top,!p&&d.text.firstChild&&(x=d.text.firstChild.getBoundingClientRect().right-O.left-1)}var E=d.line.height-g;if((E>.005||E<-.005)&&(l<n&&(a-=E),lr(d.line,g),Tu(d.line),d.rest))for(var P=0;P<d.rest.length;P++)Tu(d.rest[P]);if(x>e.display.sizerWidth){var z=Math.ceil(x/ii(e.display));z>e.display.maxLineLength&&(e.display.maxLineLength=z,e.display.maxLine=d.line,e.display.maxLineChanged=!0)}}}Math.abs(a)>2&&(t.scroller.scrollTop+=a)}function Tu(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function Wl(e,t,i){var n=i&&i.top!=null?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-_l(e));var l=i&&i.bottom!=null?i.bottom:n+e.wrapper.clientHeight,a=S(t,n),f=S(t,l);if(i&&i.ensure){var d=i.ensure.from.line,p=i.ensure.to.line;d<a?(a=d,f=S(t,jr(ce(t,d))+e.wrapper.clientHeight)):Math.min(p,t.lastLine())>=f&&(a=S(t,jr(ce(t,p))-e.wrapper.clientHeight),f=p)}return{from:a,to:Math.max(f,a+1)}}function yd(e,t){if(!rt(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),l=null,a=i.wrapper.ownerDocument;if(t.top+n.top<0?l=!0:t.bottom+n.top>(a.defaultView.innerHeight||a.documentElement.clientHeight)&&(l=!1),l!=null&&!he){var f=L("div","​",null,`position: absolute;
                         top: `+(t.top-i.viewOffset-_l(e.display))+`px;
                         height: `+(t.bottom-t.top+Nr(e)+i.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(f),f.scrollIntoView(l),e.display.lineSpace.removeChild(f)}}}function bd(e,t,i,n){n==null&&(n=0);var l;!e.options.lineWrapping&&t==i&&(i=t.sticky=="before"?_(t.line,t.ch+1,"before"):t,t=t.ch?_(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var a=0;a<5;a++){var f=!1,d=xr(e,t),p=!i||i==t?d:xr(e,i);l={left:Math.min(d.left,p.left),top:Math.min(d.top,p.top)-n,right:Math.max(d.left,p.left),bottom:Math.max(d.bottom,p.bottom)+n};var g=os(e,l),x=e.doc.scrollTop,C=e.doc.scrollLeft;if(g.scrollTop!=null&&(ji(e,g.scrollTop),Math.abs(e.doc.scrollTop-x)>1&&(f=!0)),g.scrollLeft!=null&&(Mn(e,g.scrollLeft),Math.abs(e.doc.scrollLeft-C)>1&&(f=!0)),!f)break}return l}function xd(e,t){var i=os(e,t);i.scrollTop!=null&&ji(e,i.scrollTop),i.scrollLeft!=null&&Mn(e,i.scrollLeft)}function os(e,t){var i=e.display,n=ni(e.display);t.top<0&&(t.top=0);var l=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:i.scroller.scrollTop,a=Yo(e),f={};t.bottom-t.top>a&&(t.bottom=t.top+a);var d=e.doc.height+Go(i),p=t.top<n,g=t.bottom>d-n;if(t.top<l)f.scrollTop=p?0:t.top;else if(t.bottom>l+a){var x=Math.min(t.top,(g?d:t.bottom)-a);x!=l&&(f.scrollTop=x)}var C=e.options.fixedGutter?0:i.gutters.offsetWidth,O=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:i.scroller.scrollLeft-C,E=Cn(e)-i.gutters.offsetWidth,P=t.right-t.left>E;return P&&(t.right=t.left+E),t.left<10?f.scrollLeft=0:t.left<O?f.scrollLeft=Math.max(0,t.left+C-(P?0:10)):t.right>E+O-3&&(f.scrollLeft=t.right+(P?0:10)-E),f}function ss(e,t){t!=null&&(zl(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function oi(e){zl(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Ui(e,t,i){(t!=null||i!=null)&&zl(e),t!=null&&(e.curOp.scrollLeft=t),i!=null&&(e.curOp.scrollTop=i)}function wd(e,t){zl(e),e.curOp.scrollToPos=t}function zl(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=yu(e,t.from),n=yu(e,t.to);Lu(e,i,n,t.margin)}}function Lu(e,t,i,n){var l=os(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});Ui(e,l.scrollLeft,l.scrollTop)}function ji(e,t){Math.abs(e.doc.scrollTop-t)<2||(c||us(e,{top:t}),Mu(e,t,!0),c&&us(e),Gi(e,100))}function Mu(e,t,i){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Mn(e,t,i,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n)&&(e.doc.scrollLeft=t,Du(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ki(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+Go(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Nr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var En=function(e,t,i){this.cm=i;var n=this.vert=L("div",[L("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),l=this.horiz=L("div",[L("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=l.tabIndex=-1,e(n),e(l),ve(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),ve(l,"scroll",function(){l.clientWidth&&t(l.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,y&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};En.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var l=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+l)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},En.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},En.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},En.prototype.zeroWidthHack=function(){var e=oe&&!ie?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Xt,this.disableVert=new Xt},En.prototype.enableZeroWidthBar=function(e,t,i){e.style.visibility="";function n(){var l=e.getBoundingClientRect(),a=i=="vert"?document.elementFromPoint(l.right-1,(l.top+l.bottom)/2):document.elementFromPoint((l.right+l.left)/2,l.bottom-1);a!=e?e.style.visibility="hidden":t.set(1e3,n)}t.set(1e3,n)},En.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var qi=function(){};qi.prototype.update=function(){return{bottom:0,right:0}},qi.prototype.setScrollLeft=function(){},qi.prototype.setScrollTop=function(){},qi.prototype.clear=function(){};function si(e,t){t||(t=Ki(e));var i=e.display.barWidth,n=e.display.barHeight;Eu(e,t);for(var l=0;l<4&&i!=e.display.barWidth||n!=e.display.barHeight;l++)i!=e.display.barWidth&&e.options.lineWrapping&&Bl(e),Eu(e,Ki(e)),i=e.display.barWidth,n=e.display.barHeight}function Eu(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}var Au={native:En,null:qi};function Ou(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&ue(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Au[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ve(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){i=="horizontal"?Mn(e,t):ji(e,t)},e),e.display.scrollbars.addClass&&kt(e.display.wrapper,e.display.scrollbars.addClass)}var Sd=0;function An(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Sd,markArrays:null},Vh(e.curOp)}function On(e){var t=e.curOp;t&&td(t,function(i){for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;Cd(i)})}function Cd(e){for(var t=e.ops,i=0;i<t.length;i++)kd(t[i]);for(var n=0;n<t.length;n++)Td(t[n]);for(var l=0;l<t.length;l++)Ld(t[l]);for(var a=0;a<t.length;a++)Md(t[a]);for(var f=0;f<t.length;f++)Ed(t[f])}function kd(e){var t=e.cm,i=t.display;Od(t),e.updateMaxLine&&Ko(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ul(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Td(e){e.updatedDisplay=e.mustUpdate&&as(e.cm,e.update)}function Ld(e){var t=e.cm,i=t.display;e.updatedDisplay&&Bl(t),e.barMeasure=Ki(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=fu(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+Nr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Cn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Md(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Mn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==Qe(nr(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&si(t,e.barMeasure),e.updatedDisplay&&cs(t,e.barMeasure),e.selectionChanged&&ns(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&ku(e.cm)}function Ed(e){var t=e.cm,i=t.display,n=t.doc;if(e.updatedDisplay&&Nu(t,e.update),i.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),e.scrollTop!=null&&Mu(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Mn(t,e.scrollLeft,!0,!0),e.scrollToPos){var l=bd(t,we(n,e.scrollToPos.from),we(n,e.scrollToPos.to),e.scrollToPos.margin);yd(t,l)}var a=e.maybeHiddenMarkers,f=e.maybeUnhiddenMarkers;if(a)for(var d=0;d<a.length;++d)a[d].lines.length||tt(a[d],"hide");if(f)for(var p=0;p<f.length;++p)f[p].lines.length&&tt(f[p],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&tt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function $t(e,t){if(e.curOp)return t();An(e);try{return t()}finally{On(e)}}function bt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);An(e);try{return t.apply(e,arguments)}finally{On(e)}}}function Rt(e){return function(){if(this.curOp)return e.apply(this,arguments);An(this);try{return e.apply(this,arguments)}finally{On(this)}}}function xt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);An(t);try{return e.apply(this,arguments)}finally{On(t)}}}function Gi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,be(Ad,e))}function Ad(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=Pi(e,t.highlightFrontier),l=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(a){if(n.line>=e.display.viewFrom){var f=a.styles,d=a.text.length>e.options.maxHighlightLength?Ar(t.mode,n.state):null,p=Ha(e,a,n,!0);d&&(n.state=d),a.styles=p.styles;var g=a.styleClasses,x=p.classes;x?a.styleClasses=x:g&&(a.styleClasses=null);for(var C=!f||f.length!=a.styles.length||g!=x&&(!g||!x||g.bgClass!=x.bgClass||g.textClass!=x.textClass),O=0;!C&&O<f.length;++O)C=f[O]!=a.styles[O];C&&l.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=e.options.maxHighlightLength&&Ho(e,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Gi(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),l.length&&$t(e,function(){for(var a=0;a<l.length;a++)rn(e,l[a],"text")})}}var Ul=function(e,t,i){var n=e.display;this.viewport=t,this.visible=Wl(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Cn(e),this.force=i,this.dims=Vo(e),this.events=[]};Ul.prototype.signal=function(e,t){Qt(e,t)&&this.events.push(arguments)},Ul.prototype.finish=function(){for(var e=0;e<this.events.length;e++)tt.apply(null,this.events[e])};function Od(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Nr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Nr(e)+"px",t.scrollbarsClipped=!0)}function Nd(e){if(e.hasFocus())return null;var t=Qe(nr(e));if(!t||!_e(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=ye(e).getSelection();n.anchorNode&&n.extend&&_e(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Dd(e){if(!(!e||!e.activeElt||e.activeElt==Qe(ft(e.activeElt)))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&_e(document.body,e.anchorNode)&&_e(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,i=t.defaultView.getSelection(),n=t.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),i.removeAllRanges(),i.addRange(n),i.extend(e.focusNode,e.focusOffset)}}function as(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return nn(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&Su(e)==0)return!1;Iu(e)&&(nn(e),t.dims=Vo(e));var l=n.first+n.size,a=Math.max(t.visible.from-e.options.viewportMargin,n.first),f=Math.min(l,t.visible.to+e.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(n.first,i.viewFrom)),i.viewTo>f&&i.viewTo-f<20&&(f=Math.min(l,i.viewTo)),Ur&&(a=Uo(e.doc,a),f=$a(e.doc,f));var d=a!=i.viewFrom||f!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;vd(e,a,f),i.viewOffset=jr(ce(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var p=Su(e);if(!d&&p==0&&!t.force&&i.renderedView==i.view&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))return!1;var g=Nd(e);return p>4&&(i.lineDiv.style.display="none"),Id(e,i.updateLineNumbers,t.dims),p>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Dd(g),F(i.cursorDiv),F(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,d&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Gi(e,400)),i.updateLineNumbers=null,!0}function Nu(e,t){for(var i=t.viewport,n=!0;;n=!1){if(!n||!e.options.lineWrapping||t.oldDisplayWidth==Cn(e)){if(i&&i.top!=null&&(i={top:Math.min(e.doc.height+Go(e.display)-Yo(e),i.top)}),t.visible=Wl(e.display,e.doc,i),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else n&&(t.visible=Wl(e.display,e.doc,i));if(!as(e,t))break;Bl(e);var l=Ki(e);zi(e),si(e,l),cs(e,l),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function us(e,t){var i=new Ul(e,t);if(as(e,i)){Bl(e),Nu(e,i);var n=Ki(e);zi(e),si(e,n),cs(e,n),i.finish()}}function Id(e,t,i){var n=e.display,l=e.options.lineNumbers,a=n.lineDiv,f=a.firstChild;function d(P){var z=P.nextSibling;return T&&oe&&e.display.currentWheelTarget==P?P.style.display="none":P.parentNode.removeChild(P),z}for(var p=n.view,g=n.viewFrom,x=0;x<p.length;x++){var C=p[x];if(!C.hidden)if(!C.node||C.node.parentNode!=a){var O=od(e,C,g,i);a.insertBefore(O,f)}else{for(;f!=C.node;)f=d(f);var E=l&&t!=null&&t<=g&&C.lineNumber;C.changes&&(Ce(C.changes,"gutter")>-1&&(E=!1),nu(e,C,g,i)),E&&(F(C.lineNumber),C.lineNumber.appendChild(document.createTextNode(Y(e.options,g)))),f=C.node.nextSibling}g+=C.size}for(;f;)f=d(f)}function fs(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",yt(e,"gutterChanged",e)}function cs(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Nr(e)+"px"}function Du(e){var t=e.display,i=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var n=es(t)-t.scroller.scrollLeft+e.doc.scrollLeft,l=t.gutters.offsetWidth,a=n+"px",f=0;f<i.length;f++)if(!i[f].hidden){e.options.fixedGutter&&(i[f].gutter&&(i[f].gutter.style.left=a),i[f].gutterBackground&&(i[f].gutterBackground.style.left=a));var d=i[f].alignable;if(d)for(var p=0;p<d.length;p++)d[p].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+l+"px")}}function Iu(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=Y(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var l=n.measure.appendChild(L("div",[L("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=l.firstChild.offsetWidth,f=l.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-f)+1,n.lineNumWidth=n.lineNumInnerWidth+f,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",fs(e.display),!0}return!1}function hs(e,t){for(var i=[],n=!1,l=0;l<e.length;l++){var a=e[l],f=null;if(typeof a!="string"&&(f=a.style,a=a.className),a=="CodeMirror-linenumbers")if(t)n=!0;else continue;i.push({className:a,style:f})}return t&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function _u(e){var t=e.gutters,i=e.gutterSpecs;F(t),e.lineGutter=null;for(var n=0;n<i.length;++n){var l=i[n],a=l.className,f=l.style,d=t.appendChild(L("div",null,"CodeMirror-gutter "+a));f&&(d.style.cssText=f),a=="CodeMirror-linenumbers"&&(e.lineGutter=d,d.style.width=(e.lineNumWidth||1)+"px")}t.style.display=i.length?"":"none",fs(e)}function Yi(e){_u(e.display),Ut(e),Du(e)}function _d(e,t,i,n){var l=this;this.input=i,l.scrollbarFiller=L("div",null,"CodeMirror-scrollbar-filler"),l.scrollbarFiller.setAttribute("cm-not-content","true"),l.gutterFiller=L("div",null,"CodeMirror-gutter-filler"),l.gutterFiller.setAttribute("cm-not-content","true"),l.lineDiv=Xe("div",null,"CodeMirror-code"),l.selectionDiv=L("div",null,null,"position: relative; z-index: 1"),l.cursorDiv=L("div",null,"CodeMirror-cursors"),l.measure=L("div",null,"CodeMirror-measure"),l.lineMeasure=L("div",null,"CodeMirror-measure"),l.lineSpace=Xe("div",[l.measure,l.lineMeasure,l.selectionDiv,l.cursorDiv,l.lineDiv],null,"position: relative; outline: none");var a=Xe("div",[l.lineSpace],"CodeMirror-lines");l.mover=L("div",[a],null,"position: relative"),l.sizer=L("div",[l.mover],"CodeMirror-sizer"),l.sizerWidth=null,l.heightForcer=L("div",null,null,"position: absolute; height: "+k+"px; width: 1px;"),l.gutters=L("div",null,"CodeMirror-gutters"),l.lineGutter=null,l.scroller=L("div",[l.sizer,l.heightForcer,l.gutters],"CodeMirror-scroll"),l.scroller.setAttribute("tabIndex","-1"),l.wrapper=L("div",[l.scrollbarFiller,l.gutterFiller,l.scroller],"CodeMirror"),M&&D===105&&(l.wrapper.style.clipPath="inset(0px)"),l.wrapper.setAttribute("translate","no"),y&&w<8&&(l.gutters.style.zIndex=-1,l.scroller.style.paddingRight=0),!T&&!(c&&ee)&&(l.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(l.wrapper):e(l.wrapper)),l.viewFrom=l.viewTo=t.first,l.reportedViewFrom=l.reportedViewTo=t.first,l.view=[],l.renderedView=null,l.externalMeasured=null,l.viewOffset=0,l.lastWrapHeight=l.lastWrapWidth=0,l.updateLineNumbers=null,l.nativeBarWidth=l.barHeight=l.barWidth=0,l.scrollbarsClipped=!1,l.lineNumWidth=l.lineNumInnerWidth=l.lineNumChars=null,l.alignWidgets=!1,l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.maxLine=null,l.maxLineLength=0,l.maxLineChanged=!1,l.wheelDX=l.wheelDY=l.wheelStartX=l.wheelStartY=null,l.shift=!1,l.selForContextMenu=null,l.activeTouch=null,l.gutterSpecs=hs(n.gutters,n.lineNumbers),_u(l),i.init(l)}var jl=0,qr=null;y?qr=-.53:c?qr=15:M?qr=-.7:H&&(qr=-1/3);function Pu(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),i==null&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:i==null&&(i=e.wheelDelta),{x:t,y:i}}function Pd(e){var t=Pu(e);return t.x*=qr,t.y*=qr,t}function Ru(e,t){M&&D==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var i=Pu(t),n=i.x,l=i.y,a=qr;t.deltaMode===0&&(n=t.deltaX,l=t.deltaY,a=1);var f=e.display,d=f.scroller,p=d.scrollWidth>d.clientWidth,g=d.scrollHeight>d.clientHeight;if(n&&p||l&&g){if(l&&oe&&T){e:for(var x=t.target,C=f.view;x!=d;x=x.parentNode)for(var O=0;O<C.length;O++)if(C[O].node==x){e.display.currentWheelTarget=x;break e}}if(n&&!c&&!I&&a!=null){l&&g&&ji(e,Math.max(0,d.scrollTop+l*a)),Mn(e,Math.max(0,d.scrollLeft+n*a)),(!l||l&&g)&&Nt(t),f.wheelStartX=null;return}if(l&&a!=null){var E=l*a,P=e.doc.scrollTop,z=P+f.wrapper.clientHeight;E<0?P=Math.max(0,P+E-50):z=Math.min(e.doc.height,z+E+50),us(e,{top:P,bottom:z})}jl<20&&t.deltaMode!==0&&(f.wheelStartX==null?(f.wheelStartX=d.scrollLeft,f.wheelStartY=d.scrollTop,f.wheelDX=n,f.wheelDY=l,setTimeout(function(){if(f.wheelStartX!=null){var X=d.scrollLeft-f.wheelStartX,Q=d.scrollTop-f.wheelStartY,ne=Q&&f.wheelDY&&Q/f.wheelDY||X&&f.wheelDX&&X/f.wheelDX;f.wheelStartX=f.wheelStartY=null,ne&&(qr=(qr*jl+ne)/(jl+1),++jl)}},200)):(f.wheelDX+=n,f.wheelDY+=l))}}var or=function(e,t){this.ranges=e,this.primIndex=t};or.prototype.primary=function(){return this.ranges[this.primIndex]},or.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!Ue(i.anchor,n.anchor)||!Ue(i.head,n.head))return!1}return!0},or.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new je(mt(this.ranges[t].anchor),mt(this.ranges[t].head));return new or(e,this.primIndex)},or.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},or.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(te(t,n.from())>=0&&te(e,n.to())<=0)return i}return-1};var je=function(e,t){this.anchor=e,this.head=t};je.prototype.from=function(){return Vn(this.anchor,this.head)},je.prototype.to=function(){return zt(this.anchor,this.head)},je.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function wr(e,t,i){var n=e&&e.options.selectionsMayTouch,l=t[i];t.sort(function(O,E){return te(O.from(),E.from())}),i=Ce(t,l);for(var a=1;a<t.length;a++){var f=t[a],d=t[a-1],p=te(d.to(),f.from());if(n&&!f.empty()?p>0:p>=0){var g=Vn(d.from(),f.from()),x=zt(d.to(),f.to()),C=d.empty()?f.from()==f.head:d.from()==d.head;a<=i&&--i,t.splice(--a,2,new je(C?x:g,C?g:x))}}return new or(t,i)}function ln(e,t){return new or([new je(e,t||e)],0)}function on(e){return e.text?_(e.from.line+e.text.length-1,j(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Fu(e,t){if(te(e,t.from)<0)return e;if(te(e,t.to)<=0)return on(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=on(t).ch-t.to.ch),_(i,n)}function ds(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var l=e.sel.ranges[n];i.push(new je(Fu(l.anchor,t),Fu(l.head,t)))}return wr(e.cm,i,e.sel.primIndex)}function Hu(e,t,i){return e.line==t.line?_(i.line,e.ch-t.ch+i.ch):_(i.line+(e.line-t.line),e.ch)}function Rd(e,t,i){for(var n=[],l=_(e.first,0),a=l,f=0;f<t.length;f++){var d=t[f],p=Hu(d.from,l,a),g=Hu(on(d),l,a);if(l=d.to,a=g,i=="around"){var x=e.sel.ranges[f],C=te(x.head,x.anchor)<0;n[f]=new je(C?g:p,C?p:g)}else n[f]=new je(p,p)}return new or(n,e.sel.primIndex)}function ps(e){e.doc.mode=Jn(e.options,e.doc.modeOption),Xi(e)}function Xi(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Gi(e,100),e.state.modeGen++,e.curOp&&Ut(e)}function Bu(e,t){return t.from.ch==0&&t.to.ch==0&&j(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function gs(e,t,i,n){function l(ne){return i?i[ne]:null}function a(ne,$,le){Kh(ne,$,le,n),yt(ne,"change",ne,t)}function f(ne,$){for(var le=[],me=ne;me<$;++me)le.push(new ei(g[me],l(me),n));return le}var d=t.from,p=t.to,g=t.text,x=ce(e,d.line),C=ce(e,p.line),O=j(g),E=l(g.length-1),P=p.line-d.line;if(t.full)e.insert(0,f(0,g.length)),e.remove(g.length,e.size-g.length);else if(Bu(e,t)){var z=f(0,g.length-1);a(C,C.text,E),P&&e.remove(d.line,P),z.length&&e.insert(d.line,z)}else if(x==C)if(g.length==1)a(x,x.text.slice(0,d.ch)+O+x.text.slice(p.ch),E);else{var X=f(1,g.length-1);X.push(new ei(O+x.text.slice(p.ch),E,n)),a(x,x.text.slice(0,d.ch)+g[0],l(0)),e.insert(d.line+1,X)}else if(g.length==1)a(x,x.text.slice(0,d.ch)+g[0]+C.text.slice(p.ch),l(0)),e.remove(d.line+1,P);else{a(x,x.text.slice(0,d.ch)+g[0],l(0)),a(C,O+C.text.slice(p.ch),E);var Q=f(1,g.length-1);P>1&&e.remove(d.line+1,P-1),e.insert(d.line+1,Q)}yt(e,"change",e,t)}function sn(e,t,i){function n(l,a,f){if(l.linked)for(var d=0;d<l.linked.length;++d){var p=l.linked[d];if(p.doc!=a){var g=f&&p.sharedHist;i&&!g||(t(p.doc,g),n(p.doc,l,g))}}}n(e,null,!0)}function Wu(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ts(e),ps(e),zu(e),e.options.direction=t.direction,e.options.lineWrapping||Ko(e),e.options.mode=t.modeOption,Ut(e)}function zu(e){(e.doc.direction=="rtl"?kt:ue)(e.display.lineDiv,"CodeMirror-rtl")}function Fd(e){$t(e,function(){zu(e),Ut(e)})}function Kl(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function vs(e,t){var i={from:mt(t.from),to:on(t),text:zr(e,t.from,t.to)};return Ku(e,i,t.from.line,t.to.line+1),sn(e,function(n){return Ku(n,i,t.from.line,t.to.line+1)},!0),i}function Uu(e){for(;e.length;){var t=j(e);if(t.ranges)e.pop();else break}}function Hd(e,t){if(t)return Uu(e.done),j(e.done);if(e.done.length&&!j(e.done).ranges)return j(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),j(e.done)}function ju(e,t,i,n){var l=e.history;l.undone.length=0;var a=+new Date,f,d;if((l.lastOp==n||l.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&l.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(f=Hd(l,l.lastOp==n)))d=j(f.changes),te(t.from,t.to)==0&&te(t.from,d.to)==0?d.to=on(t):f.changes.push(vs(e,t));else{var p=j(l.done);for((!p||!p.ranges)&&ql(e.sel,l.done),f={changes:[vs(e,t)],generation:l.generation},l.done.push(f);l.done.length>l.undoDepth;)l.done.shift(),l.done[0].ranges||l.done.shift()}l.done.push(i),l.generation=++l.maxGeneration,l.lastModTime=l.lastSelTime=a,l.lastOp=l.lastSelOp=n,l.lastOrigin=l.lastSelOrigin=t.origin,d||tt(e,"historyAdded")}function Bd(e,t,i,n){var l=t.charAt(0);return l=="*"||l=="+"&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Wd(e,t,i,n){var l=e.history,a=n&&n.origin;i==l.lastSelOp||a&&l.lastSelOrigin==a&&(l.lastModTime==l.lastSelTime&&l.lastOrigin==a||Bd(e,a,j(l.done),t))?l.done[l.done.length-1]=t:ql(t,l.done),l.lastSelTime=+new Date,l.lastSelOrigin=a,l.lastSelOp=i,n&&n.clearRedo!==!1&&Uu(l.undone)}function ql(e,t){var i=j(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Ku(e,t,i,n){var l=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(f){f.markedSpans&&((l||(l=t["spans_"+e.id]={}))[a]=f.markedSpans),++a})}function zd(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function Ud(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],l=0;l<t.text.length;++l)n.push(zd(i[l]));return n}function qu(e,t){var i=Ud(e,t),n=Wo(e,t);if(!i)return n;if(!n)return i;for(var l=0;l<i.length;++l){var a=i[l],f=n[l];if(a&&f)e:for(var d=0;d<f.length;++d){for(var p=f[d],g=0;g<a.length;++g)if(a[g].marker==p.marker)continue e;a.push(p)}else f&&(i[l]=f)}return i}function ai(e,t,i){for(var n=[],l=0;l<e.length;++l){var a=e[l];if(a.ranges){n.push(i?or.prototype.deepCopy.call(a):a);continue}var f=a.changes,d=[];n.push({changes:d});for(var p=0;p<f.length;++p){var g=f[p],x=void 0;if(d.push({from:g.from,to:g.to,text:g.text}),t)for(var C in g)(x=C.match(/^spans_(\d+)$/))&&Ce(t,Number(x[1]))>-1&&(j(d)[C]=g[C],delete g[C])}}return n}function ms(e,t,i,n){if(n){var l=e.anchor;if(i){var a=te(t,l)<0;a!=te(i,l)<0?(l=t,t=i):a!=te(t,i)<0&&(t=i)}return new je(l,t)}else return new je(i||t,t)}function Gl(e,t,i,n,l){l==null&&(l=e.cm&&(e.cm.display.shift||e.extend)),Dt(e,new or([ms(e.sel.primary(),t,i,l)],0),n)}function Gu(e,t,i){for(var n=[],l=e.cm&&(e.cm.display.shift||e.extend),a=0;a<e.sel.ranges.length;a++)n[a]=ms(e.sel.ranges[a],t[a],null,l);var f=wr(e.cm,n,e.sel.primIndex);Dt(e,f,i)}function ys(e,t,i,n){var l=e.sel.ranges.slice(0);l[t]=i,Dt(e,wr(e.cm,l,e.sel.primIndex),n)}function Yu(e,t,i,n){Dt(e,ln(t,i),n)}function jd(e,t,i){var n={ranges:t.ranges,update:function(l){this.ranges=[];for(var a=0;a<l.length;a++)this.ranges[a]=new je(we(e,l[a].anchor),we(e,l[a].head))},origin:i&&i.origin};return tt(e,"beforeSelectionChange",e,n),e.cm&&tt(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?wr(e.cm,n.ranges,n.ranges.length-1):t}function Xu(e,t,i){var n=e.history.done,l=j(n);l&&l.ranges?(n[n.length-1]=t,Yl(e,t,i)):Dt(e,t,i)}function Dt(e,t,i){Yl(e,t,i),Wd(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Yl(e,t,i){(Qt(e,"beforeSelectionChange")||e.cm&&Qt(e.cm,"beforeSelectionChange"))&&(t=jd(e,t,i));var n=i&&i.bias||(te(t.primary().head,e.sel.primary().head)<0?-1:1);Zu(e,Qu(e,t,n,!0)),!(i&&i.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&oi(e.cm)}function Zu(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,sr(e.cm)),yt(e,"cursorActivity",e))}function Ju(e){Zu(e,Qu(e,e.sel,null,!1))}function Qu(e,t,i,n){for(var l,a=0;a<t.ranges.length;a++){var f=t.ranges[a],d=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[a],p=Xl(e,f.anchor,d&&d.anchor,i,n),g=f.head==f.anchor?p:Xl(e,f.head,d&&d.head,i,n);(l||p!=f.anchor||g!=f.head)&&(l||(l=t.ranges.slice(0,a)),l[a]=new je(p,g))}return l?wr(e.cm,l,t.primIndex):t}function ui(e,t,i,n,l){var a=ce(e,t.line);if(a.markedSpans)for(var f=0;f<a.markedSpans.length;++f){var d=a.markedSpans[f],p=d.marker,g="selectLeft"in p?!p.selectLeft:p.inclusiveLeft,x="selectRight"in p?!p.selectRight:p.inclusiveRight;if((d.from==null||(g?d.from<=t.ch:d.from<t.ch))&&(d.to==null||(x?d.to>=t.ch:d.to>t.ch))){if(l&&(tt(p,"beforeCursorEnter"),p.explicitlyCleared))if(a.markedSpans){--f;continue}else break;if(!p.atomic)continue;if(i){var C=p.find(n<0?1:-1),O=void 0;if((n<0?x:g)&&(C=$u(e,C,-n,C&&C.line==t.line?a:null)),C&&C.line==t.line&&(O=te(C,i))&&(n<0?O<0:O>0))return ui(e,C,t,n,l)}var E=p.find(n<0?-1:1);return(n<0?g:x)&&(E=$u(e,E,n,E.line==t.line?a:null)),E?ui(e,E,t,n,l):null}}return t}function Xl(e,t,i,n,l){var a=n||1,f=ui(e,t,i,a,l)||!l&&ui(e,t,i,a,!0)||ui(e,t,i,-a,l)||!l&&ui(e,t,i,-a,!0);return f||(e.cantEdit=!0,_(e.first,0))}function $u(e,t,i,n){return i<0&&t.ch==0?t.line>e.first?we(e,_(t.line-1)):null:i>0&&t.ch==(n||ce(e,t.line)).text.length?t.line<e.first+e.size-1?_(t.line+1,0):null:new _(t.line,t.ch+i)}function Vu(e){e.setSelection(_(e.firstLine(),0),_(e.lastLine()),R)}function ef(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(l,a,f,d){l&&(n.from=we(e,l)),a&&(n.to=we(e,a)),f&&(n.text=f),d!==void 0&&(n.origin=d)}),tt(e,"beforeChange",e,n),e.cm&&tt(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function fi(e,t,i){if(e.cm){if(!e.cm.curOp)return bt(e.cm,fi)(e,t,i);if(e.cm.state.suppressEdits)return}if(!((Qt(e,"beforeChange")||e.cm&&Qt(e.cm,"beforeChange"))&&(t=ef(e,t,!0),!t))){var n=qa&&!i&&Wh(e,t.from,t.to);if(n)for(var l=n.length-1;l>=0;--l)tf(e,{from:n[l].from,to:n[l].to,text:l?[""]:t.text,origin:t.origin});else tf(e,t)}}function tf(e,t){if(!(t.text.length==1&&t.text[0]==""&&te(t.from,t.to)==0)){var i=ds(e,t);ju(e,t,i,e.cm?e.cm.curOp.id:NaN),Zi(e,t,i,Wo(e,t));var n=[];sn(e,function(l,a){!a&&Ce(n,l.history)==-1&&(of(l.history,t),n.push(l.history)),Zi(l,t,null,Wo(l,t))})}}function Zl(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!(n&&!i)){for(var l=e.history,a,f=e.sel,d=t=="undo"?l.done:l.undone,p=t=="undo"?l.undone:l.done,g=0;g<d.length&&(a=d[g],!(i?a.ranges&&!a.equals(e.sel):!a.ranges));g++);if(g!=d.length){for(l.lastOrigin=l.lastSelOrigin=null;;)if(a=d.pop(),a.ranges){if(ql(a,p),i&&!a.equals(e.sel)){Dt(e,a,{clearRedo:!1});return}f=a}else if(n){d.push(a);return}else break;var x=[];ql(f,p),p.push({changes:x,generation:l.generation}),l.generation=a.generation||++l.maxGeneration;for(var C=Qt(e,"beforeChange")||e.cm&&Qt(e.cm,"beforeChange"),O=function(z){var X=a.changes[z];if(X.origin=t,C&&!ef(e,X,!1))return d.length=0,{};x.push(vs(e,X));var Q=z?ds(e,X):j(d);Zi(e,X,Q,qu(e,X)),!z&&e.cm&&e.cm.scrollIntoView({from:X.from,to:on(X)});var ne=[];sn(e,function($,le){!le&&Ce(ne,$.history)==-1&&(of($.history,X),ne.push($.history)),Zi($,X,null,qu($,X))})},E=a.changes.length-1;E>=0;--E){var P=O(E);if(P)return P.v}}}}function rf(e,t){if(t!=0&&(e.first+=t,e.sel=new or(G(e.sel.ranges,function(l){return new je(_(l.anchor.line+t,l.anchor.ch),_(l.head.line+t,l.head.ch))}),e.sel.primIndex),e.cm)){Ut(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)rn(e.cm,n,"gutter")}}function Zi(e,t,i,n){if(e.cm&&!e.cm.curOp)return bt(e.cm,Zi)(e,t,i,n);if(t.to.line<e.first){rf(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var l=t.text.length-1-(e.first-t.from.line);rf(e,l),t={from:_(e.first,0),to:_(t.to.line+l,t.to.ch),text:[j(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:_(a,ce(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=zr(e,t.from,t.to),i||(i=ds(e,t)),e.cm?Kd(e.cm,t,n):gs(e,t,n),Yl(e,i,R),e.cantEdit&&Xl(e,_(e.firstLine(),0))&&(e.cantEdit=!1)}}function Kd(e,t,i){var n=e.doc,l=e.display,a=t.from,f=t.to,d=!1,p=a.line;e.options.lineWrapping||(p=m(br(ce(n,a.line))),n.iter(p,f.line+1,function(E){if(E==l.maxLine)return d=!0,!0})),n.sel.contains(t.from,t.to)>-1&&sr(e),gs(n,t,i,wu(e)),e.options.lineWrapping||(n.iter(p,a.line+t.text.length,function(E){var P=Dl(E);P>l.maxLineLength&&(l.maxLine=E,l.maxLineLength=P,l.maxLineChanged=!0,d=!1)}),d&&(e.curOp.updateMaxLine=!0)),Ih(n,a.line),Gi(e,400);var g=t.text.length-(f.line-a.line)-1;t.full?Ut(e):a.line==f.line&&t.text.length==1&&!Bu(e.doc,t)?rn(e,a.line,"text"):Ut(e,a.line,f.line+1,g);var x=Qt(e,"changes"),C=Qt(e,"change");if(C||x){var O={from:a,to:f,text:t.text,removed:t.removed,origin:t.origin};C&&yt(e,"change",e,O),x&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(O)}e.display.selForContextMenu=null}function ci(e,t,i,n,l){var a;n||(n=i),te(n,i)<0&&(a=[n,i],i=a[0],n=a[1]),typeof t=="string"&&(t=e.splitLines(t)),fi(e,{from:i,to:n,text:t,origin:l})}function nf(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function lf(e,t,i,n){for(var l=0;l<e.length;++l){var a=e[l],f=!0;if(a.ranges){a.copied||(a=e[l]=a.deepCopy(),a.copied=!0);for(var d=0;d<a.ranges.length;d++)nf(a.ranges[d].anchor,t,i,n),nf(a.ranges[d].head,t,i,n);continue}for(var p=0;p<a.changes.length;++p){var g=a.changes[p];if(i<g.from.line)g.from=_(g.from.line+n,g.from.ch),g.to=_(g.to.line+n,g.to.ch);else if(t<=g.to.line){f=!1;break}}f||(e.splice(0,l+1),l=0)}}function of(e,t){var i=t.from.line,n=t.to.line,l=t.text.length-(n-i)-1;lf(e.done,i,n,l),lf(e.undone,i,n,l)}function Ji(e,t,i,n){var l=t,a=t;return typeof t=="number"?a=ce(e,Ra(e,t)):l=m(t),l==null?null:(n(a,l)&&e.cm&&rn(e.cm,l,i),a)}function Qi(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}Qi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var l=this.lines[i];this.height-=l.height,qh(l),yt(l,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}};function $i(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var l=e[n];t+=l.chunkSize(),i+=l.height,l.parent=this}this.size=t,this.height=i,this.parent=null}$i.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],l=n.chunkSize();if(e<l){var a=Math.min(t,l-e),f=n.height;if(n.removeInner(e,a),this.height-=f-n.height,l==a&&(this.children.splice(i--,1),n.parent=null),(t-=a)==0)break;e=0}else e-=l}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Qi))){var d=[];this.collapse(d),this.children=[new Qi(d)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var l=this.children[n],a=l.chunkSize();if(e<=a){if(l.insertInner(e,t,i),l.lines&&l.lines.length>50){for(var f=l.lines.length%25+25,d=f;d<l.lines.length;){var p=new Qi(l.lines.slice(d,d+=25));l.height-=p.height,this.children.splice(++n,0,p),p.parent=this}l.lines=l.lines.slice(0,f),this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new $i(t);if(e.parent){e.size-=i.size,e.height-=i.height;var l=Ce(e.parent.children,e);e.parent.children.splice(l+1,0,i)}else{var n=new $i(e.children);n.parent=e,e.children=[n,i],e=n}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var l=this.children[n],a=l.chunkSize();if(e<a){var f=Math.min(t,a-e);if(l.iterN(e,f,i))return!0;if((t-=f)==0)break;e=0}else e-=a}}};var Vi=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};Vi.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=m(i);if(!(n==null||!t)){for(var l=0;l<t.length;++l)t[l]==this&&t.splice(l--,1);t.length||(i.widgets=null);var a=Bi(this);lr(i,Math.max(0,i.height-a)),e&&($t(e,function(){sf(e,i,-a),rn(e,n,"widget")}),yt(e,"lineWidgetCleared",e,this,n))}},Vi.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var l=Bi(this)-t;l&&(tn(this.doc,n)||lr(n,n.height+l),i&&$t(i,function(){i.curOp.forceUpdate=!0,sf(i,n,l),yt(i,"lineWidgetChanged",i,e,m(n))}))},pr(Vi);function sf(e,t,i){jr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ss(e,i)}function qd(e,t,i,n){var l=new Vi(e,i,n),a=e.cm;return a&&l.noHScroll&&(a.display.alignWidgets=!0),Ji(e,t,"widget",function(f){var d=f.widgets||(f.widgets=[]);if(l.insertAt==null?d.push(l):d.splice(Math.min(d.length,Math.max(0,l.insertAt)),0,l),l.line=f,a&&!tn(e,f)){var p=jr(f)<e.scrollTop;lr(f,f.height+Bi(l)),p&&ss(a,l.height),a.curOp.forceUpdate=!0}return!0}),a&&yt(a,"lineWidgetAdded",a,l,typeof t=="number"?t:m(t)),l}var af=0,an=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++af};an.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&An(e),Qt(this,"clear")){var i=this.find();i&&yt(this,"clear",i.from,i.to)}for(var n=null,l=null,a=0;a<this.lines.length;++a){var f=this.lines[a],d=Ri(f.markedSpans,this);e&&!this.collapsed?rn(e,m(f),"text"):e&&(d.to!=null&&(l=m(f)),d.from!=null&&(n=m(f))),f.markedSpans=Rh(f.markedSpans,d),d.from==null&&this.collapsed&&!tn(this.doc,f)&&e&&lr(f,ni(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var p=0;p<this.lines.length;++p){var g=br(this.lines[p]),x=Dl(g);x>e.display.maxLineLength&&(e.display.maxLine=g,e.display.maxLineLength=x,e.display.maxLineChanged=!0)}n!=null&&e&&this.collapsed&&Ut(e,n,l+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ju(e.doc)),e&&yt(e,"markerCleared",e,this,n,l),t&&On(e),this.parent&&this.parent.clear()}},an.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var i,n,l=0;l<this.lines.length;++l){var a=this.lines[l],f=Ri(a.markedSpans,this);if(f.from!=null&&(i=_(t?a:m(a),f.from),e==-1))return i;if(f.to!=null&&(n=_(t?a:m(a),f.to),e==1))return n}return i&&{from:i,to:n}},an.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;!t||!n||$t(n,function(){var l=t.line,a=m(t.line),f=Xo(n,a);if(f&&(du(f),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!tn(i.doc,l)&&i.height!=null){var d=i.height;i.height=null;var p=Bi(i)-d;p&&lr(l,l.height+p)}yt(n,"markerChanged",n,e)})},an.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Ce(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},an.prototype.detachLine=function(e){if(this.lines.splice(Ce(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},pr(an);function hi(e,t,i,n,l){if(n&&n.shared)return Gd(e,t,i,n,l);if(e.cm&&!e.cm.curOp)return bt(e.cm,hi)(e,t,i,n,l);var a=new an(e,l),f=te(t,i);if(n&&Me(n,a,!1),f>0||f==0&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Xe("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Qa(e,t.line,t,i,a)||t.line!=i.line&&Qa(e,i.line,t,i,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ph()}a.addToHistory&&ju(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var d=t.line,p=e.cm,g;if(e.iter(d,i.line+1,function(C){p&&a.collapsed&&!p.options.lineWrapping&&br(C)==p.display.maxLine&&(g=!0),a.collapsed&&d!=t.line&&lr(C,0),Fh(C,new El(a,d==t.line?t.ch:null,d==i.line?i.ch:null),e.cm&&e.cm.curOp),++d}),a.collapsed&&e.iter(t.line,i.line+1,function(C){tn(e,C)&&lr(C,0)}),a.clearOnEnter&&ve(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(_h(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++af,a.atomic=!0),p){if(g&&(p.curOp.updateMaxLine=!0),a.collapsed)Ut(p,t.line,i.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var x=t.line;x<=i.line;x++)rn(p,x,"text");a.atomic&&Ju(p.doc),yt(p,"markerAdded",p,a)}return a}var el=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};el.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();yt(this,"clear")}},el.prototype.find=function(e,t){return this.primary.find(e,t)},pr(el);function Gd(e,t,i,n,l){n=Me(n),n.shared=!1;var a=[hi(e,t,i,n,l)],f=a[0],d=n.widgetNode;return sn(e,function(p){d&&(n.widgetNode=d.cloneNode(!0)),a.push(hi(p,we(p,t),we(p,i),n,l));for(var g=0;g<p.linked.length;++g)if(p.linked[g].isParent)return;f=j(a)}),new el(a,f)}function uf(e){return e.findMarks(_(e.first,0),e.clipPos(_(e.lastLine())),function(t){return t.parent})}function Yd(e,t){for(var i=0;i<t.length;i++){var n=t[i],l=n.find(),a=e.clipPos(l.from),f=e.clipPos(l.to);if(te(a,f)){var d=hi(e,a,f,n.primary,n.primary.type);n.markers.push(d),d.parent=n}}}function Xd(e){for(var t=function(n){var l=e[n],a=[l.primary.doc];sn(l.primary.doc,function(p){return a.push(p)});for(var f=0;f<l.markers.length;f++){var d=l.markers[f];Ce(a,d.doc)==-1&&(d.parent=null,l.markers.splice(f--,1))}},i=0;i<e.length;i++)t(i)}var Zd=0,jt=function(e,t,i,n,l){if(!(this instanceof jt))return new jt(e,t,i,n,l);i==null&&(i=0),$i.call(this,[new Qi([new ei("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var a=_(i,0);this.sel=ln(a),this.history=new Kl(null),this.id=++Zd,this.modeOption=t,this.lineSep=n,this.direction=l=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),gs(this,{from:a,to:a,text:e}),Dt(this,ln(a),R)};jt.prototype=pe($i.prototype,{constructor:jt,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=_i(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:xt(function(e){var t=_(this.first,0),i=this.first+this.size-1;fi(this,{from:t,to:_(i,ce(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Ui(this.cm,0,0),Dt(this,ln(t),R)}),replaceRange:function(e,t,i,n){t=we(this,t),i=i?we(this,i):t,ci(this,e,t,i,n)},getRange:function(e,t,i){var n=zr(this,we(this,e),we(this,t));return i===!1?n:i===""?n.join(""):n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(B(this,e))return ce(this,e)},getLineNumber:function(e){return m(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=ce(this,e)),br(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return we(this,e)},getCursor:function(e){var t=this.sel.primary(),i;return e==null||e=="head"?i=t.head:e=="anchor"?i=t.anchor:e=="end"||e=="to"||e===!1?i=t.to():i=t.from(),i},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:xt(function(e,t,i){Yu(this,we(this,typeof e=="number"?_(e,t||0):e),null,i)}),setSelection:xt(function(e,t,i){Yu(this,we(this,e),we(this,t||e),i)}),extendSelection:xt(function(e,t,i){Gl(this,we(this,e),t&&we(this,t),i)}),extendSelections:xt(function(e,t){Gu(this,Fa(this,e),t)}),extendSelectionsBy:xt(function(e,t){var i=G(this.sel.ranges,e);Gu(this,Fa(this,i),t)}),setSelections:xt(function(e,t,i){if(e.length){for(var n=[],l=0;l<e.length;l++)n[l]=new je(we(this,e[l].anchor),we(this,e[l].head||e[l].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Dt(this,wr(this.cm,n,t),i)}}),addSelection:xt(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new je(we(this,e),we(this,t||e))),Dt(this,wr(this.cm,n,n.length-1),i)}),getSelection:function(e){for(var t=this.sel.ranges,i,n=0;n<t.length;n++){var l=zr(this,t[n].from(),t[n].to());i=i?i.concat(l):l}return e===!1?i:i.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var l=zr(this,i[n].from(),i[n].to());e!==!1&&(l=l.join(e||this.lineSeparator())),t[n]=l}return t},replaceSelection:function(e,t,i){for(var n=[],l=0;l<this.sel.ranges.length;l++)n[l]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:xt(function(e,t,i){for(var n=[],l=this.sel,a=0;a<l.ranges.length;a++){var f=l.ranges[a];n[a]={from:f.from(),to:f.to(),text:this.splitLines(e[a]),origin:i}}for(var d=t&&t!="end"&&Rd(this,n,t),p=n.length-1;p>=0;p--)fi(this,n[p]);d?Xu(this,d):this.cm&&oi(this.cm)}),undo:xt(function(){Zl(this,"undo")}),redo:xt(function(){Zl(this,"redo")}),undoSelection:xt(function(){Zl(this,"undo",!0)}),redoSelection:xt(function(){Zl(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var l=0;l<e.undone.length;l++)e.undone[l].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){var e=this;this.history=new Kl(this.history),sn(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ai(this.history.done),undone:ai(this.history.undone)}},setHistory:function(e){var t=this.history=new Kl(this.history);t.done=ai(e.done.slice(0),null,!0),t.undone=ai(e.undone.slice(0),null,!0)},setGutterMarker:xt(function(e,t,i){return Ji(this,e,"gutter",function(n){var l=n.gutterMarkers||(n.gutterMarkers={});return l[t]=i,!i&&He(l)&&(n.gutterMarkers=null),!0})}),clearGutter:xt(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&Ji(t,i,"gutter",function(){return i.gutterMarkers[e]=null,He(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!B(this,e)||(t=e,e=ce(this,e),!e))return null}else if(t=m(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:xt(function(e,t,i){return Ji(this,e,t=="gutter"?"gutter":"class",function(n){var l=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!n[l])n[l]=i;else{if(Ke(i).test(n[l]))return!1;n[l]+=" "+i}return!0})}),removeLineClass:xt(function(e,t,i){return Ji(this,e,t=="gutter"?"gutter":"class",function(n){var l=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",a=n[l];if(a)if(i==null)n[l]=null;else{var f=a.match(Ke(i));if(!f)return!1;var d=f.index+f[0].length;n[l]=a.slice(0,f.index)+(!f.index||d==a.length?"":" ")+a.slice(d)||null}else return!1;return!0})}),addLineWidget:xt(function(e,t,i){return qd(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return hi(this,we(this,e),we(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=we(this,e),hi(this,e,e,i,"bookmark")},findMarksAt:function(e){e=we(this,e);var t=[],i=ce(this,e.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var l=i[n];(l.from==null||l.from<=e.ch)&&(l.to==null||l.to>=e.ch)&&t.push(l.marker.parent||l.marker)}return t},findMarks:function(e,t,i){e=we(this,e),t=we(this,t);var n=[],l=e.line;return this.iter(e.line,t.line+1,function(a){var f=a.markedSpans;if(f)for(var d=0;d<f.length;d++){var p=f[d];!(p.to!=null&&l==e.line&&e.ch>=p.to||p.from==null&&l!=e.line||p.from!=null&&l==t.line&&p.from>=t.ch)&&(!i||i(p.marker))&&n.push(p.marker.parent||p.marker)}++l}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)i[n].from!=null&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(l){var a=l.text.length+n;if(a>e)return t=e,!0;e-=a,++i}),we(this,_(i,t))},indexFromPos:function(e){e=we(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+i}),t},copy:function(e){var t=new jt(_i(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<i&&(i=e.to);var n=new jt(_i(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Yd(n,uf(this)),n},unlinkDoc:function(e){if(e instanceof $e&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var i=this.linked[t];if(i.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Xd(uf(this));break}}if(e.history==this.history){var n=[e.id];sn(e,function(l){return n.push(l.id)},!0),e.history=new Kl(null),e.history.done=ai(this.history.done,n),e.history.undone=ai(this.history.undone,n)}},iterLinkedDocs:function(e){sn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ar(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:xt(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&Fd(this.cm))})}),jt.prototype.eachLine=jt.prototype.iter;var ff=0;function Jd(e){var t=this;if(cf(t),!(rt(t,e)||Kr(t.display,e))){Nt(e),y&&(ff=+new Date);var i=Tn(t,e,!0),n=e.dataTransfer.files;if(!(!i||t.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var l=n.length,a=Array(l),f=0,d=function(){++f==l&&bt(t,function(){i=we(t.doc,i);var E={from:i,to:i,text:t.doc.splitLines(a.filter(function(P){return P!=null}).join(t.doc.lineSeparator())),origin:"paste"};fi(t.doc,E),Xu(t.doc,ln(we(t.doc,i),we(t.doc,on(E))))})()},p=function(E,P){if(t.options.allowDropFileTypes&&Ce(t.options.allowDropFileTypes,E.type)==-1){d();return}var z=new FileReader;z.onerror=function(){return d()},z.onload=function(){var X=z.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(X)){d();return}a[P]=X,d()},z.readAsText(E)},g=0;g<n.length;g++)p(n[g],g);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var x=e.dataTransfer.getData("Text");if(x){var C;if(t.state.draggingText&&!t.state.draggingText.copy&&(C=t.listSelections()),Yl(t.doc,ln(i,i)),C)for(var O=0;O<C.length;++O)ci(t.doc,"",C[O].anchor,C[O].head,"drag");t.replaceSelection(x,"around","paste"),t.display.input.focus()}}catch{}}}}function Qd(e,t){if(y&&(!e.state.draggingText||+new Date-ff<100)){Qr(t);return}if(!(rt(e,t)||Kr(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!H)){var i=L("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",I&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),I&&i.parentNode.removeChild(i)}}function $d(e,t){var i=Tn(e,t);if(i){var n=document.createDocumentFragment();rs(e,i,n),e.display.dragCursor||(e.display.dragCursor=L("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),se(e.display.dragCursor,n)}}function cf(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function hf(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<t.length;n++){var l=t[n].CodeMirror;l&&i.push(l)}i.length&&i[0].operation(function(){for(var a=0;a<i.length;a++)e(i[a])})}}var df=!1;function Vd(){df||(ep(),df=!0)}function ep(){var e;ve(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,hf(tp)},100))}),ve(window,"blur",function(){return hf(li)})}function tp(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var un={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},tl=0;tl<10;tl++)un[tl+48]=un[tl+96]=String(tl);for(var Jl=65;Jl<=90;Jl++)un[Jl]=String.fromCharCode(Jl);for(var rl=1;rl<=12;rl++)un[rl+111]=un[rl+63235]="F"+rl;var Gr={};Gr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Gr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Gr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Gr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Gr.default=oe?Gr.macDefault:Gr.pcDefault;function rp(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var i,n,l,a,f=0;f<t.length-1;f++){var d=t[f];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))n=!0;else if(/^s(hift)?$/i.test(d))l=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(e="Alt-"+e),n&&(e="Ctrl-"+e),a&&(e="Cmd-"+e),l&&(e="Shift-"+e),e}function np(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if(n=="..."){delete e[i];continue}for(var l=G(i.split(" "),rp),a=0;a<l.length;a++){var f=void 0,d=void 0;a==l.length-1?(d=l.join(" "),f=n):(d=l.slice(0,a+1).join(" "),f="...");var p=t[d];if(!p)t[d]=f;else if(p!=f)throw new Error("Inconsistent bindings for "+d)}delete e[i]}for(var g in t)e[g]=t[g];return e}function di(e,t,i,n){t=Ql(t);var l=t.call?t.call(e,n):t[e];if(l===!1)return"nothing";if(l==="...")return"multi";if(l!=null&&i(l))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return di(e,t.fallthrough,i,n);for(var a=0;a<t.fallthrough.length;a++){var f=di(e,t.fallthrough[a],i,n);if(f)return f}}}function pf(e){var t=typeof e=="string"?e:un[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function gf(e,t,i){var n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(Ee?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(Ee?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!i&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}function vf(e,t){if(I&&e.keyCode==34&&e.char)return!1;var i=un[e.keyCode];return i==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(i=e.code),gf(i,e,t))}function Ql(e){return typeof e=="string"?Gr[e]:e}function pi(e,t){for(var i=e.doc.sel.ranges,n=[],l=0;l<i.length;l++){for(var a=t(i[l]);n.length&&te(a.from,j(n).to)<=0;){var f=n.pop();if(te(f.from,a.from)<0){a.from=f.from;break}}n.push(a)}$t(e,function(){for(var d=n.length-1;d>=0;d--)ci(e.doc,"",n[d].from,n[d].to,"+delete");oi(e)})}function bs(e,t,i){var n=Bt(e.text,t+i,i);return n<0||n>e.text.length?null:n}function xs(e,t,i){var n=bs(e,t.ch,i);return n==null?null:new _(t.line,n,i<0?"after":"before")}function ws(e,t,i,n,l){if(e){t.doc.direction=="rtl"&&(l=-l);var a=Ie(i,t.doc.direction);if(a){var f=l<0?j(a):a[0],d=l<0==(f.level==1),p=d?"after":"before",g;if(f.level>0||t.doc.direction=="rtl"){var x=ri(t,i);g=l<0?i.text.length-1:0;var C=Dr(t,x,g).top;g=ir(function(O){return Dr(t,x,O).top==C},l<0==(f.level==1)?f.from:f.to-1,g),p=="before"&&(g=bs(i,g,1))}else g=l<0?f.to:f.from;return new _(n,g,p)}}return new _(n,l<0?i.text.length:0,l<0?"before":"after")}function ip(e,t,i,n){var l=Ie(t,e.doc.direction);if(!l)return xs(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var a=st(l,i.ch,i.sticky),f=l[a];if(e.doc.direction=="ltr"&&f.level%2==0&&(n>0?f.to>i.ch:f.from<i.ch))return xs(t,i,n);var d=function(Q,ne){return bs(t,Q instanceof _?Q.ch:Q,ne)},p,g=function(Q){return e.options.lineWrapping?(p=p||ri(e,t),xu(e,t,p,Q)):{begin:0,end:t.text.length}},x=g(i.sticky=="before"?d(i,-1):i.ch);if(e.doc.direction=="rtl"||f.level==1){var C=f.level==1==n<0,O=d(i,C?1:-1);if(O!=null&&(C?O<=f.to&&O<=x.end:O>=f.from&&O>=x.begin)){var E=C?"before":"after";return new _(i.line,O,E)}}var P=function(Q,ne,$){for(var le=function(Ze,wt){return wt?new _(i.line,d(Ze,1),"before"):new _(i.line,Ze,"after")};Q>=0&&Q<l.length;Q+=ne){var me=l[Q],de=ne>0==(me.level!=1),Ne=de?$.begin:d($.end,-1);if(me.from<=Ne&&Ne<me.to||(Ne=de?me.from:d(me.to,-1),$.begin<=Ne&&Ne<$.end))return le(Ne,de)}},z=P(a+n,n,x);if(z)return z;var X=n>0?x.end:d(x.begin,-1);return X!=null&&!(n>0&&X==t.text.length)&&(z=P(n>0?0:l.length-1,n,g(X)),z)?z:null}var nl={selectAll:Vu,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),R)},killLine:function(e){return pi(e,function(t){if(t.empty()){var i=ce(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:_(t.head.line+1,0)}:{from:t.head,to:_(t.head.line,i)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return pi(e,function(t){return{from:_(t.from().line,0),to:we(e.doc,_(t.to().line+1,0))}})},delLineLeft:function(e){return pi(e,function(t){return{from:_(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return pi(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return pi(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(_(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(_(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return mf(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return yf(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return lp(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},U)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},U)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?yf(e,t.head):n},U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,l=0;l<i.length;l++){var a=i[l].from(),f=Pe(e.getLine(a.line),a.ch,n);t.push(J(n-f%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return $t(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var l=t[n].head,a=ce(e.doc,l.line).text;if(a){if(l.ch==a.length&&(l=new _(l.line,l.ch-1)),l.ch>0)l=new _(l.line,l.ch+1),e.replaceRange(a.charAt(l.ch-1)+a.charAt(l.ch-2),_(l.line,l.ch-2),l,"+transpose");else if(l.line>e.doc.first){var f=ce(e.doc,l.line-1).text;f&&(l=new _(l.line,1),e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+f.charAt(f.length-1),_(l.line-1,f.length-1),l,"+transpose"))}}i.push(new je(l,l))}e.setSelections(i)})},newlineAndIndent:function(e){return $t(e,function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);oi(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function mf(e,t){var i=ce(e.doc,t),n=br(i);return n!=i&&(t=m(n)),ws(!0,e,n,t,1)}function lp(e,t){var i=ce(e.doc,t),n=Uh(i);return n!=i&&(t=m(n)),ws(!0,e,i,t,-1)}function yf(e,t){var i=mf(e,t.line),n=ce(e.doc,i.line),l=Ie(n,e.doc.direction);if(!l||l[0].level==0){var a=Math.max(i.ch,n.text.search(/\S/)),f=t.line==i.line&&t.ch<=a&&t.ch;return _(i.line,f?0:a,i.sticky)}return i}function $l(e,t,i){if(typeof t=="string"&&(t=nl[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,l=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),l=t(e)!=A}finally{e.display.shift=n,e.state.suppressEdits=!1}return l}function op(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var l=di(t,e.state.keyMaps[n],i,e);if(l)return l}return e.options.extraKeys&&di(t,e.options.extraKeys,i,e)||di(t,e.options.keyMap,i,e)}var sp=new Xt;function il(e,t,i,n){var l=e.state.keySeq;if(l){if(pf(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:sp.set(50,function(){e.state.keySeq==l&&(e.state.keySeq=null,e.display.input.reset())}),bf(e,l+" "+t,i,n))return!0}return bf(e,t,i,n)}function bf(e,t,i,n){var l=op(e,t,n);return l=="multi"&&(e.state.keySeq=t),l=="handled"&&yt(e,"keyHandled",e,t,i),(l=="handled"||l=="multi")&&(Nt(i),ns(e)),!!l}function xf(e,t){var i=vf(t,!0);return i?t.shiftKey&&!e.state.keySeq?il(e,"Shift-"+i,t,function(n){return $l(e,n,!0)})||il(e,i,t,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return $l(e,n)}):il(e,i,t,function(n){return $l(e,n)}):!1}function ap(e,t,i){return il(e,"'"+i+"'",t,function(n){return $l(e,n,!0)})}var Ss=null;function wf(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=Qe(nr(t)),!rt(t,e))){y&&w<11&&e.keyCode==27&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=i==16||e.shiftKey;var n=xf(t,e);I&&(Ss=n?i:null,!n&&i==88&&!Ll&&(oe?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),c&&!oe&&!n&&i==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),i==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&up(t)}}function up(e){var t=e.display.lineDiv;kt(t,"CodeMirror-crosshair");function i(n){(n.keyCode==18||!n.altKey)&&(ue(t,"CodeMirror-crosshair"),Ot(document,"keyup",i),Ot(document,"mouseover",i))}ve(document,"keyup",i),ve(document,"mouseover",i)}function Sf(e){e.keyCode==16&&(this.doc.sel.shift=!1),rt(this,e)}function Cf(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(Kr(t.display,e)||rt(t,e)||e.ctrlKey&&!e.altKey||oe&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(I&&i==Ss){Ss=null,Nt(e);return}if(!(I&&(!e.which||e.which<10)&&xf(t,e))){var l=String.fromCharCode(n??i);l!="\b"&&(ap(t,e,l)||t.display.input.onKeyPress(e))}}}var fp=400,Cs=function(e,t,i){this.time=e,this.pos=t,this.button=i};Cs.prototype.compare=function(e,t,i){return this.time+fp>e&&te(t,this.pos)==0&&i==this.button};var ll,ol;function cp(e,t){var i=+new Date;return ol&&ol.compare(i,e,t)?(ll=ol=null,"triple"):ll&&ll.compare(i,e,t)?(ol=new Cs(i,e,t),ll=null,"double"):(ll=new Cs(i,e,t),ol=null,"single")}function kf(e){var t=this,i=t.display;if(!(rt(t,e)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=e.shiftKey,Kr(i,e)){T||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));return}if(!ks(t,e)){var n=Tn(t,e),l=gr(e),a=n?cp(n,l):"single";ye(t).focus(),l==1&&t.state.selectingText&&t.state.selectingText(e),!(n&&hp(t,l,n,a,e))&&(l==1?n?pp(t,n,a,e):Ni(e)==i.scroller&&Nt(e):l==2?(n&&Gl(t.doc,n),setTimeout(function(){return i.input.focus()},20)):l==3&&(ke?t.display.input.onContextMenu(e):is(t)))}}}function hp(e,t,i,n,l){var a="Click";return n=="double"?a="Double"+a:n=="triple"&&(a="Triple"+a),a=(t==1?"Left":t==2?"Middle":"Right")+a,il(e,gf(a,l),l,function(f){if(typeof f=="string"&&(f=nl[f]),!f)return!1;var d=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),d=f(e,i)!=A}finally{e.state.suppressEdits=!1}return d})}function dp(e,t,i){var n=e.getOption("configureMouse"),l=n?n(e,t,i):{};if(l.unit==null){var a=Ae?i.shiftKey&&i.metaKey:i.altKey;l.unit=a?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(l.extend==null||e.doc.extend)&&(l.extend=e.doc.extend||i.shiftKey),l.addNew==null&&(l.addNew=oe?i.metaKey:i.ctrlKey),l.moveOnDrag==null&&(l.moveOnDrag=!(oe?i.altKey:i.ctrlKey)),l}function pp(e,t,i,n){y?setTimeout(be(ku,e),0):e.curOp.focus=Qe(nr(e));var l=dp(e,i,n),a=e.doc.sel,f;e.options.dragDrop&&Ro&&!e.isReadOnly()&&i=="single"&&(f=a.contains(t))>-1&&(te((f=a.ranges[f]).from(),t)<0||t.xRel>0)&&(te(f.to(),t)>0||t.xRel<0)?gp(e,n,t,l):vp(e,n,t,l)}function gp(e,t,i,n){var l=e.display,a=!1,f=bt(e,function(g){T&&(l.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:is(e)),Ot(l.wrapper.ownerDocument,"mouseup",f),Ot(l.wrapper.ownerDocument,"mousemove",d),Ot(l.scroller,"dragstart",p),Ot(l.scroller,"drop",f),a||(Nt(g),n.addNew||Gl(e.doc,i,null,null,n.extend),T&&!H||y&&w==9?setTimeout(function(){l.wrapper.ownerDocument.body.focus({preventScroll:!0}),l.input.focus()},20):l.input.focus())}),d=function(g){a=a||Math.abs(t.clientX-g.clientX)+Math.abs(t.clientY-g.clientY)>=10},p=function(){return a=!0};T&&(l.scroller.draggable=!0),e.state.draggingText=f,f.copy=!n.moveOnDrag,ve(l.wrapper.ownerDocument,"mouseup",f),ve(l.wrapper.ownerDocument,"mousemove",d),ve(l.scroller,"dragstart",p),ve(l.scroller,"drop",f),e.state.delayingBlurEvent=!0,setTimeout(function(){return l.input.focus()},20),l.scroller.dragDrop&&l.scroller.dragDrop()}function Tf(e,t,i){if(i=="char")return new je(t,t);if(i=="word")return e.findWordAt(t);if(i=="line")return new je(_(t.line,0),we(e.doc,_(t.line+1,0)));var n=i(e,t);return new je(n.from,n.to)}function vp(e,t,i,n){y&&is(e);var l=e.display,a=e.doc;Nt(t);var f,d,p=a.sel,g=p.ranges;if(n.addNew&&!n.extend?(d=a.sel.contains(i),d>-1?f=g[d]:f=new je(i,i)):(f=a.sel.primary(),d=a.sel.primIndex),n.unit=="rectangle")n.addNew||(f=new je(i,i)),i=Tn(e,t,!0,!0),d=-1;else{var x=Tf(e,i,n.unit);n.extend?f=ms(f,x.anchor,x.head,n.extend):f=x}n.addNew?d==-1?(d=g.length,Dt(a,wr(e,g.concat([f]),d),{scroll:!1,origin:"*mouse"})):g.length>1&&g[d].empty()&&n.unit=="char"&&!n.extend?(Dt(a,wr(e,g.slice(0,d).concat(g.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),p=a.sel):ys(a,d,f,K):(d=0,Dt(a,new or([f],0),K),p=a.sel);var C=i;function O($){if(te(C,$)!=0)if(C=$,n.unit=="rectangle"){for(var le=[],me=e.options.tabSize,de=Pe(ce(a,i.line).text,i.ch,me),Ne=Pe(ce(a,$.line).text,$.ch,me),Ze=Math.min(de,Ne),wt=Math.max(de,Ne),et=Math.min(i.line,$.line),Vt=Math.min(e.lastLine(),Math.max(i.line,$.line));et<=Vt;et++){var Kt=ce(a,et).text,ct=Z(Kt,Ze,me);Ze==wt?le.push(new je(_(et,ct),_(et,ct))):Kt.length>ct&&le.push(new je(_(et,ct),_(et,Z(Kt,wt,me))))}le.length||le.push(new je(i,i)),Dt(a,wr(e,p.ranges.slice(0,d).concat(le),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView($)}else{var qt=f,Lt=Tf(e,$,n.unit),gt=qt.anchor,ht;te(Lt.anchor,gt)>0?(ht=Lt.head,gt=Vn(qt.from(),Lt.anchor)):(ht=Lt.anchor,gt=zt(qt.to(),Lt.head));var it=p.ranges.slice(0);it[d]=mp(e,new je(we(a,gt),ht)),Dt(a,wr(e,it,d),K)}}var E=l.wrapper.getBoundingClientRect(),P=0;function z($){var le=++P,me=Tn(e,$,!0,n.unit=="rectangle");if(me)if(te(me,C)!=0){e.curOp.focus=Qe(nr(e)),O(me);var de=Wl(l,a);(me.line>=de.to||me.line<de.from)&&setTimeout(bt(e,function(){P==le&&z($)}),150)}else{var Ne=$.clientY<E.top?-20:$.clientY>E.bottom?20:0;Ne&&setTimeout(bt(e,function(){P==le&&(l.scroller.scrollTop+=Ne,z($))}),50)}}function X($){e.state.selectingText=!1,P=1/0,$&&(Nt($),l.input.focus()),Ot(l.wrapper.ownerDocument,"mousemove",Q),Ot(l.wrapper.ownerDocument,"mouseup",ne),a.history.lastSelOrigin=null}var Q=bt(e,function($){$.buttons===0||!gr($)?X($):z($)}),ne=bt(e,X);e.state.selectingText=ne,ve(l.wrapper.ownerDocument,"mousemove",Q),ve(l.wrapper.ownerDocument,"mouseup",ne)}function mp(e,t){var i=t.anchor,n=t.head,l=ce(e.doc,i.line);if(te(i,n)==0&&i.sticky==n.sticky)return t;var a=Ie(l);if(!a)return t;var f=st(a,i.ch,i.sticky),d=a[f];if(d.from!=i.ch&&d.to!=i.ch)return t;var p=f+(d.from==i.ch==(d.level!=1)?0:1);if(p==0||p==a.length)return t;var g;if(n.line!=i.line)g=(n.line-i.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var x=st(a,n.ch,n.sticky),C=x-f||(n.ch-i.ch)*(d.level==1?-1:1);x==p-1||x==p?g=C<0:g=C>0}var O=a[p+(g?-1:0)],E=g==(O.level==1),P=E?O.from:O.to,z=E?"after":"before";return i.ch==P&&i.sticky==z?t:new je(new _(i.line,P,z),n)}function Lf(e,t,i,n){var l,a;if(t.touches)l=t.touches[0].clientX,a=t.touches[0].clientY;else try{l=t.clientX,a=t.clientY}catch{return!1}if(l>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Nt(t);var f=e.display,d=f.lineDiv.getBoundingClientRect();if(a>d.bottom||!Qt(e,i))return Wt(t);a-=d.top-f.viewOffset;for(var p=0;p<e.display.gutterSpecs.length;++p){var g=f.gutters.childNodes[p];if(g&&g.getBoundingClientRect().right>=l){var x=S(e.doc,a),C=e.display.gutterSpecs[p];return tt(e,i,e,x,C.className,t),Wt(t)}}}function ks(e,t){return Lf(e,t,"gutterClick",!0)}function Mf(e,t){Kr(e.display,t)||yp(e,t)||rt(e,t,"contextmenu")||ke||e.display.input.onContextMenu(t)}function yp(e,t){return Qt(e,"gutterContextMenu")?Lf(e,t,"gutterContextMenu",!1):!1}function Ef(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Wi(e)}var gi={toString:function(){return"CodeMirror.Init"}},Af={},Vl={};function bp(e){var t=e.optionHandlers;function i(n,l,a,f){e.defaults[n]=l,a&&(t[n]=f?function(d,p,g){g!=gi&&a(d,p,g)}:a)}e.defineOption=i,e.Init=gi,i("value","",function(n,l){return n.setValue(l)},!0),i("mode",null,function(n,l){n.doc.modeOption=l,ps(n)},!0),i("indentUnit",2,ps,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(n){Xi(n),Wi(n),Ut(n)},!0),i("lineSeparator",null,function(n,l){if(n.doc.lineSep=l,!!l){var a=[],f=n.doc.first;n.doc.iter(function(p){for(var g=0;;){var x=p.text.indexOf(l,g);if(x==-1)break;g=x+l.length,a.push(_(f,x))}f++});for(var d=a.length-1;d>=0;d--)ci(n.doc,l,a[d],_(a[d].line,a[d].ch+l.length))}}),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(n,l,a){n.state.specialChars=new RegExp(l.source+(l.test("	")?"":"|	"),"g"),a!=gi&&n.refresh()}),i("specialCharPlaceholder",Xh,function(n){return n.refresh()},!0),i("electricChars",!0),i("inputStyle",ee?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(n,l){return n.getInputField().spellcheck=l},!0),i("autocorrect",!1,function(n,l){return n.getInputField().autocorrect=l},!0),i("autocapitalize",!1,function(n,l){return n.getInputField().autocapitalize=l},!0),i("rtlMoveVisually",!Se),i("wholeLineUpdateBefore",!0),i("theme","default",function(n){Ef(n),Yi(n)},!0),i("keyMap","default",function(n,l,a){var f=Ql(l),d=a!=gi&&Ql(a);d&&d.detach&&d.detach(n,f),f.attach&&f.attach(n,d||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,wp,!0),i("gutters",[],function(n,l){n.display.gutterSpecs=hs(l,n.options.lineNumbers),Yi(n)},!0),i("fixedGutter",!0,function(n,l){n.display.gutters.style.left=l?es(n.display)+"px":"0",n.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(n){return si(n)},!0),i("scrollbarStyle","native",function(n){Ou(n),si(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),i("lineNumbers",!1,function(n,l){n.display.gutterSpecs=hs(n.options.gutters,l),Yi(n)},!0),i("firstLineNumber",1,Yi,!0),i("lineNumberFormatter",function(n){return n},Yi,!0),i("showCursorWhenSelecting",!1,zi,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(n,l){l=="nocursor"&&(li(n),n.display.input.blur()),n.display.input.readOnlyChanged(l)}),i("screenReaderLabel",null,function(n,l){l=l===""?null:l,n.display.input.screenReaderLabelChanged(l)}),i("disableInput",!1,function(n,l){l||n.display.input.reset()},!0),i("dragDrop",!0,xp),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,zi,!0),i("singleCursorHeightPerLine",!0,zi,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Xi,!0),i("addModeClass",!1,Xi,!0),i("pollInterval",100),i("undoDepth",200,function(n,l){return n.doc.history.undoDepth=l}),i("historyEventDelay",1250),i("viewportMargin",10,function(n){return n.refresh()},!0),i("maxHighlightLength",1e4,Xi,!0),i("moveInputWithCursor",!0,function(n,l){l||n.display.input.resetPosition()}),i("tabindex",null,function(n,l){return n.display.input.getField().tabIndex=l||""}),i("autofocus",null),i("direction","ltr",function(n,l){return n.doc.setDirection(l)},!0),i("phrases",null)}function xp(e,t,i){var n=i&&i!=gi;if(!t!=!n){var l=e.display.dragFunctions,a=t?ve:Ot;a(e.display.scroller,"dragstart",l.start),a(e.display.scroller,"dragenter",l.enter),a(e.display.scroller,"dragover",l.over),a(e.display.scroller,"dragleave",l.leave),a(e.display.scroller,"drop",l.drop)}}function wp(e){e.options.lineWrapping?(kt(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ue(e.display.wrapper,"CodeMirror-wrap"),Ko(e)),ts(e),Ut(e),Wi(e),setTimeout(function(){return si(e)},100)}function $e(e,t){var i=this;if(!(this instanceof $e))return new $e(e,t);this.options=t=t?Me(t):{},Me(Af,t,!1);var n=t.value;typeof n=="string"?n=new jt(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var l=new $e.inputStyles[t.inputStyle](this),a=this.display=new _d(e,n,l,t);a.wrapper.CodeMirror=this,Ef(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ou(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Xt,keySeq:null,specialChars:null},t.autofocus&&!ee&&a.input.focus(),y&&w<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Sp(this),Vd(),An(this),this.curOp.forceUpdate=!0,Wu(this,n),t.autofocus&&!ee||this.hasFocus()?setTimeout(function(){i.hasFocus()&&!i.state.focused&&ls(i)},20):li(this);for(var f in Vl)Vl.hasOwnProperty(f)&&Vl[f](this,t[f],gi);Iu(this),t.finishInit&&t.finishInit(this);for(var d=0;d<Ts.length;++d)Ts[d](this);On(this),T&&t.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}$e.defaults=Af,$e.optionHandlers=Vl;function Sp(e){var t=e.display;ve(t.scroller,"mousedown",bt(e,kf)),y&&w<11?ve(t.scroller,"dblclick",bt(e,function(p){if(!rt(e,p)){var g=Tn(e,p);if(!(!g||ks(e,p)||Kr(e.display,p))){Nt(p);var x=e.findWordAt(g);Gl(e.doc,x.anchor,x.head)}}})):ve(t.scroller,"dblclick",function(p){return rt(e,p)||Nt(p)}),ve(t.scroller,"contextmenu",function(p){return Mf(e,p)}),ve(t.input.getField(),"contextmenu",function(p){t.scroller.contains(p.target)||Mf(e,p)});var i,n={end:0};function l(){t.activeTouch&&(i=setTimeout(function(){return t.activeTouch=null},1e3),n=t.activeTouch,n.end=+new Date)}function a(p){if(p.touches.length!=1)return!1;var g=p.touches[0];return g.radiusX<=1&&g.radiusY<=1}function f(p,g){if(g.left==null)return!0;var x=g.left-p.left,C=g.top-p.top;return x*x+C*C>20*20}ve(t.scroller,"touchstart",function(p){if(!rt(e,p)&&!a(p)&&!ks(e,p)){t.input.ensurePolled(),clearTimeout(i);var g=+new Date;t.activeTouch={start:g,moved:!1,prev:g-n.end<=300?n:null},p.touches.length==1&&(t.activeTouch.left=p.touches[0].pageX,t.activeTouch.top=p.touches[0].pageY)}}),ve(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),ve(t.scroller,"touchend",function(p){var g=t.activeTouch;if(g&&!Kr(t,p)&&g.left!=null&&!g.moved&&new Date-g.start<300){var x=e.coordsChar(t.activeTouch,"page"),C;!g.prev||f(g,g.prev)?C=new je(x,x):!g.prev.prev||f(g,g.prev.prev)?C=e.findWordAt(x):C=new je(_(x.line,0),we(e.doc,_(x.line+1,0))),e.setSelection(C.anchor,C.head),e.focus(),Nt(p)}l()}),ve(t.scroller,"touchcancel",l),ve(t.scroller,"scroll",function(){t.scroller.clientHeight&&(ji(e,t.scroller.scrollTop),Mn(e,t.scroller.scrollLeft,!0),tt(e,"scroll",e))}),ve(t.scroller,"mousewheel",function(p){return Ru(e,p)}),ve(t.scroller,"DOMMouseScroll",function(p){return Ru(e,p)}),ve(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(p){rt(e,p)||Qr(p)},over:function(p){rt(e,p)||($d(e,p),Qr(p))},start:function(p){return Qd(e,p)},drop:bt(e,Jd),leave:function(p){rt(e,p)||cf(e)}};var d=t.input.getField();ve(d,"keyup",function(p){return Sf.call(e,p)}),ve(d,"keydown",bt(e,wf)),ve(d,"keypress",bt(e,Cf)),ve(d,"focus",function(p){return ls(e,p)}),ve(d,"blur",function(p){return li(e,p)})}var Ts=[];$e.defineInitHook=function(e){return Ts.push(e)};function sl(e,t,i,n){var l=e.doc,a;i==null&&(i="add"),i=="smart"&&(l.mode.indent?a=Pi(e,t).state:i="prev");var f=e.options.tabSize,d=ce(l,t),p=Pe(d.text,null,f);d.stateAfter&&(d.stateAfter=null);var g=d.text.match(/^\s*/)[0],x;if(!n&&!/\S/.test(d.text))x=0,i="not";else if(i=="smart"&&(x=l.mode.indent(a,d.text.slice(g.length),d.text),x==A||x>150)){if(!n)return;i="prev"}i=="prev"?t>l.first?x=Pe(ce(l,t-1).text,null,f):x=0:i=="add"?x=p+e.options.indentUnit:i=="subtract"?x=p-e.options.indentUnit:typeof i=="number"&&(x=p+i),x=Math.max(0,x);var C="",O=0;if(e.options.indentWithTabs)for(var E=Math.floor(x/f);E;--E)O+=f,C+="	";if(O<x&&(C+=J(x-O)),C!=g)return ci(l,C,_(t,0),_(t,g.length),"+input"),d.stateAfter=null,!0;for(var P=0;P<l.sel.ranges.length;P++){var z=l.sel.ranges[P];if(z.head.line==t&&z.head.ch<g.length){var X=_(t,g.length);ys(l,P,new je(X,X));break}}}var Sr=null;function eo(e){Sr=e}function Ls(e,t,i,n,l){var a=e.doc;e.display.shift=!1,n||(n=a.sel);var f=+new Date-200,d=l=="paste"||e.state.pasteIncoming>f,p=ar(t),g=null;if(d&&n.ranges.length>1)if(Sr&&Sr.text.join(`
`)==t){if(n.ranges.length%Sr.text.length==0){g=[];for(var x=0;x<Sr.text.length;x++)g.push(a.splitLines(Sr.text[x]))}}else p.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(g=G(p,function(Q){return[Q]}));for(var C=e.curOp.updateInput,O=n.ranges.length-1;O>=0;O--){var E=n.ranges[O],P=E.from(),z=E.to();E.empty()&&(i&&i>0?P=_(P.line,P.ch-i):e.state.overwrite&&!d?z=_(z.line,Math.min(ce(a,z.line).text.length,z.ch+j(p).length)):d&&Sr&&Sr.lineWise&&Sr.text.join(`
`)==p.join(`
`)&&(P=z=_(P.line,0)));var X={from:P,to:z,text:g?g[O%g.length]:p,origin:l||(d?"paste":e.state.cutIncoming>f?"cut":"+input")};fi(e.doc,X),yt(e,"inputRead",e,X)}t&&!d&&Nf(e,t),oi(e),e.curOp.updateInput<2&&(e.curOp.updateInput=C),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Of(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&$t(t,function(){return Ls(t,i,0,null,"paste")}),!0}function Nf(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var l=i.ranges[n];if(!(l.head.ch>100||n&&i.ranges[n-1].head.line==l.head.line)){var a=e.getModeAt(l.head),f=!1;if(a.electricChars){for(var d=0;d<a.electricChars.length;d++)if(t.indexOf(a.electricChars.charAt(d))>-1){f=sl(e,l.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(ce(e.doc,l.head.line).text.slice(0,l.head.ch))&&(f=sl(e,l.head.line,"smart"));f&&yt(e,"electricInput",e,l.head.line)}}}function Df(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var l=e.doc.sel.ranges[n].head.line,a={anchor:_(l,0),head:_(l+1,0)};i.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:i}}function Ms(e,t,i,n){e.setAttribute("autocorrect",i?"on":"off"),e.setAttribute("autocapitalize",n?"on":"off"),e.setAttribute("spellcheck",!!t)}function If(){var e=L("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=L("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return T?e.style.width="1000px":e.setAttribute("wrap","off"),q&&(e.style.border="1px solid black"),t}function Cp(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){ye(this).focus(),this.display.input.focus()},setOption:function(n,l){var a=this.options,f=a[n];a[n]==l&&n!="mode"||(a[n]=l,t.hasOwnProperty(n)&&bt(this,t[n])(this,l,f),tt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,l){this.state.keyMaps[l?"push":"unshift"](Ql(n))},removeKeyMap:function(n){for(var l=this.state.keyMaps,a=0;a<l.length;++a)if(l[a]==n||l[a].name==n)return l.splice(a,1),!0},addOverlay:Rt(function(n,l){var a=n.token?n:e.getMode(this.options,n);if(a.startState)throw new Error("Overlays may not be stateful.");ge(this.state.overlays,{mode:a,modeSpec:n,opaque:l&&l.opaque,priority:l&&l.priority||0},function(f){return f.priority}),this.state.modeGen++,Ut(this)}),removeOverlay:Rt(function(n){for(var l=this.state.overlays,a=0;a<l.length;++a){var f=l[a].modeSpec;if(f==n||typeof n=="string"&&f.name==n){l.splice(a,1),this.state.modeGen++,Ut(this);return}}}),indentLine:Rt(function(n,l,a){typeof l!="string"&&typeof l!="number"&&(l==null?l=this.options.smartIndent?"smart":"prev":l=l?"add":"subtract"),B(this.doc,n)&&sl(this,n,l,a)}),indentSelection:Rt(function(n){for(var l=this.doc.sel.ranges,a=-1,f=0;f<l.length;f++){var d=l[f];if(d.empty())d.head.line>a&&(sl(this,d.head.line,n,!0),a=d.head.line,f==this.doc.sel.primIndex&&oi(this));else{var p=d.from(),g=d.to(),x=Math.max(a,p.line);a=Math.min(this.lastLine(),g.line-(g.ch?0:1))+1;for(var C=x;C<a;++C)sl(this,C,n);var O=this.doc.sel.ranges;p.ch==0&&l.length==O.length&&O[f].from().ch>0&&ys(this.doc,f,new je(p,O[f].to()),R)}}}),getTokenAt:function(n,l){return Ua(this,n,l)},getLineTokens:function(n,l){return Ua(this,_(n),l,!0)},getTokenTypeAt:function(n){n=we(this.doc,n);var l=Ba(this,ce(this.doc,n.line)),a=0,f=(l.length-1)/2,d=n.ch,p;if(d==0)p=l[2];else for(;;){var g=a+f>>1;if((g?l[g*2-1]:0)>=d)f=g;else if(l[g*2+1]<d)a=g+1;else{p=l[g*2+2];break}}var x=p?p.indexOf("overlay "):-1;return x<0?p:x==0?null:p.slice(0,x-1)},getModeAt:function(n){var l=this.doc.mode;return l.innerMode?e.innerMode(l,this.getTokenAt(n).state).mode:l},getHelper:function(n,l){return this.getHelpers(n,l)[0]},getHelpers:function(n,l){var a=[];if(!i.hasOwnProperty(l))return a;var f=i[l],d=this.getModeAt(n);if(typeof d[l]=="string")f[d[l]]&&a.push(f[d[l]]);else if(d[l])for(var p=0;p<d[l].length;p++){var g=f[d[l][p]];g&&a.push(g)}else d.helperType&&f[d.helperType]?a.push(f[d.helperType]):f[d.name]&&a.push(f[d.name]);for(var x=0;x<f._global.length;x++){var C=f._global[x];C.pred(d,this)&&Ce(a,C.val)==-1&&a.push(C.val)}return a},getStateAfter:function(n,l){var a=this.doc;return n=Ra(a,n??a.first+a.size-1),Pi(this,n+1,l).state},cursorCoords:function(n,l){var a,f=this.doc.sel.primary();return n==null?a=f.head:typeof n=="object"?a=we(this.doc,n):a=n?f.from():f.to(),xr(this,a,l||"page")},charCoords:function(n,l){return Rl(this,we(this.doc,n),l||"page")},coordsChar:function(n,l){return n=mu(this,n,l||"page"),Qo(this,n.left,n.top)},lineAtHeight:function(n,l){return n=mu(this,{top:n,left:0},l||"page").top,S(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,l,a){var f=!1,d;if(typeof n=="number"){var p=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>p&&(n=p,f=!0),d=ce(this.doc,n)}else d=n;return Pl(this,d,{top:0,left:0},l||"page",a||f).top+(f?this.doc.height-jr(d):0)},defaultTextHeight:function(){return ni(this.display)},defaultCharWidth:function(){return ii(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,l,a,f,d){var p=this.display;n=xr(this,we(this.doc,n));var g=n.bottom,x=n.left;if(l.style.position="absolute",l.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(l),p.sizer.appendChild(l),f=="over")g=n.top;else if(f=="above"||f=="near"){var C=Math.max(p.wrapper.clientHeight,this.doc.height),O=Math.max(p.sizer.clientWidth,p.lineSpace.clientWidth);(f=="above"||n.bottom+l.offsetHeight>C)&&n.top>l.offsetHeight?g=n.top-l.offsetHeight:n.bottom+l.offsetHeight<=C&&(g=n.bottom),x+l.offsetWidth>O&&(x=O-l.offsetWidth)}l.style.top=g+"px",l.style.left=l.style.right="",d=="right"?(x=p.sizer.clientWidth-l.offsetWidth,l.style.right="0px"):(d=="left"?x=0:d=="middle"&&(x=(p.sizer.clientWidth-l.offsetWidth)/2),l.style.left=x+"px"),a&&xd(this,{left:x,top:g,right:x+l.offsetWidth,bottom:g+l.offsetHeight})},triggerOnKeyDown:Rt(wf),triggerOnKeyPress:Rt(Cf),triggerOnKeyUp:Sf,triggerOnMouseDown:Rt(kf),execCommand:function(n){if(nl.hasOwnProperty(n))return nl[n].call(null,this)},triggerElectric:Rt(function(n){Nf(this,n)}),findPosH:function(n,l,a,f){var d=1;l<0&&(d=-1,l=-l);for(var p=we(this.doc,n),g=0;g<l&&(p=Es(this.doc,p,d,a,f),!p.hitSide);++g);return p},moveH:Rt(function(n,l){var a=this;this.extendSelectionsBy(function(f){return a.display.shift||a.doc.extend||f.empty()?Es(a.doc,f.head,n,l,a.options.rtlMoveVisually):n<0?f.from():f.to()},U)}),deleteH:Rt(function(n,l){var a=this.doc.sel,f=this.doc;a.somethingSelected()?f.replaceSelection("",null,"+delete"):pi(this,function(d){var p=Es(f,d.head,n,l,!1);return n<0?{from:p,to:d.head}:{from:d.head,to:p}})}),findPosV:function(n,l,a,f){var d=1,p=f;l<0&&(d=-1,l=-l);for(var g=we(this.doc,n),x=0;x<l;++x){var C=xr(this,g,"div");if(p==null?p=C.left:C.left=p,g=_f(this,C,d,a),g.hitSide)break}return g},moveV:Rt(function(n,l){var a=this,f=this.doc,d=[],p=!this.display.shift&&!f.extend&&f.sel.somethingSelected();if(f.extendSelectionsBy(function(x){if(p)return n<0?x.from():x.to();var C=xr(a,x.head,"div");x.goalColumn!=null&&(C.left=x.goalColumn),d.push(C.left);var O=_f(a,C,n,l);return l=="page"&&x==f.sel.primary()&&ss(a,Rl(a,O,"div").top-C.top),O},U),d.length)for(var g=0;g<f.sel.ranges.length;g++)f.sel.ranges[g].goalColumn=d[g]}),findWordAt:function(n){var l=this.doc,a=ce(l,n.line).text,f=n.ch,d=n.ch;if(a){var p=this.getHelper(n,"wordChars");(n.sticky=="before"||d==a.length)&&f?--f:++d;for(var g=a.charAt(f),x=Fe(g,p)?function(C){return Fe(C,p)}:/\s/.test(g)?function(C){return/\s/.test(C)}:function(C){return!/\s/.test(C)&&!Fe(C)};f>0&&x(a.charAt(f-1));)--f;for(;d<a.length&&x(a.charAt(d));)++d}return new je(_(n.line,f),_(n.line,d))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?kt(this.display.cursorDiv,"CodeMirror-overwrite"):ue(this.display.cursorDiv,"CodeMirror-overwrite"),tt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Qe(nr(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Rt(function(n,l){Ui(this,n,l)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-Nr(this)-this.display.barHeight,width:n.scrollWidth-Nr(this)-this.display.barWidth,clientHeight:Yo(this),clientWidth:Cn(this)}},scrollIntoView:Rt(function(n,l){n==null?(n={from:this.doc.sel.primary().head,to:null},l==null&&(l=this.options.cursorScrollMargin)):typeof n=="number"?n={from:_(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=l||0,n.from.line!=null?wd(this,n):Lu(this,n.from,n.to,n.margin)}),setSize:Rt(function(n,l){var a=this,f=function(p){return typeof p=="number"||/^\d+$/.test(String(p))?p+"px":p};n!=null&&(this.display.wrapper.style.width=f(n)),l!=null&&(this.display.wrapper.style.height=f(l)),this.options.lineWrapping&&pu(this);var d=this.display.viewFrom;this.doc.iter(d,this.display.viewTo,function(p){if(p.widgets){for(var g=0;g<p.widgets.length;g++)if(p.widgets[g].noHScroll){rn(a,d,"widget");break}}++d}),this.curOp.forceUpdate=!0,tt(this,"refresh",this)}),operation:function(n){return $t(this,n)},startOperation:function(){return An(this)},endOperation:function(){return On(this)},refresh:Rt(function(){var n=this.display.cachedTextHeight;Ut(this),this.curOp.forceUpdate=!0,Wi(this),Ui(this,this.doc.scrollLeft,this.doc.scrollTop),fs(this.display),(n==null||Math.abs(n-ni(this.display))>.5||this.options.lineWrapping)&&ts(this),tt(this,"refresh",this)}),swapDoc:Rt(function(n){var l=this.doc;return l.cm=null,this.state.selectingText&&this.state.selectingText(),Wu(this,n),Wi(this),this.display.input.reset(),Ui(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,yt(this,"swapDoc",this,l),l}),phrase:function(n){var l=this.options.phrases;return l&&Object.prototype.hasOwnProperty.call(l,n)?l[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},pr(e),e.registerHelper=function(n,l,a){i.hasOwnProperty(n)||(i[n]=e[n]={_global:[]}),i[n][l]=a},e.registerGlobalHelper=function(n,l,a,f){e.registerHelper(n,l,f),i[n]._global.push({pred:a,val:f})}}function Es(e,t,i,n,l){var a=t,f=i,d=ce(e,t.line),p=l&&e.direction=="rtl"?-i:i;function g(){var ne=t.line+p;return ne<e.first||ne>=e.first+e.size?!1:(t=new _(ne,t.ch,t.sticky),d=ce(e,ne))}function x(ne){var $;if(n=="codepoint"){var le=d.text.charCodeAt(t.ch+(i>0?0:-1));if(isNaN(le))$=null;else{var me=i>0?le>=55296&&le<56320:le>=56320&&le<57343;$=new _(t.line,Math.max(0,Math.min(d.text.length,t.ch+i*(me?2:1))),-i)}}else l?$=ip(e.cm,d,t,i):$=xs(d,t,i);if($==null)if(!ne&&g())t=ws(l,e.cm,d,t.line,p);else return!1;else t=$;return!0}if(n=="char"||n=="codepoint")x();else if(n=="column")x(!0);else if(n=="word"||n=="group")for(var C=null,O=n=="group",E=e.cm&&e.cm.getHelper(t,"wordChars"),P=!0;!(i<0&&!x(!P));P=!1){var z=d.text.charAt(t.ch)||`
`,X=Fe(z,E)?"w":O&&z==`
`?"n":!O||/\s/.test(z)?null:"p";if(O&&!P&&!X&&(X="s"),C&&C!=X){i<0&&(i=1,x(),t.sticky="after");break}if(X&&(C=X),i>0&&!x(!P))break}var Q=Xl(e,t,a,f,!0);return Ue(a,Q)&&(Q.hitSide=!0),Q}function _f(e,t,i,n){var l=e.doc,a=t.left,f;if(n=="page"){var d=Math.min(e.display.wrapper.clientHeight,ye(e).innerHeight||l(e).documentElement.clientHeight),p=Math.max(d-.5*ni(e.display),3);f=(i>0?t.bottom:t.top)+i*p}else n=="line"&&(f=i>0?t.bottom+3:t.top-3);for(var g;g=Qo(e,a,f),!!g.outside;){if(i<0?f<=0:f>=l.height){g.hitSide=!0;break}f+=i*5}return g}var Ge=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Xt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ge.prototype.init=function(e){var t=this,i=this,n=i.cm,l=i.div=e.lineDiv;l.contentEditable=!0,Ms(l,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function a(d){for(var p=d.target;p;p=p.parentNode){if(p==l)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(p.className))break}return!1}ve(l,"paste",function(d){!a(d)||rt(n,d)||Of(d,n)||w<=11&&setTimeout(bt(n,function(){return t.updateFromDOM()}),20)}),ve(l,"compositionstart",function(d){t.composing={data:d.data,done:!1}}),ve(l,"compositionupdate",function(d){t.composing||(t.composing={data:d.data,done:!1})}),ve(l,"compositionend",function(d){t.composing&&(d.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ve(l,"touchstart",function(){return i.forceCompositionEnd()}),ve(l,"input",function(){t.composing||t.readFromDOMSoon()});function f(d){if(!(!a(d)||rt(n,d))){if(n.somethingSelected())eo({lineWise:!1,text:n.getSelections()}),d.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var p=Df(n);eo({lineWise:!0,text:p.text}),d.type=="cut"&&n.operation(function(){n.setSelections(p.ranges,0,R),n.replaceSelection("",null,"cut")})}else return;if(d.clipboardData){d.clipboardData.clearData();var g=Sr.text.join(`
`);if(d.clipboardData.setData("Text",g),d.clipboardData.getData("Text")==g){d.preventDefault();return}}var x=If(),C=x.firstChild;Ms(C),n.display.lineSpace.insertBefore(x,n.display.lineSpace.firstChild),C.value=Sr.text.join(`
`);var O=Qe(ft(l));Tt(C),setTimeout(function(){n.display.lineSpace.removeChild(x),O.focus(),O==l&&i.showPrimarySelection()},50)}}ve(l,"copy",f),ve(l,"cut",f)},Ge.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Ge.prototype.prepareSelection=function(){var e=Cu(this.cm,!1);return e.focus=Qe(ft(this.div))==this.div,e},Ge.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ge.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ge.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),n=i.from(),l=i.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||l.line<t.display.viewFrom){e.removeAllRanges();return}var a=to(t,e.anchorNode,e.anchorOffset),f=to(t,e.focusNode,e.focusOffset);if(!(a&&!a.bad&&f&&!f.bad&&te(Vn(a,f),n)==0&&te(zt(a,f),l)==0)){var d=t.display.view,p=n.line>=t.display.viewFrom&&Pf(t,n)||{node:d[0].measure.map[2],offset:0},g=l.line<t.display.viewTo&&Pf(t,l);if(!g){var x=d[d.length-1].measure,C=x.maps?x.maps[x.maps.length-1]:x.map;g={node:C[C.length-1],offset:C[C.length-2]-C[C.length-3]}}if(!p||!g){e.removeAllRanges();return}var O=e.rangeCount&&e.getRangeAt(0),E;try{E=Re(p.node,p.offset,g.offset,g.node)}catch{}E&&(!c&&t.state.focused?(e.collapse(p.node,p.offset),E.collapsed||(e.removeAllRanges(),e.addRange(E))):(e.removeAllRanges(),e.addRange(E)),O&&e.anchorNode==null?e.addRange(O):c&&this.startGracePeriod()),this.rememberSelection()}},Ge.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ge.prototype.showMultipleSelections=function(e){se(this.cm.display.cursorDiv,e.cursors),se(this.cm.display.selectionDiv,e.selection)},Ge.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ge.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return _e(this.div,t)},Ge.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Qe(ft(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ge.prototype.blur=function(){this.div.blur()},Ge.prototype.getField=function(){return this.div},Ge.prototype.supportsTouch=function(){return!0},Ge.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):$t(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function i(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,i))}this.polling.set(this.cm.options.pollInterval,i)},Ge.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ge.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(ae&&M&&this.cm.display.gutterSpecs.length&&kp(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var i=to(t,e.anchorNode,e.anchorOffset),n=to(t,e.focusNode,e.focusOffset);i&&n&&$t(t,function(){Dt(t.doc,ln(i,n),R),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Ge.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,i=e.doc.sel.primary(),n=i.from(),l=i.to();if(n.ch==0&&n.line>e.firstLine()&&(n=_(n.line-1,ce(e.doc,n.line-1).length)),l.ch==ce(e.doc,l.line).text.length&&l.line<e.lastLine()&&(l=_(l.line+1,0)),n.line<t.viewFrom||l.line>t.viewTo-1)return!1;var a,f,d;n.line==t.viewFrom||(a=Ln(e,n.line))==0?(f=m(t.view[0].line),d=t.view[0].node):(f=m(t.view[a].line),d=t.view[a-1].node.nextSibling);var p=Ln(e,l.line),g,x;if(p==t.view.length-1?(g=t.viewTo-1,x=t.lineDiv.lastChild):(g=m(t.view[p+1].line)-1,x=t.view[p+1].node.previousSibling),!d)return!1;for(var C=e.doc.splitLines(Tp(e,d,x,f,g)),O=zr(e.doc,_(f,0),_(g,ce(e.doc,g).text.length));C.length>1&&O.length>1;)if(j(C)==j(O))C.pop(),O.pop(),g--;else if(C[0]==O[0])C.shift(),O.shift(),f++;else break;for(var E=0,P=0,z=C[0],X=O[0],Q=Math.min(z.length,X.length);E<Q&&z.charCodeAt(E)==X.charCodeAt(E);)++E;for(var ne=j(C),$=j(O),le=Math.min(ne.length-(C.length==1?E:0),$.length-(O.length==1?E:0));P<le&&ne.charCodeAt(ne.length-P-1)==$.charCodeAt($.length-P-1);)++P;if(C.length==1&&O.length==1&&f==n.line)for(;E&&E>n.ch&&ne.charCodeAt(ne.length-P-1)==$.charCodeAt($.length-P-1);)E--,P++;C[C.length-1]=ne.slice(0,ne.length-P).replace(/^\u200b+/,""),C[0]=C[0].slice(E).replace(/\u200b+$/,"");var me=_(f,E),de=_(g,O.length?j(O).length-P:0);if(C.length>1||C[0]||te(me,de))return ci(e.doc,C,me,de,"+input"),!0},Ge.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ge.prototype.reset=function(){this.forceCompositionEnd()},Ge.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ge.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},Ge.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&$t(this.cm,function(){return Ut(e.cm)})},Ge.prototype.setUneditable=function(e){e.contentEditable="false"},Ge.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||bt(this.cm,Ls)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},Ge.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Ge.prototype.onContextMenu=function(){},Ge.prototype.resetPosition=function(){},Ge.prototype.needsContentAttribute=!0;function Pf(e,t){var i=Xo(e,t.line);if(!i||i.hidden)return null;var n=ce(e.doc,t.line),l=uu(i,n,t.line),a=Ie(n,e.doc.direction),f="left";if(a){var d=st(a,t.ch);f=d%2?"right":"left"}var p=hu(l.map,t.ch,f);return p.offset=p.collapse=="right"?p.end:p.start,p}function kp(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function vi(e,t){return t&&(e.bad=!0),e}function Tp(e,t,i,n,l){var a="",f=!1,d=e.doc.lineSeparator(),p=!1;function g(E){return function(P){return P.id==E}}function x(){f&&(a+=d,p&&(a+=d),f=p=!1)}function C(E){E&&(x(),a+=E)}function O(E){if(E.nodeType==1){var P=E.getAttribute("cm-text");if(P){C(P);return}var z=E.getAttribute("cm-marker"),X;if(z){var Q=e.findMarks(_(n,0),_(l+1,0),g(+z));Q.length&&(X=Q[0].find(0))&&C(zr(e.doc,X.from,X.to).join(d));return}if(E.getAttribute("contenteditable")=="false")return;var ne=/^(pre|div|p|li|table|br)$/i.test(E.nodeName);if(!/^br$/i.test(E.nodeName)&&E.textContent.length==0)return;ne&&x();for(var $=0;$<E.childNodes.length;$++)O(E.childNodes[$]);/^(pre|p)$/i.test(E.nodeName)&&(p=!0),ne&&(f=!0)}else E.nodeType==3&&C(E.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;O(t),t!=i;)t=t.nextSibling,p=!1;return a}function to(e,t,i){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[i],!n)return vi(e.clipPos(_(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var l=0;l<e.display.view.length;l++){var a=e.display.view[l];if(a.node==n)return Lp(a,t,i)}}function Lp(e,t,i){var n=e.text.firstChild,l=!1;if(!t||!_e(n,t))return vi(_(m(e.line),0),!0);if(t==n&&(l=!0,t=n.childNodes[i],i=0,!t)){var a=e.rest?j(e.rest):e.line;return vi(_(m(a),a.text.length),l)}var f=t.nodeType==3?t:null,d=t;for(!f&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(f=t.firstChild,i&&(i=f.nodeValue.length));d.parentNode!=n;)d=d.parentNode;var p=e.measure,g=p.maps;function x(X,Q,ne){for(var $=-1;$<(g?g.length:0);$++)for(var le=$<0?p.map:g[$],me=0;me<le.length;me+=3){var de=le[me+2];if(de==X||de==Q){var Ne=m($<0?e.line:e.rest[$]),Ze=le[me]+ne;return(ne<0||de!=X)&&(Ze=le[me+(ne?1:0)]),_(Ne,Ze)}}}var C=x(f,d,i);if(C)return vi(C,l);for(var O=d.nextSibling,E=f?f.nodeValue.length-i:0;O;O=O.nextSibling){if(C=x(O,O.firstChild,0),C)return vi(_(C.line,C.ch-E),l);E+=O.textContent.length}for(var P=d.previousSibling,z=i;P;P=P.previousSibling){if(C=x(P,P.firstChild,-1),C)return vi(_(C.line,C.ch+z),l);z+=P.textContent.length}}var at=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Xt,this.hasSelection=!1,this.composing=null,this.resetting=!1};at.prototype.init=function(e){var t=this,i=this,n=this.cm;this.createField(e);var l=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),q&&(l.style.width="0px"),ve(l,"input",function(){y&&w>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()}),ve(l,"paste",function(f){rt(n,f)||Of(f,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())});function a(f){if(!rt(n,f)){if(n.somethingSelected())eo({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var d=Df(n);eo({lineWise:!0,text:d.text}),f.type=="cut"?n.setSelections(d.ranges,null,R):(i.prevInput="",l.value=d.text.join(`
`),Tt(l))}else return;f.type=="cut"&&(n.state.cutIncoming=+new Date)}}ve(l,"cut",a),ve(l,"copy",a),ve(e.scroller,"paste",function(f){if(!(Kr(e,f)||rt(n,f))){if(!l.dispatchEvent){n.state.pasteIncoming=+new Date,i.focus();return}var d=new Event("paste");d.clipboardData=f.clipboardData,l.dispatchEvent(d)}}),ve(e.lineSpace,"selectstart",function(f){Kr(e,f)||Nt(f)}),ve(l,"compositionstart",function(){var f=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:f,range:n.markText(f,n.getCursor("to"),{className:"CodeMirror-composing"})}}),ve(l,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},at.prototype.createField=function(e){this.wrapper=If(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Ms(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},at.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},at.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=Cu(e);if(e.options.moveInputWithCursor){var l=xr(e,i.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),f=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,l.top+f.top-a.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,l.left+f.left-a.left))}return n},at.prototype.showSelection=function(e){var t=this.cm,i=t.display;se(i.cursorDiv,e.cursors),se(i.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},at.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&Tt(this.textarea),y&&w>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",y&&w>=9&&(this.hasSelection=null));this.resetting=!1}},at.prototype.getField=function(){return this.textarea},at.prototype.supportsTouch=function(){return!1},at.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ee||Qe(ft(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},at.prototype.blur=function(){this.textarea.blur()},at.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},at.prototype.receivedFocus=function(){this.slowPoll()},at.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},at.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function i(){var n=t.poll();!n&&!e?(e=!0,t.polling.set(60,i)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,i)},at.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||Vr(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var l=i.value;if(l==n&&!t.somethingSelected())return!1;if(y&&w>=9&&this.hasSelection===l||oe&&/[\uf700-\uf7ff]/.test(l))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var a=l.charCodeAt(0);if(a==8203&&!n&&(n="​"),a==8666)return this.reset(),this.cm.execCommand("undo")}for(var f=0,d=Math.min(n.length,l.length);f<d&&n.charCodeAt(f)==l.charCodeAt(f);)++f;return $t(t,function(){Ls(t,l.slice(f),n.length-f,null,e.composing?"*compose":null),l.length>1e3||l.indexOf(`
`)>-1?i.value=e.prevInput="":e.prevInput=l,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},at.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},at.prototype.onKeyPress=function(){y&&w>=9&&(this.hasSelection=null),this.fastPoll()},at.prototype.onContextMenu=function(e){var t=this,i=t.cm,n=i.display,l=t.textarea;t.contextMenuPending&&t.contextMenuPending();var a=Tn(i,e),f=n.scroller.scrollTop;if(!a||I)return;var d=i.options.resetSelectionOnContextMenu;d&&i.doc.sel.contains(a)==-1&&bt(i,Dt)(i.doc,ln(a),R);var p=l.style.cssText,g=t.wrapper.style.cssText,x=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",l.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-x.top-5)+"px; left: "+(e.clientX-x.left-5)+`px;
      z-index: 1000; background: `+(y?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var C;T&&(C=l.ownerDocument.defaultView.scrollY),n.input.focus(),T&&l.ownerDocument.defaultView.scrollTo(null,C),n.input.reset(),i.somethingSelected()||(l.value=t.prevInput=" "),t.contextMenuPending=E,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll);function O(){if(l.selectionStart!=null){var z=i.somethingSelected(),X="​"+(z?l.value:"");l.value="⇚",l.value=X,t.prevInput=z?"":"​",l.selectionStart=1,l.selectionEnd=X.length,n.selForContextMenu=i.doc.sel}}function E(){if(t.contextMenuPending==E&&(t.contextMenuPending=!1,t.wrapper.style.cssText=g,l.style.cssText=p,y&&w<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=f),l.selectionStart!=null)){(!y||y&&w<9)&&O();var z=0,X=function(){n.selForContextMenu==i.doc.sel&&l.selectionStart==0&&l.selectionEnd>0&&t.prevInput=="​"?bt(i,Vu)(i):z++<10?n.detectingSelectAll=setTimeout(X,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(X,200)}}if(y&&w>=9&&O(),ke){Qr(e);var P=function(){Ot(window,"mouseup",P),setTimeout(E,20)};ve(window,"mouseup",P)}else setTimeout(E,50)},at.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},at.prototype.setUneditable=function(){},at.prototype.needsContentAttribute=!1;function Mp(e,t){if(t=t?Me(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var i=Qe(ft(e));t.autofocus=i==e||e.getAttribute("autofocus")!=null&&i==document.body}function n(){e.value=d.getValue()}var l;if(e.form&&(ve(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var a=e.form;l=a.submit;try{var f=a.submit=function(){n(),a.submit=l,a.submit(),a.submit=f}}catch{}}t.finishInit=function(p){p.save=n,p.getTextArea=function(){return e},p.toTextArea=function(){p.toTextArea=isNaN,n(),e.parentNode.removeChild(p.getWrapperElement()),e.style.display="",e.form&&(Ot(e.form,"submit",n),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=l))}},e.style.display="none";var d=$e(function(p){return e.parentNode.insertBefore(p,e.nextSibling)},t);return d}function Ep(e){e.off=Ot,e.on=ve,e.wheelEventPixels=Pd,e.Doc=jt,e.splitLines=ar,e.countColumn=Pe,e.findColumn=Z,e.isWordChar=Oe,e.Pass=A,e.signal=tt,e.Line=ei,e.changeEnd=on,e.scrollbarModel=Au,e.Pos=_,e.cmpPos=te,e.modes=Xn,e.mimeModes=mr,e.resolveMode=Zn,e.getMode=Jn,e.modeExtensions=en,e.extendMode=Qn,e.copyState=Ar,e.startState=$n,e.innerMode=Ii,e.commands=nl,e.keyMap=Gr,e.keyName=vf,e.isModifierKey=pf,e.lookupKey=di,e.normalizeKeyMap=np,e.StringStream=nt,e.SharedTextMarker=el,e.TextMarker=an,e.LineWidget=Vi,e.e_preventDefault=Nt,e.e_stopPropagation=Gn,e.e_stop=Qr,e.addClass=kt,e.contains=_e,e.rmClass=ue,e.keyNames=un}bp($e),Cp($e);var Ap="iter insert remove copy getEditor constructor".split(" ");for(var ro in jt.prototype)jt.prototype.hasOwnProperty(ro)&&Ce(Ap,ro)<0&&($e.prototype[ro]=function(e){return function(){return e.apply(this.doc,arguments)}}(jt.prototype[ro]));return pr(jt),$e.inputStyles={textarea:at,contenteditable:Ge},$e.defineMode=function(e){!$e.defaults.mode&&e!="null"&&($e.defaults.mode=e),yr.apply(this,arguments)},$e.defineMIME=Sn,$e.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),$e.defineMIME("text/plain","null"),$e.defineExtension=function(e,t){$e.prototype[e]=t},$e.defineDocExtension=function(e,t){jt.prototype[e]=t},$e.fromTextArea=Mp,Ep($e),$e.version="5.65.20",$e})}(js)),js.exports}(function(r,o){(function(s){s(_a())})(function(s){s.defineMode("javascript",function(u,c){var h=u.indentUnit,v=c.statementIndent,b=c.jsonld,y=c.json||b,w=c.trackScope!==!1,T=c.typescript,N=c.wordCharacters||/[\w$\xa1-\uffff]/,M=function(){function m(mt){return{type:mt,style:"keyword"}}var S=m("keyword a"),B=m("keyword b"),Y=m("keyword c"),_=m("keyword d"),te=m("operator"),Ue={type:"atom",style:"atom"};return{if:m("if"),while:S,with:S,else:B,do:B,try:B,finally:B,return:_,break:_,continue:_,new:m("new"),delete:Y,void:Y,throw:Y,debugger:m("debugger"),var:m("var"),const:m("var"),let:m("var"),function:m("function"),catch:m("catch"),for:m("for"),switch:m("switch"),case:m("case"),default:m("default"),in:te,typeof:te,instanceof:te,true:Ue,false:Ue,null:Ue,undefined:Ue,NaN:Ue,Infinity:Ue,this:m("this"),class:m("class"),super:m("atom"),yield:Y,export:m("export"),import:m("import"),extends:Y,await:Y}}(),D=/[+\-*&%=<>!?|~^@]/,I=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function H(m){for(var S=!1,B,Y=!1;(B=m.next())!=null;){if(!S){if(B=="/"&&!Y)return;B=="["?Y=!0:Y&&B=="]"&&(Y=!1)}S=!S&&B=="\\"}}var ie,he;function q(m,S,B){return ie=m,he=B,S}function ae(m,S){var B=m.next();if(B=='"'||B=="'")return S.tokenize=ee(B),S.tokenize(m,S);if(B=="."&&m.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return q("number","number");if(B=="."&&m.match(".."))return q("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(B))return q(B);if(B=="="&&m.eat(">"))return q("=>","operator");if(B=="0"&&m.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return q("number","number");if(/\d/.test(B))return m.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),q("number","number");if(B=="/")return m.eat("*")?(S.tokenize=oe,oe(m,S)):m.eat("/")?(m.skipToEnd(),q("comment","comment")):lr(m,S,1)?(H(m),m.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),q("regexp","string-2")):(m.eat("="),q("operator","operator",m.current()));if(B=="`")return S.tokenize=Ae,Ae(m,S);if(B=="#"&&m.peek()=="!")return m.skipToEnd(),q("meta","meta");if(B=="#"&&m.eatWhile(N))return q("variable","property");if(B=="<"&&m.match("!--")||B=="-"&&m.match("->")&&!/\S/.test(m.string.slice(0,m.start)))return m.skipToEnd(),q("comment","comment");if(D.test(B))return(B!=">"||!S.lexical||S.lexical.type!=">")&&(m.eat("=")?(B=="!"||B=="=")&&m.eat("="):/[<>*+\-|&?]/.test(B)&&(m.eat(B),B==">"&&m.eat(B))),B=="?"&&m.eat(".")?q("."):q("operator","operator",m.current());if(N.test(B)){m.eatWhile(N);var Y=m.current();if(S.lastType!="."){if(M.propertyIsEnumerable(Y)){var _=M[Y];return q(_.type,_.style,Y)}if(Y=="async"&&m.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return q("async","keyword",Y)}return q("variable","variable",Y)}}function ee(m){return function(S,B){var Y=!1,_;if(b&&S.peek()=="@"&&S.match(I))return B.tokenize=ae,q("jsonld-keyword","meta");for(;(_=S.next())!=null&&!(_==m&&!Y);)Y=!Y&&_=="\\";return Y||(B.tokenize=ae),q("string","string")}}function oe(m,S){for(var B=!1,Y;Y=m.next();){if(Y=="/"&&B){S.tokenize=ae;break}B=Y=="*"}return q("comment","comment")}function Ae(m,S){for(var B=!1,Y;(Y=m.next())!=null;){if(!B&&(Y=="`"||Y=="$"&&m.eat("{"))){S.tokenize=ae;break}B=!B&&Y=="\\"}return q("quasi","string-2",m.current())}var Se="([{}])";function V(m,S){S.fatArrowAt&&(S.fatArrowAt=null);var B=m.string.indexOf("=>",m.start);if(!(B<0)){if(T){var Y=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(m.string.slice(m.start,B));Y&&(B=Y.index)}for(var _=0,te=!1,Ue=B-1;Ue>=0;--Ue){var mt=m.string.charAt(Ue),zt=Se.indexOf(mt);if(zt>=0&&zt<3){if(!_){++Ue;break}if(--_==0){mt=="("&&(te=!0);break}}else if(zt>=3&&zt<6)++_;else if(N.test(mt))te=!0;else if(/["'\/`]/.test(mt))for(;;--Ue){if(Ue==0)return;var Vn=m.string.charAt(Ue-1);if(Vn==mt&&m.string.charAt(Ue-2)!="\\"){Ue--;break}}else if(te&&!_){++Ue;break}}te&&!_&&(S.fatArrowAt=Ue)}}var Ee={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ke(m,S,B,Y,_,te){this.indented=m,this.column=S,this.type=B,this.prev=_,this.info=te,Y!=null&&(this.align=Y)}function Ke(m,S){if(!w)return!1;for(var B=m.localVars;B;B=B.next)if(B.name==S)return!0;for(var Y=m.context;Y;Y=Y.prev)for(var B=Y.vars;B;B=B.next)if(B.name==S)return!0}function ue(m,S,B,Y,_){var te=m.cc;for(F.state=m,F.stream=_,F.marked=null,F.cc=te,F.style=S,m.lexical.hasOwnProperty("align")||(m.lexical.align=!0);;){var Ue=te.length?te.pop():y?Ce:Pe;if(Ue(B,Y)){for(;te.length&&te[te.length-1].lex;)te.pop()();return F.marked?F.marked:B=="variable"&&Ke(m,Y)?"variable-2":S}}}var F={state:null,column:null,marked:null,cc:null};function se(){for(var m=arguments.length-1;m>=0;m--)F.cc.push(arguments[m])}function L(){return se.apply(null,arguments),!0}function Xe(m,S){for(var B=S;B;B=B.next)if(B.name==m)return!0;return!1}function Re(m){var S=F.state;if(F.marked="def",!!w){if(S.context){if(S.lexical.info=="var"&&S.context&&S.context.block){var B=_e(m,S.context);if(B!=null){S.context=B;return}}else if(!Xe(m,S.localVars)){S.localVars=new At(m,S.localVars);return}}c.globalVars&&!Xe(m,S.globalVars)&&(S.globalVars=new At(m,S.globalVars))}}function _e(m,S){if(S)if(S.block){var B=_e(m,S.prev);return B?B==S.prev?S:new kt(B,S.vars,!0):null}else return Xe(m,S.vars)?S:new kt(S.prev,new At(m,S.vars),!1);else return null}function Qe(m){return m=="public"||m=="private"||m=="protected"||m=="abstract"||m=="readonly"}function kt(m,S,B){this.prev=m,this.vars=S,this.block=B}function At(m,S){this.name=m,this.next=S}var Tt=new At("this",new At("arguments",null));function Pt(){F.state.context=new kt(F.state.context,F.state.localVars,!1),F.state.localVars=Tt}function nr(){F.state.context=new kt(F.state.context,F.state.localVars,!0),F.state.localVars=null}Pt.lex=nr.lex=!0;function ft(){F.state.localVars=F.state.context.vars,F.state.context=F.state.context.prev}ft.lex=!0;function ye(m,S){var B=function(){var Y=F.state,_=Y.indented;if(Y.lexical.type=="stat")_=Y.lexical.indented;else for(var te=Y.lexical;te&&te.type==")"&&te.align;te=te.prev)_=te.indented;Y.lexical=new ke(_,F.stream.column(),m,null,Y.lexical,S)};return B.lex=!0,B}function be(){var m=F.state;m.lexical.prev&&(m.lexical.type==")"&&(m.indented=m.lexical.indented),m.lexical=m.lexical.prev)}be.lex=!0;function Me(m){function S(B){return B==m?L():m==";"||B=="}"||B==")"||B=="]"?se():L(S)}return S}function Pe(m,S){return m=="var"?L(ye("vardef",S),Gn,Me(";"),be):m=="keyword a"?L(ye("form"),A,Pe,be):m=="keyword b"?L(ye("form"),Pe,be):m=="keyword d"?F.stream.match(/^\s*$/,!1)?L():L(ye("stat"),K,Me(";"),be):m=="debugger"?L(Me(";")):m=="{"?L(ye("}"),nr,ir,be,ft):m==";"?L():m=="if"?(F.state.lexical.info=="else"&&F.state.cc[F.state.cc.length-1]==be&&F.state.cc.pop()(),L(ye("form"),A,Pe,be,Yn)):m=="function"?L(ar):m=="for"?L(ye("form"),nr,Tl,Pe,ft,be):m=="class"||T&&S=="interface"?(F.marked="keyword",L(ye("form",m=="class"?m:S),Xn,be)):m=="variable"?T&&S=="declare"?(F.marked="keyword",L(Pe)):T&&(S=="module"||S=="enum"||S=="type")&&F.stream.match(/^\s*\w/,!1)?(F.marked="keyword",S=="enum"?L(ce):S=="type"?L(Ll,Me("operator"),Ie,Me(";")):L(ye("form"),Wt,Me("{"),ye("}"),ir,be,be)):T&&S=="namespace"?(F.marked="keyword",L(ye("form"),Ce,Pe,be)):T&&S=="abstract"?(F.marked="keyword",L(Pe)):L(ye("stat"),xe):m=="switch"?L(ye("form"),A,Me("{"),ye("}","switch"),nr,ir,be,be,ft):m=="case"?L(Ce,Me(":")):m=="default"?L(Me(":")):m=="catch"?L(ye("form"),Pt,Xt,Pe,be,ft):m=="export"?L(ye("stat"),Zn,be):m=="import"?L(ye("stat"),en,be):m=="async"?L(Pe):S=="@"?L(Ce,Pe):se(ye("stat"),Ce,Me(";"),be)}function Xt(m){if(m=="(")return L(vr,Me(")"))}function Ce(m,S){return R(m,S,!1)}function k(m,S){return R(m,S,!0)}function A(m){return m!="("?se():L(ye(")"),K,Me(")"),be)}function R(m,S,B){if(F.state.fatArrowAt==F.stream.start){var Y=B?G:j;if(m=="(")return L(Pt,ye(")"),Be(vr,")"),be,Me("=>"),Y,ft);if(m=="variable")return se(Pt,Wt,Me("=>"),Y,ft)}var _=B?Z:U;return Ee.hasOwnProperty(m)?L(_):m=="function"?L(ar,_):m=="class"||T&&S=="interface"?(F.marked="keyword",L(ye("form"),Fo,be)):m=="keyword c"||m=="async"?L(B?k:Ce):m=="("?L(ye(")"),K,Me(")"),be,_):m=="operator"||m=="spread"?L(B?k:Ce):m=="["?L(ye("]"),nt,be,_):m=="{"?Bt(Fe,"}",null,_):m=="quasi"?se(re,_):m=="new"?L(ge(B)):L()}function K(m){return m.match(/[;\}\)\],]/)?se():se(Ce)}function U(m,S){return m==","?L(K):Z(m,S,!1)}function Z(m,S,B){var Y=B==!1?U:Z,_=B==!1?Ce:k;if(m=="=>")return L(Pt,B?G:j,ft);if(m=="operator")return/\+\+|--/.test(S)||T&&S=="!"?L(Y):T&&S=="<"&&F.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?L(ye(">"),Be(Ie,">"),be,Y):S=="?"?L(Ce,Me(":"),_):L(_);if(m=="quasi")return se(re,Y);if(m!=";"){if(m=="(")return Bt(k,")","call",Y);if(m==".")return L(Oe,Y);if(m=="[")return L(ye("]"),K,Me("]"),be,Y);if(T&&S=="as")return F.marked="keyword",L(Ie,Y);if(m=="regexp")return F.state.lastType=F.marked="operator",F.stream.backUp(F.stream.pos-F.stream.start-1),L(_)}}function re(m,S){return m!="quasi"?se():S.slice(S.length-2)!="${"?L(re):L(K,J)}function J(m){if(m=="}")return F.marked="string-2",F.state.tokenize=Ae,L(re)}function j(m){return V(F.stream,F.state),se(m=="{"?Pe:Ce)}function G(m){return V(F.stream,F.state),se(m=="{"?Pe:k)}function ge(m){return function(S){return S=="."?L(m?pe:fe):S=="variable"&&T?L(Qt,m?Z:U):se(m?k:Ce)}}function fe(m,S){if(S=="target")return F.marked="keyword",L(U)}function pe(m,S){if(S=="target")return F.marked="keyword",L(Z)}function xe(m){return m==":"?L(be,Pe):se(U,Me(";"),be)}function Oe(m){if(m=="variable")return F.marked="property",L()}function Fe(m,S){if(m=="async")return F.marked="property",L(Fe);if(m=="variable"||F.style=="keyword"){if(F.marked="property",S=="get"||S=="set")return L(He);var B;return T&&F.state.fatArrowAt==F.stream.start&&(B=F.stream.match(/^\s*:\s*/,!1))&&(F.state.fatArrowAt=F.stream.pos+B[0].length),L(qe)}else{if(m=="number"||m=="string")return F.marked=b?"property":F.style+" property",L(qe);if(m=="jsonld-keyword")return L(qe);if(T&&Qe(S))return F.marked="keyword",L(Fe);if(m=="[")return L(Ce,Zt,Me("]"),qe);if(m=="spread")return L(k,qe);if(S=="*")return F.marked="keyword",L(Fe);if(m==":")return se(qe)}}function He(m){return m!="variable"?se(qe):(F.marked="property",L(ar))}function qe(m){if(m==":")return L(k);if(m=="(")return se(ar)}function Be(m,S,B){function Y(_,te){if(B?B.indexOf(_)>-1:_==","){var Ue=F.state.lexical;return Ue.info=="call"&&(Ue.pos=(Ue.pos||0)+1),L(function(mt,zt){return mt==S||zt==S?se():se(m)},Y)}return _==S||te==S?L():B&&B.indexOf(";")>-1?se(m):L(Me(S))}return function(_,te){return _==S||te==S?L():se(m,Y)}}function Bt(m,S,B){for(var Y=3;Y<arguments.length;Y++)F.cc.push(arguments[Y]);return L(ye(S,B),Be(m,S),be)}function ir(m){return m=="}"?L():se(Pe,ir)}function Zt(m,S){if(T){if(m==":")return L(Ie);if(S=="?")return L(Zt)}}function Er(m,S){if(T&&(m==":"||S=="in"))return L(Ie)}function st(m){if(T&&m==":")return F.stream.match(/^\s*\w+\s+is\b/,!1)?L(Ce,Jt,Ie):L(Ie)}function Jt(m,S){if(S=="is")return F.marked="keyword",L()}function Ie(m,S){if(S=="keyof"||S=="typeof"||S=="infer"||S=="readonly")return F.marked="keyword",L(S=="typeof"?k:Ie);if(m=="variable"||S=="void")return F.marked="type",L(sr);if(S=="|"||S=="&")return L(Ie);if(m=="string"||m=="number"||m=="atom")return L(sr);if(m=="[")return L(ye("]"),Be(Ie,"]",","),be,sr);if(m=="{")return L(ye("}"),ve,be,sr);if(m=="(")return L(Be(rt,")"),kl,sr);if(m=="<")return L(Be(Ie,">"),Ie);if(m=="quasi")return se(Ot,sr)}function kl(m){if(m=="=>")return L(Ie)}function ve(m){return m.match(/[\}\)\]]/)?L():m==","||m==";"?L(ve):se(Wr,ve)}function Wr(m,S){if(m=="variable"||F.style=="keyword")return F.marked="property",L(Wr);if(S=="?"||m=="number"||m=="string")return L(Wr);if(m==":")return L(Ie);if(m=="[")return L(Me("variable"),Er,Me("]"),Wr);if(m=="(")return se(Vr,Wr);if(!m.match(/[;\}\)\],]/))return L()}function Ot(m,S){return m!="quasi"?se():S.slice(S.length-2)!="${"?L(Ot):L(Ie,tt)}function tt(m){if(m=="}")return F.marked="string-2",F.state.tokenize=Ae,L(Ot)}function rt(m,S){return m=="variable"&&F.stream.match(/^\s*[?:]/,!1)||S=="?"?L(rt):m==":"?L(Ie):m=="spread"?L(rt):se(Ie)}function sr(m,S){if(S=="<")return L(ye(">"),Be(Ie,">"),be,sr);if(S=="|"||m=="."||S=="&")return L(Ie);if(m=="[")return L(Ie,Me("]"),sr);if(S=="extends"||S=="implements")return F.marked="keyword",L(Ie);if(S=="?")return L(Ie,Me(":"),Ie)}function Qt(m,S){if(S=="<")return L(ye(">"),Be(Ie,">"),be,sr)}function pr(){return se(Ie,Nt)}function Nt(m,S){if(S=="=")return L(Ie)}function Gn(m,S){return S=="enum"?(F.marked="keyword",L(ce)):se(Wt,Zt,gr,Ro)}function Wt(m,S){if(T&&Qe(S))return F.marked="keyword",L(Wt);if(m=="variable")return Re(S),L();if(m=="spread")return L(Wt);if(m=="[")return Bt(Ni,"]");if(m=="{")return Bt(Qr,"}")}function Qr(m,S){return m=="variable"&&!F.stream.match(/^\s*:/,!1)?(Re(S),L(gr)):(m=="variable"&&(F.marked="property"),m=="spread"?L(Wt):m=="}"?se():m=="["?L(Ce,Me("]"),Me(":"),Qr):L(Me(":"),Wt,gr))}function Ni(){return se(Wt,gr)}function gr(m,S){if(S=="=")return L(k)}function Ro(m){if(m==",")return L(Gn)}function Yn(m,S){if(m=="keyword b"&&S=="else")return L(ye("form","else"),Pe,be)}function Tl(m,S){if(S=="await")return L(Tl);if(m=="(")return L(ye(")"),Di,be)}function Di(m){return m=="var"?L(Gn,$r):m=="variable"?L($r):se($r)}function $r(m,S){return m==")"?L():m==";"?L($r):S=="in"||S=="of"?(F.marked="keyword",L(Ce,$r)):se(Ce,$r)}function ar(m,S){if(S=="*")return F.marked="keyword",L(ar);if(m=="variable")return Re(S),L(ar);if(m=="(")return L(Pt,ye(")"),Be(vr,")"),be,st,Pe,ft);if(T&&S=="<")return L(ye(">"),Be(pr,">"),be,ar)}function Vr(m,S){if(S=="*")return F.marked="keyword",L(Vr);if(m=="variable")return Re(S),L(Vr);if(m=="(")return L(Pt,ye(")"),Be(vr,")"),be,st,ft);if(T&&S=="<")return L(ye(">"),Be(pr,">"),be,Vr)}function Ll(m,S){if(m=="keyword"||m=="variable")return F.marked="type",L(Ll);if(S=="<")return L(ye(">"),Be(pr,">"),be)}function vr(m,S){return S=="@"&&L(Ce,vr),m=="spread"?L(vr):T&&Qe(S)?(F.marked="keyword",L(vr)):T&&m=="this"?L(Zt,gr):se(Wt,Zt,gr)}function Fo(m,S){return m=="variable"?Xn(m,S):mr(m,S)}function Xn(m,S){if(m=="variable")return Re(S),L(mr)}function mr(m,S){if(S=="<")return L(ye(">"),Be(pr,">"),be,mr);if(S=="extends"||S=="implements"||T&&m==",")return S=="implements"&&(F.marked="keyword"),L(T?Ie:Ce,mr);if(m=="{")return L(ye("}"),yr,be)}function yr(m,S){if(m=="async"||m=="variable"&&(S=="static"||S=="get"||S=="set"||T&&Qe(S))&&F.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return F.marked="keyword",L(yr);if(m=="variable"||F.style=="keyword")return F.marked="property",L(Sn,yr);if(m=="number"||m=="string")return L(Sn,yr);if(m=="[")return L(Ce,Zt,Me("]"),Sn,yr);if(S=="*")return F.marked="keyword",L(yr);if(T&&m=="(")return se(Vr,yr);if(m==";"||m==",")return L(yr);if(m=="}")return L();if(S=="@")return L(Ce,yr)}function Sn(m,S){if(S=="!"||S=="?")return L(Sn);if(m==":")return L(Ie,gr);if(S=="=")return L(k);var B=F.state.lexical.prev,Y=B&&B.info=="interface";return se(Y?Vr:ar)}function Zn(m,S){return S=="*"?(F.marked="keyword",L($n,Me(";"))):S=="default"?(F.marked="keyword",L(Ce,Me(";"))):m=="{"?L(Be(Jn,"}"),$n,Me(";")):se(Pe)}function Jn(m,S){if(S=="as")return F.marked="keyword",L(Me("variable"));if(m=="variable")return se(k,Jn)}function en(m){return m=="string"?L():m=="("?se(Ce):m=="."?se(U):se(Qn,Ar,$n)}function Qn(m,S){return m=="{"?Bt(Qn,"}"):(m=="variable"&&Re(S),S=="*"&&(F.marked="keyword"),L(Ii))}function Ar(m){if(m==",")return L(Qn,Ar)}function Ii(m,S){if(S=="as")return F.marked="keyword",L(Qn)}function $n(m,S){if(S=="from")return F.marked="keyword",L(Ce)}function nt(m){return m=="]"?L():se(Be(k,"]"))}function ce(){return se(ye("form"),Wt,Me("{"),ye("}"),Be(zr,"}"),be,be)}function zr(){return se(Wt,gr)}function _i(m,S){return m.lastType=="operator"||m.lastType==","||D.test(S.charAt(0))||/[,.]/.test(S.charAt(0))}function lr(m,S,B){return S.tokenize==ae&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(S.lastType)||S.lastType=="quasi"&&/\{\s*$/.test(m.string.slice(0,m.pos-(B||0)))}return{startState:function(m){var S={tokenize:ae,lastType:"sof",cc:[],lexical:new ke((m||0)-h,0,"block",!1),localVars:c.localVars,context:c.localVars&&new kt(null,null,!1),indented:m||0};return c.globalVars&&typeof c.globalVars=="object"&&(S.globalVars=c.globalVars),S},token:function(m,S){if(m.sol()&&(S.lexical.hasOwnProperty("align")||(S.lexical.align=!1),S.indented=m.indentation(),V(m,S)),S.tokenize!=oe&&m.eatSpace())return null;var B=S.tokenize(m,S);return ie=="comment"?B:(S.lastType=ie=="operator"&&(he=="++"||he=="--")?"incdec":ie,ue(S,B,ie,he,m))},indent:function(m,S){if(m.tokenize==oe||m.tokenize==Ae)return s.Pass;if(m.tokenize!=ae)return 0;var B=S&&S.charAt(0),Y=m.lexical,_;if(!/^\s*else\b/.test(S))for(var te=m.cc.length-1;te>=0;--te){var Ue=m.cc[te];if(Ue==be)Y=Y.prev;else if(Ue!=Yn&&Ue!=ft)break}for(;(Y.type=="stat"||Y.type=="form")&&(B=="}"||(_=m.cc[m.cc.length-1])&&(_==U||_==Z)&&!/^[,\.=+\-*:?[\(]/.test(S));)Y=Y.prev;v&&Y.type==")"&&Y.prev.type=="stat"&&(Y=Y.prev);var mt=Y.type,zt=B==mt;return mt=="vardef"?Y.indented+(m.lastType=="operator"||m.lastType==","?Y.info.length+1:0):mt=="form"&&B=="{"?Y.indented:mt=="form"?Y.indented+h:mt=="stat"?Y.indented+(_i(m,S)?v||h:0):Y.info=="switch"&&!zt&&c.doubleIndentSwitch!=!1?Y.indented+(/^(?:case|default)\b/.test(S)?h:2*h):Y.align?Y.column+(zt?0:1):Y.indented+(zt?0:h)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:y?null:"/*",blockCommentEnd:y?null:"*/",blockCommentContinue:y?null:" * ",lineComment:y?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:y?"json":"javascript",jsonldMode:b,jsonMode:y,expressionAllowed:lr,skipExpression:function(m){ue(m,"atom","atom","true",new s.StringStream("",2,null))}}}),s.registerHelper("wordChars","javascript",/[\w$]/),s.defineMIME("text/javascript","javascript"),s.defineMIME("text/ecmascript","javascript"),s.defineMIME("application/javascript","javascript"),s.defineMIME("application/x-javascript","javascript"),s.defineMIME("application/ecmascript","javascript"),s.defineMIME("application/json",{name:"javascript",json:!0}),s.defineMIME("application/x-json",{name:"javascript",json:!0}),s.defineMIME("application/manifest+json",{name:"javascript",json:!0}),s.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),s.defineMIME("text/typescript",{name:"javascript",typescript:!0}),s.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();class Zm{constructor(o){this.input=o,this.index=0}getCurrent(){return this.input[this.index]}at(o){return this.index+o<this.input.length&&this.index+o>=0?this.input[this.index+o]:""}read(o){const s=this.input.slice(this.index,this.index+o);return this.index+=o,s}skipUntil(o){if(typeof o=="string"){const s=o;o=(u,c)=>u.startsWith(s,c)}for(;this.index<this.input.length;){if(o(this.input,this.index))return!0;this.index++}return!1}readUntil(o){if(typeof o=="string"){const c=o;o=(h,v)=>h.startsWith(c,v)}let s=this.index;this.skipUntil(o);let u=this.index;return this.input.slice(s,u)}skipWhile(o){return this.skipUntil((s,u)=>!o(s,u))}readWhile(o){return this.readUntil((s,u)=>!o(s,u))}readAll(o){const s=[];for(;!this.isDone();)s.push(this.readUntil(o)),this.isDone()||(s.push(this.input[this.index]),this.index++);return s}isDone(){return this.index>=this.input.length}clone(o){const s=Object.assign(Object.create(this.constructor.prototype),this);return o!=null&&(s.input=o,s.index=0),s}restart(o){return this.input=o,this.index=0,this}consume(o){if(o instanceof Array){for(const s of o)if(this.consume(s))return s;return null}return this.input.startsWith(o,this.index)?(this.index+=o.length,!0):!1}matches(o){if(typeof o=="function")return o(this.input,this.index);if(o instanceof Array){for(const s of o)if(this.matches(s))return s;return null}return!!this.input.startsWith(o,this.index)}}function oa(r="Reached unreachable code"){throw new Error("Assertion failed: "+r)}const Jm="0".charCodeAt(0),Qm="9".charCodeAt(0),$m="a".charCodeAt(0),Vm="z".charCodeAt(0),ey="A".charCodeAt(0),ty="Z".charCodeAt(0);function ry(r,o=0){if(!r)return!1;const s=r.charCodeAt(o);return s>=Jm&&s<=Qm}function ny(r,o=0){if(!r)return!1;const s=r.charCodeAt(o);return s>=$m&&s<=Vm||s>=ey&&s<=ty}function iy(r,o=0){return!r||!r[o]?!1:ny(r,o)||ry(r,o)||r[o]=="_"}function Lh(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function ly(r){return r.replace(/[^\w ]/g,o=>o=="\\"?"\\\\":`\\u${o.charCodeAt(0).toString(16).padStart(4,"0")}`)}var Sc;(r=>{function o(c){return c==null?(h,v)=>h+v:(h,v)=>h+c(v)}r.sum=o;function s(c){return(h,v,b)=>{const y=c==null?v:c(v);if(h==null)return{value:y,element:v,index:b};const w=h.value;return y<w?{value:y,element:v,index:b}:h??oa()}}r.smallest=s;function u(c){return(h,v,b)=>{const y=c==null?v:c(v);if(h==null)return{value:y,element:v,index:b};const w=h.value;return y>w?{value:y,element:v,index:b}:h??oa()}}r.largest=u})(Sc||(Sc={}));function*oy(r){for(let o=r.length-1;o>=0;o--)yield r[o]}var Cc;(r=>{function o(b){return y=>y instanceof b}r.instanceOf=o;function s(b){return y=>typeof y==b}r.typeOf=s;function u(b){return b==null?y=>!1:"has"in b?y=>b.has(y):y=>b.includes(y)}r.containedIn=u;function c(b){return(...y)=>!b(...y)}r.invert=c;function h(){return b=>b!=null}r.notNull=h;function v(...b){return y=>{for(const w of b)if(!w(y))return!1;return!0}}r.and=v,r.not=new Proxy({},{get(b,y,w){const T=r[y];return(...N)=>{const M=T(...N);return(...D)=>!M(...D)}}})})(Cc||(Cc={}));function sa(r,o){if(o==null)return r;if(typeof r=="object"&&r!=null){if(r instanceof Array)return r.push(...o),r;for(const[s,u]of Object.entries(o)){const c=s in r?r[s]:void 0;if(typeof c=="object"&&c!=null){r[s]=sa(c,u);continue}r[s]=u}return r}return o}function fo(r){return typeof r=="string"?r:`calc(var(--size-int) * ${r})`}function kc(){const r={display:"grid"};let o=!1,s=!1;return{rows(...u){return r.gridTemplateRows=u.map(fo).join(" "),o=!0,this},columns(...u){return r.gridTemplateColumns=u.map(fo).join(" "),o=!0,this},autoRows(u){return r.gridAutoRows=fo(u),o=!0,this},autoColumns(u){return r.gridAutoColumns=fo(u),o=!0,this},left(u,c){return s=!0,c==null?r.gridColumn=u.toString():r.gridColumn=`${u} / ${c}`,this},top(u,c){return s=!0,c==null?r.gridRow=u.toString():r.gridRow=`${u} / ${c}`,this},colspan(u){return this.left("auto",`span ${u}`)},rowspan(u){return this.top("auto",`span ${u}`)},debug(){return r["--debug"]=JSON.stringify(JSON.stringify(r)),this},get $(){return s&&!o&&delete r.display,r}}}function Mh(r={},o=null){return hr({selected:o??Object.keys(r)[0],list:Object.entries(r),next(){const u=this.list.findIndex(c=>c[0]==this.selected)%this.list.length;this.selected=this.list[u][0]}})}const sy={variant:{type:String},tabs:{type:Object,required:!0},compact:{type:Boolean},buttonClass:{type:String},border:{type:Boolean}},Eh=ot({name:"Tabs",props:sy,setup(r,o){if(r.border)return()=>W("div",{class:["flex row pt-1",!r.compact&&"gap-1"]},[r.tabs.list.map(([c,h])=>W(dr,{onClick:()=>r.tabs.selected=c,textual:!0,key:c,class:[r.buttonClass,"as-retro-tab",r.tabs.selected==c&&"-selected"]},{default:()=>[typeof h=="string"?h:h(),W("div",{class:"-border"},null),W("div",{class:"-connector"},null)]}))]);const s={};function u(c,h,v){if(!c)throw new Error("Selected state changed to null");if(!h){if(!(c in s)){if(v)throw new Error("Selected tab does not exist");Kn(()=>u(c,h,!0));return}s[c].classList.add("active");return}const b=s[h],y=s[c],w=b.getBoundingClientRect();b.classList.remove("active"),y.classList.add("active");const T=y.getBoundingClientRect(),N=w.left+w.width/2-(T.left+T.width/2),M=w.width/T.width;y.style.transform=`translateX(${N}px) scaleX(${M})`,setTimeout(()=>{y.classList.add("moving"),y.style.transform="none",setTimeout(()=>{y.classList.remove("moving")},100)},10)}return Je(()=>r.tabs.selected,(c,h)=>{r.tabs.list.length!=0&&u(c,h,!1)}),qn(()=>{r.tabs.selected&&(r.tabs.selected in s||(r.tabs.selected=Object.keys(s)[0]),s[r.tabs.selected].classList.add("active"))}),()=>W("div",{class:["flex row",!r.compact&&"gap-4"]},[r.tabs.list.map(([c,h])=>W(dr,{onClick:()=>r.tabs.selected=c,textual:!0,flat:!0,key:c,class:["pb-1 px-0",r.buttonClass]},{default:()=>[typeof h=="string"?h:Cl(h),W("div",{ref:v=>s[c]=v,class:["as-tabs-indicator",r.variant?`bg-${r.variant}`:"bg-highlight"]},null)]}))])}}),ay=ot({name:"TabbedContainer",props:{defaultValue:{type:String},tabsProps:{type:Object},tabsWrapper:{type:Function},externalTabs:{type:Object},...Bm},setup(r,o){function s(){var b,y;const h=la((y=(b=o.slots).default)==null?void 0:y.call(b)),v=[];for(const w of h)if(typeof w=="object"&&w!=null&&w.type==aa){if(w.props==null||w.props.name==null)continue;const T=w.props.name,N=w.props.label??T;v.push({name:T,label:N,content:w})}return v}function u(h){const v=c.list,b=h.map(y=>[y.name,y.label]);v.map(y=>y[0]).join(",")!=b.map(y=>y[0]).join(",")&&Kn(()=>{var y;b.some(w=>w[0]==c.selected)||(c.selected=((y=b[0])==null?void 0:y[0])??""),c.list=b})}const c=r.externalTabs??Mh({});return()=>{const h=s();u(h);const v=h.find(y=>y.name==c.selected),b=r.tabsWrapper?r.tabsWrapper(v==null?void 0:v.content):v==null?void 0:v.content;return r.externalTabs?W("div",null,[b]):W("div",null,[W(Eh,Ti(r.tabsProps,{tabs:c}),null),b])}}}),aa=ot({name:"Tab",props:{name:{type:String,required:!0},label:{type:null}},setup(r,o){return()=>{var s,u;return(u=(s=o.slots).default)==null?void 0:u.call(s)}}});var uy=_a();const Pa=Xm(uy);(function(r,o){(function(s){s(_a())})(function(s){s.defineSimpleMode=function(M,D){s.defineMode(M,function(I){return s.simpleMode(I,D)})},s.simpleMode=function(M,D){u(D,"start");var I={},H=D.meta||{},ie=!1;for(var he in D)if(he!=H&&D.hasOwnProperty(he))for(var q=I[he]=[],ae=D[he],ee=0;ee<ae.length;ee++){var oe=ae[ee];q.push(new v(oe,D)),(oe.indent||oe.dedent)&&(ie=!0)}var Ae={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:ie?[]:null}},copyState:function(V){var Ee={state:V.state,pending:V.pending,local:V.local,localState:null,indent:V.indent&&V.indent.slice(0)};V.localState&&(Ee.localState=s.copyState(V.local.mode,V.localState)),V.stack&&(Ee.stack=V.stack.slice(0));for(var ke=V.persistentStates;ke;ke=ke.next)Ee.persistentStates={mode:ke.mode,spec:ke.spec,state:ke.state==V.localState?Ee.localState:s.copyState(ke.mode,ke.state),next:Ee.persistentStates};return Ee},token:b(I,M),innerMode:function(V){return V.local&&{mode:V.local.mode,state:V.localState}},indent:N(I,H)};if(H)for(var Se in H)H.hasOwnProperty(Se)&&(Ae[Se]=H[Se]);return Ae};function u(M,D){if(!M.hasOwnProperty(D))throw new Error("Undefined state "+D+" in simple mode")}function c(M,D){if(!M)return/(?:)/;var I="";return M instanceof RegExp?(M.ignoreCase&&(I="i"),M.unicode&&(I+="u"),M=M.source):M=String(M),new RegExp((D===!1?"":"^")+"(?:"+M+")",I)}function h(M){if(!M)return null;if(M.apply)return M;if(typeof M=="string")return M.replace(/\./g," ");for(var D=[],I=0;I<M.length;I++)D.push(M[I]&&M[I].replace(/\./g," "));return D}function v(M,D){(M.next||M.push)&&u(D,M.next||M.push),this.regex=c(M.regex),this.token=h(M.token),this.data=M}function b(M,D){return function(I,H){if(H.pending){var ie=H.pending.shift();return H.pending.length==0&&(H.pending=null),I.pos+=ie.text.length,ie.token}if(H.local)if(H.local.end&&I.match(H.local.end)){var he=H.local.endToken||null;return H.local=H.localState=null,he}else{var he=H.local.mode.token(I,H.localState),q;return H.local.endScan&&(q=H.local.endScan.exec(I.current()))&&(I.pos=I.start+q.index),he}for(var ae=M[H.state],ee=0;ee<ae.length;ee++){var oe=ae[ee],Ae=(!oe.data.sol||I.sol())&&I.match(oe.regex);if(Ae){oe.data.next?H.state=oe.data.next:oe.data.push?((H.stack||(H.stack=[])).push(H.state),H.state=oe.data.push):oe.data.pop&&H.stack&&H.stack.length&&(H.state=H.stack.pop()),oe.data.mode&&w(D,H,oe.data.mode,oe.token),oe.data.indent&&H.indent.push(I.indentation()+D.indentUnit),oe.data.dedent&&H.indent.pop();var Se=oe.token;if(Se&&Se.apply&&(Se=Se(Ae)),Ae.length>2&&oe.token&&typeof oe.token!="string"){for(var V=2;V<Ae.length;V++)Ae[V]&&(H.pending||(H.pending=[])).push({text:Ae[V],token:oe.token[V-1]});return I.backUp(Ae[0].length-(Ae[1]?Ae[1].length:0)),Se[0]}else return Se&&Se.join?Se[0]:Se}}return I.next(),null}}function y(M,D){if(M===D)return!0;if(!M||typeof M!="object"||!D||typeof D!="object")return!1;var I=0;for(var H in M)if(M.hasOwnProperty(H)){if(!D.hasOwnProperty(H)||!y(M[H],D[H]))return!1;I++}for(var H in D)D.hasOwnProperty(H)&&I--;return I==0}function w(M,D,I,H){var ie;if(I.persistent)for(var he=D.persistentStates;he&&!ie;he=he.next)(I.spec?y(I.spec,he.spec):I.mode==he.mode)&&(ie=he);var q=ie?ie.mode:I.mode||s.getMode(M,I.spec),ae=ie?ie.state:s.startState(q);I.persistent&&!ie&&(D.persistentStates={mode:q,spec:I.spec,state:ae,next:D.persistentStates}),D.localState=ae,D.local={mode:q,end:I.end&&c(I.end),endScan:I.end&&I.forceEnd!==!1&&c(I.end,!1),endToken:H&&H.join?H[H.length-1]:H}}function T(M,D){for(var I=0;I<D.length;I++)if(D[I]===M)return!0}function N(M,D){return function(I,H,ie){if(I.local&&I.local.mode.indent)return I.local.mode.indent(I.localState,H,ie);if(I.indent==null||I.local||D.dontIndentStates&&T(I.state,D.dontIndentStates)>-1)return s.Pass;var he=I.indent.length-1,q=M[I.state];e:for(;;){for(var ae=0;ae<q.length;ae++){var ee=q[ae];if(ee.data.dedent&&ee.data.dedentIfLineStart!==!1){var oe=ee.regex.exec(H);if(oe&&oe[0]){he--,(ee.next||ee.push)&&(q=M[ee.next||ee.push]),H=H.slice(oe[0].length);continue e}}}break}return he<0?0:I.indent[he]}}})})();const fy=ot({name:"MountElement",props:{node:{type:Node}},setup(r,o){let s=null,u=null;function c(){var b,y;if(s==null)return null;const h=r.node,v=s.vnode.el;if(v==null){(b=u==null?void 0:u.parentNode)==null||b.removeChild(u),u=null;return}if(u!=null&&u!=h&&((y=u.parentNode)==null||y.removeChild(u)),u=null,!(v instanceof Comment))throw new Error("MountNode root is not a comment");v.parentElement&&(h!=null&&v.parentElement.insertBefore(h,v.nextSibling),u=h??null)}return qn(()=>{s=Oa(),c()}),yn(()=>{var h;(h=u==null?void 0:u.parentNode)==null||h.removeChild(u)}),Je(()=>r.node,c),ih(c),()=>Wv("MountNode")}});function cy(r,o,s=null,u=null){const c=new RegExp(ly(o)),h=(s??r.posFromIndex(0)).line,v=(u==null?void 0:u.line)??r.lastLine();for(let b=h;b<=v;b++){let y=r.getLine(b);b==v&&u!=null&&(y=y.slice(0,u.ch)),b==h&&s!=null&&(y=y.slice(s.ch));const w=c.exec(y);if(w){let T=w.index;return b==h&&s!=null&&(T+=s.ch),Pa.Pos(b,T)}}return null}const hy={"Shift-Ctrl-L":"deleteLine","Ctrl-Space":"autocomplete","Ctrl-D"(r){const o=new Set;for(const u of r.listSelections()){const c=u.from().line,h=u.to().line;for(let v=c;v<=h;v++)o.add(v)}const s=[...o];for(const u of oy(s)){const c=r.getLine(u),h={ch:c.length,line:u};r.replaceRange(`
`+c,h,h)}},"Shift-Tab":"indentLess","Shift-Alt-D"(r){if(!r.somethingSelected()){const h=r.findWordAt(r.getCursor());r.addSelection(h.from(),h.to());return}const s=r.listSelections().at(-1),u=r.getRange(s.from(),s.to()),c=cy(r,u,s.to());c&&r.addSelection(c,Pa.Pos(c.line,c.ch+u.length))}},dy=ot({name:"Editor",props:{content:{type:String,default:""},highlight:{type:Object},mode:{type:null},config:{type:Object},useExtendedShortcuts:{type:Boolean,default:!0}},emits:{change:r=>!0,mounted:r=>!0},setup(r,o){const s=dt();let u=null,c=r.content;Je(()=>r.content,b=>{u&&b!=u.getValue()&&u.setValue(b)}),Je(()=>r.mode,b=>{u&&u.setOption("mode",b)});function h(b){b.classList.add("absolute-fill"),b.style.height="100%",s.value=b}qn(()=>{var y;u=Pa(h,{value:c,lineNumbers:!0,mode:r.mode??"simple",lineWrapping:!0,indentUnit:4,...r.config,extraKeys:{...r.useExtendedShortcuts?hy:void 0,...(y=r.config)==null?void 0:y.extraKeys,"Ctrl-S":()=>o.emit("change",c)}}),Kn(()=>u.refresh());let b=0;u.on("change",()=>{var T;const w=u.getValue();if(w.length>c.length&&u.state.selectionActive==null&&((T=r.config)!=null&&T.hintOptions)&&!r.config.hintOptions.completeSingle&&Date.now()-b>50){const N=u.findWordAt(u.getCursor()),M=u.getRange(N.from(),N.to());M.length>0&&new Zm(M).readWhile(iy)==M&&u.execCommand("autocomplete")}c=w}),u.on("endCompletion",()=>{b=Date.now()}),u.on("blur",()=>{o.emit("change",c)}),o.emit("mounted",u)}),ka(()=>{o.emit("change",c)});let v=null;return Je(()=>r.highlight,b=>{if(v&&(v.clear(),v=null),u==null||b==null)return;let y=b.offset;b.lineOffset&&(y+=u.indexFromPos({ch:0,line:b.lineOffset}));const w=u.posFromIndex(y),T=u.posFromIndex(y+b.length);u.scrollIntoView(w),v=u.getDoc().markText(w,T,{className:"bg-warning-translucent"})}),()=>W("div",null,[W(fy,{node:s.value},null)])}});class Ah{constructor(){return this.code=Sa(""),this.errors=hr([]),this.ready=!1,Bc(this)}isLanguageService(){return!1}compile(o){this.ready=!1,this.errors.length=0;try{this._compile(o)}catch(s){console.error(s),this.errors.push(`<span class="text-danger">Failed to run code due to internal error:<br />&nbsp;&nbsp;${Lh(Hm(s))}</span>`)}}}function py(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!xn(r)}const gy=ot({name:"EditorView",props:{code:{type:String},root:{type:Boolean},vertical:{type:Boolean},noRunButton:{type:Boolean},tab:{type:String},mode:{type:null},localStorageId:{type:String},config:{type:Object},codeRatio:{type:Number},state:{type:Ah,required:!0},toolbarClass:{type:null}},emits:{compile:(r,o)=>!0,mounted:r=>!0},setup(r,o){r.localStorageId&&!r.root&&console.warn("EditorView has localStorageId but it is not root, so no state will be saved"),Je(()=>r.code,()=>{r.code!=null&&(r.state.code.value=r.code)},{immediate:!0});const s=Mh();if(r.tab!=null&&(s.selected=r.tab),Je(()=>r.tab,()=>{r.tab!=null&&(s.selected=r.tab)}),r.root){if(r.localStorageId!=null){const N=localStorage.getItem(r.localStorageId+":editor-code");N!=null&&(r.state.code.value=N)}if(r.localStorageId){const N=localStorage.getItem(r.localStorageId+":editor-tab");N!=null&&(s.selected=N),Je(r.state.code,M=>localStorage.setItem(r.localStorageId+":editor-code",M)),Je(()=>s.selected,M=>localStorage.setItem(r.localStorageId+":editor-tab",M))}}function u(){r.state.compile(r.state.code.value)}Je(r.state.code,u,{immediate:!0});const c=dt(),h=dt(!1);kh(()=>{const M=c.value.clientHeight<500;h.value!=M&&(h.value=M)},{immediate:!0});function v(){return W("div",{class:"absolute-fill flex column gap-2 scroll p-2"},[r.state.errors.map(N=>W("div",{class:"border border-danger rounded pre-wrap monospace px-2",innerHTML:N},null))])}let b=null;const y=Sa(null);function w(N){if(b&&(b.classList.remove("bg-warning-translucent"),b=null),y.value=null,N.target instanceof HTMLElement){const M=N.target.closest("[data-offset][data-length]");if(M){const D=+M.dataset.offset,I=+M.dataset.length;let H=M.dataset.lineOffset;H!=null&&(H=+H),b=M,b.classList.add("bg-warning-translucent"),y.value={offset:D,length:I,lineOffset:H}}}}const T=Br(()=>{let N=null;return r.state.isLanguageService()&&(N=sa(N,{hintOptions:{hint:M=>r.state.getHints(M),updateOnCursorActivity:!0,completeSingle:!1},lint:{getAnnotations:(M,D,I)=>r.state.getAnnotations(M,I)}})),N=sa(N,r.config),N});return()=>{let N;const M=W("div",{class:["p-1 px-2 flex row gap-2",r.toolbarClass]},[W("div",{class:"flex-fill flex row gap-2"},[pv(o.slots,"default")]),!r.noRunButton&&W(dr,{onClick:u,variant:"success"},{default:()=>[tr("Run "),W(xh,{icon:qm},null),tr(" ")]})]),D=W("div",{class:"p-1 px-2"},[W(Eh,{border:!0,class:"absolute left-0 bottom-0 ml-1",tabs:s},null)]),I=W("div",null,[W(dy,{content:r.state.code.value,onChange:ie=>r.state.code.value=ie,onMounted:ie=>o.emit("mounted",ie),class:"absolute-fill",highlight:y.value,mode:r.mode,config:T.value},null)]),H=W("div",{class:"flex column",ref:c},[W(ay,{class:"flex-fill",externalTabs:s,onMousemove:w,onMouseleave:w},{default:()=>[r.state.getOutput().map(ie=>W(aa,{name:ie.name,key:ie.name,label:ie.label},{default:()=>[W("div",{class:"absolute-fill overflow-auto p-2"},[r.state.ready?typeof ie.content=="string"?W("div",{class:"monospace pre-wrap",innerHTML:ie.content},null):ie.content():W("div",{class:"muted p-2"},[tr("Waiting for compilation...")])])]})),h.value&&W(aa,{name:"errors",label:"Errors"},py(N=v())?N:{default:()=>[N]})]}),h.value==!1&&r.state.errors.length>0&&W("div",{class:"flex-basis-300 border-top",onMousemove:w,onMouseleave:w},[v()])]);return r.vertical?Zs(W("div",{class:"flex-fill",style:kc().rows("auto",`${r.codeRatio??1}fr`,8,`${r.codeRatio!=null?1-r.codeRatio:1}fr`).$},[M,tr(" "),I,tr(" "),D,tr(" "),H]),[[po("child-class"),"border-bottom","head3"]]):Zs(W("div",{class:"flex-fill",style:kc().columns(`${r.codeRatio??1}fr`,`${r.codeRatio!=null?1-r.codeRatio:1}fr`).rows("auto","1fr").$},[M,tr(" "),D,tr(" "),I,tr(" "),H]),[[po("child-class"),"border-right","odd"],[po("child-class"),"border-bottom","head2"]])}}}),Te=class Te{constructor(o=0,s=0){this.y=s,typeof o=="object"?(this.x=o.x,this.y=o.y):this.x=o}floor(){return new Te(Math.floor(this.x),Math.floor(this.y))}round(){return new Te(Math.round(this.x),Math.round(this.y))}makePixelPerfect(){return new Te(Math.floor(this.x)+.5,Math.floor(this.y)+.5)}ceil(){return new Te(Math.ceil(this.x),Math.ceil(this.y))}abs(){return new Te(Math.abs(this.x),Math.abs(this.y))}normalize(){return this.x==0&&this.y==0?Te.zero:this.mul(1/Math.hypot(this.x,this.y))}tangent(){return new Te(this.y,-this.x)}toAngle(){return Math.atan2(this.y,this.x)}scale(o,s=0){return typeof o=="object"?new Te(this.x*o.x,this.y*o.y):new Te(this.x*o,this.y*s)}antiScale(o,s=0){return typeof o=="object"?new Te(this.x/o.x,this.y/o.y):new Te(this.x/o,this.y/s)}invert(){return new Te(1/this.x,1/this.y)}static fromAngle(o){return new Te(Math.cos(o),Math.sin(o))}spread(){return[this.x,this.y]}mul(o){return new Te(this.x*o,this.y*o)}pow(o){return new Te(this.x**o,this.y**o)}add(o,s=0){return typeof o=="object"?new Te(this.x+o.x,this.y+o.y):new Te(this.x+o,this.y+s)}sub(o,s=0){return typeof o=="object"?new Te(this.x-o.x,this.y-o.y):new Te(this.x-o,this.y-s)}makeKey(){return`${this.x}:${this.y}`}hash(){const o=this.x*12.9898+this.y*78.233,s=Math.sin(o)*43758.5453;return s-Math.floor(s)}dist(o){return Math.hypot(this.x-o.x,this.y-o.y)}isZero(){return this.x===0&&this.y===0}isNaN(){return isNaN(this.x)||isNaN(this.y)}size(){return Math.hypot(this.x,this.y)}sizeSqr(){return this.x**2+this.y**2}clampSize(o){return Math.hypot(this.x,this.y)>o?this.normalize().mul(o):this}area(){return this.x*this.y}equals(o){return this.x==o.x&&this.y==o.y}with(o,s){return new Te({...this,[o]:s})}*[Symbol.iterator](){yield this.x,yield this.y}static dot(o,s){return o.x*s.x+o.y*s.y}static project(o,s,u){const c=u.add(o.mul(-1));return{length:this.dot(s,c),point(){return o.add(s.mul(this.length))},pointClamped(v){return o.add(s.mul(this.length<0?0:this.length>v?v:this.length))}}}static cardinalDirection(o,s){const u=s.add(o.mul(-1)),c=Math.abs(u.x),h=Math.abs(u.y);return c>h?new Te(u.x,0):new Te(0,u.y)}lerp(o,s){return this.add(o.add(this.mul(-1)).mul(s))}static min(o,s){return new Te(Math.min(o.x,s.x),Math.min(o.y,s.y))}static max(o,s){return new Te(Math.max(o.x,s.x),Math.max(o.y,s.y))}static dist(o,s){return Math.hypot(o.x-s.x,o.y-s.y)}static distSqr(o,s){return(o.x-s.x)**2+(o.y-s.y)**2}static calculateObjectFit(o,s,u){const c=o.x/s.x,h=o.y/s.y;return u=="contain"?Math.min(1/c,1/h):u=="cover"?Math.max(1/c,1/h):(c>1||h>1,Math.min(1/c,1/h))}static getLineIntersectionScalars(o,s,u,c){const h=c.y*s.x-c.x*s.y;if(h==0)return[1/0,1/0];const v=(c.x*(o.y-u.y)-c.y*(o.x-u.x))/h,b=(s.x*(o.y-u.y)-s.y*(o.x-u.x))/h;return[v,b]}static getLineIntersection(o,s,u,c){const h=this.getLineIntersectionScalars(o,s,u,c)[0];return o.add(s.mul(h))}};Te.one=new Te(1,1),Te.zero=new Te,Te.up=new Te(0,-1),Te.down=new Te(0,1),Te.left=new Te(-1,0),Te.right=new Te(1,0),Te.NaN=new Te(NaN,NaN),Te.directions=[Te.up,Te.right,Te.down,Te.left];let ut=Te;const Ye=class Ye{constructor(o=0,s=0,u=0,c=0){if(this.width=u,this.height=c,typeof o=="object")this.x=o.x,this.y=o.y,"width"in o?(this.width=o.width,this.height=o.height):typeof s=="object"?(this.width=s.x,this.height=s.y):(this.width=s,this.height=u);else if(this.x=o,typeof s=="number")this.y=s;else throw new TypeError("y can only be an object if x is point")}size(){return new ut(this.width,this.height)}pos(){return new ut(this.x,this.y)}makePixelPerfect(){return new Ye(Math.floor(this.x)+.5,Math.floor(this.y)+.5,Math.floor(this.width),Math.floor(this.height))}floor(){return new Ye(Math.floor(this.x),Math.floor(this.y),Math.floor(this.width),Math.floor(this.height))}with(o,s){return new Ye({...this,[o]:s})}spread(){return[this.x,this.y,this.width,this.height]}origin(){return new Ye(0,0,this.width,this.height)}mul(o){return new Ye(this.x,this.y,this.width*o,this.height*o)}mulAll(o){return new Ye(this.x*o,this.y*o,this.width*o,this.height*o)}end(){return new ut(this.x+this.width,this.y+this.height)}translate(o,s=0){return typeof o=="object"?new Ye(this.x+o.x,this.y+o.y,this.width,this.height):new Ye(this.x+o,this.y+s,this.width,this.height)}expand(o,s=0){return typeof o=="object"?new Ye(this.x,this.y,this.width+o.x,this.height+o.y):new Ye(this.x,this.y,this.width+o,this.height+s)}copy(){return new Ye(this.x,this.y,this.width,this.height)}containsPoint(o){return o.x>=this.x&&o.x<this.x+this.width&&o.y>=this.y&&o.y<this.y+this.height}center(){return this.pos().add(this.size().mul(.5))}containsRect(o){let s=this.end(),u=o.end();return u.x>=this.x&&u.y>=this.y&&o.x<=s.x&&o.y<=s.y}equals(o){return this.x==o.x&&this.y==o.y&&this.width==o.width&&this.height==o.height}sizeEquals(o){return this.width==o.width&&this.height==o.height}awayVector(o){let s=0,u=0;const c=this.pos(),h=this.end();return o.x<c.x&&(s=-1),o.x>h.x&&(s=1),o.y<c.y&&(u=-1),o.y>h.y&&(u=1),new ut(s,u)}area(){return this.width*this.height}clampPoint(o){return new ut(Math.max(this.x,Math.min(this.x+this.width,o.x)),Math.max(this.y,Math.min(this.y+this.height,o.y)))}clampVector(o){let s=this.width*.5,u=this.height*.5,c=o.size();const h=o.mul(1/c);let v;h.x>0?v=new ut(s,0):v=new ut(-s,0);let b;h.y>0?b=new ut(0,u):b=new ut(0,-u);const[y]=ut.getLineIntersectionScalars(ut.zero,h,v,ut.down),[w]=ut.getLineIntersectionScalars(ut.zero,h,b,ut.right);return h.mul(Math.min(c,y,w))}scale(o){return new Ye(this.x,this.y,this.width*o.width,this.height*o.height)}antiScale(o){return new Ye(this.x,this.y,this.width/o.width,this.height/o.height)}ceilSize(){return new Ye(this.x,this.y,Math.ceil(this.width),Math.ceil(this.height))}getFracPoint(o,s){const u=s!=null?new ut(o,s):new ut(o);return this.pos().add(this.size().scale(u))}align(o){let s=0,u=0,c=0,h=0;return o.size!=null&&(o.width=o.height=o.size),o.padding!=null&&(o.top=o.left=o.right=o.bottom=o.padding),o.width!=null?(u=o.width,o.left!=null?s=o.left:o.right!=null?s=this.width-o.right-o.width:s=(this.width-u)/2):o.left!=null&&o.right!=null?(s=o.left,u=this.width-s-o.right):o.left!=null?(s=o.left,u=this.width-s):o.right!=null&&(u=this.width-o.right,s=0),o.height!=null?(h=o.height,o.top!=null?c=o.top:o.bottom!=null?c=this.height-o.bottom-o.height:c=(this.height-h)/2):o.top!=null&&o.bottom!=null?(c=o.top,h=this.height-c-o.bottom):o.top!=null?(c=o.top,h=this.height-c):o.bottom!=null&&(h=this.height-o.bottom,c=0),new Ye(s,c,u,h)}aspectRatio(o,s=!1){if(o>1){const u=this.height/o;if(u>this.width){const c=this.width/u,h=this.height*c;return new Ye(0,0,u*c,h)}return new Ye(0,0,u,this.height)}else{const u=this.width*o;if(u>this.height){const c=this.height/u,h=this.width*c;return new Ye(0,0,h,u*c)}return new Ye(0,0,this.width,u)}}min(){return new ut(Math.min(this.x,this.x+this.width),Math.min(this.y,this.y+this.height))}max(){return new ut(Math.max(this.x,this.x+this.width),Math.max(this.y,this.y+this.height))}snapToGrid(){const o=this.pos().floor(),s=this.end().ceil();return new Ye(o,s.sub(o))}static extends(o,s){return new Ye(o.add(s.mul(-.5)),s)}static fromDOMRect(o){return new Ye(o.left,o.top,o.width,o.height)}static fromSize(o){return new Ye(0,0,o.width,o.height)}static union(o){let s=1/0,u=1/0,c=-1/0,h=-1/0;for(const v of o){let b,y;"min"in v?(b=v.min(),y=v.max()):(b=v,y=v),s>b.x&&(s=b.x),u>b.y&&(u=b.y),c<y.x&&(c=y.x),h<y.y&&(h=y.y)}return new Ye(s,u,c-s,h-u)}};Ye.one=new Ye(0,0,1,1),Ye.zero=new Ye(0,0,0,0);let xi=Ye;function vy(){return new Worker("/Drawer/assets/ThreadServer-4f36ad44.js")}const my=ot({name:"Display",props:{iteration:{type:Number,required:!0},code:{type:String,required:!0}},emits:{error:r=>!0},setup(r,o){function s(){const M=new vy;return M.addEventListener("message",D=>{const I=D.data;I.kind=="pong"?c.value=performance.now():I.kind=="error"&&o.emit("error",I.error)}),M}let u=s();const c=dt(performance.now()),h=dt(performance.now()),v=dt(),b=dt(),y=dt(0);Je(()=>r.iteration,()=>{w()}),Je(()=>r.code,()=>{w()});function w(){u.terminate(),u=s(),c.value=performance.now(),y.value++}function T(M){b.value=M,M&&Kn(()=>{M instanceof HTMLCanvasElement||oa();const D=M.transferControlToOffscreen();u.postMessage({kind:"canvas",canvas:D,size:xi.fromDOMRect(v.value.getBoundingClientRect()).size()},[D]),u.postMessage({kind:"code",code:r.code})})}Us("interval",100,()=>{h.value=performance.now(),u.postMessage({kind:"ping"}),u.postMessage({kind:"resize",size:xi.fromDOMRect(v.value.getBoundingClientRect()).size()})}),Us(window,"mousemove",M=>{if(b.value==null)return;const D=new ut(M).sub(xi.fromDOMRect(b.value.getBoundingClientRect()).pos());u.postMessage({kind:"mousemove",pos:D})}),Us(window,"mouseup",M=>{u.postMessage({kind:"mouseup"})});function N(){u.postMessage({kind:"mousedown"})}return yn(()=>{u.terminate()}),kh(()=>{v.value!=null&&u.postMessage({kind:"resize",size:xi.fromDOMRect(v.value.getBoundingClientRect()).size()})}),()=>W("div",{class:"absolute-fill flex center",ref:v},[W("canvas",{onMousedown:N,key:"canvas"+y.value,width:"0",height:"0",class:"w-max-fill h-max-fill shadow",ref:T},null),W(Oi,{name:"as-transition-slide-up"},{default:()=>[h.value-c.value>1e3&&W("div",{class:"absolute top-0 border bg-white p-2 m-2"},[tr("Not Responding "),W(dr,{label:"Reset",variant:"danger",onClick:w},null)])]})])}}),yy=`// Executes once on start
function init() {
    
}

// Executes every frame
function update(deltaTime) {

}
`,by=[{name:"Draw",value:`let lastPosition = mouse

function init() {
	    
}

function update() {
    if (pressed) {
        drawer
        	.setStyle(Color.black)
        	.beginPath()
        	.move(lastPosition)
        	.lineTo(mouse)
        	.stroke()
    }
    
    lastPosition = mouse
}
`}],xy=ot({name:"EditorPage",setup(r,o){const s=new class extends Ah{constructor(){super(...arguments);Ns(this,"iteration",0);Ns(this,"handleError",b=>{this.errors.push(`<span class="text-danger">${Lh(b)}</span>`)})}getOutput(){return[{name:"output",label:"Output",content:()=>W(my,{iteration:this.iteration,code:this.code.value,onError:this.handleError},null)}]}_compile(b){this.ready=!0,this.iteration++}},u=dt(0);function c(){u.value=(u.value+1)%2,window.dispatchEvent(new CustomEvent("resize"))}function h(v){const b=v.target,y=b.value;b.value="",y&&(s.code.value=y)}return()=>W(gy,{codeRatio:[.5,.25][u.value],state:s,localStorageId:"quick-draw:code",mode:"javascript",code:yy,root:!0},{default:()=>[Zs(W(dr,{clear:!0,icon:Gm,onClick:c},null),[[po("label"),"Collapse code","right"]]),W(dr,{clear:!0,label:"Examples"},{default:()=>[W("select",{class:"absolute-fill opacity-0",onChange:h,value:""},[by.map(({name:v,value:b})=>W("option",{value:b},[v]))])]})]})}}),wy=ot({name:"App",setup(r,o){return()=>W(Km,null,{default:()=>[W(xy,null,null)]})}});function*Tc(r,o){if(!(r instanceof HTMLElement))throw new TypeError("Can only use this directive on a HTMLElement");let s=1,u=0,c=1/0,h;if(o.arg!=null)if(h=o.arg.match(/^(?:stride(\d)+)?(?:offset(\d)+)?(?:head(\d)+)?$/))h[1]&&(s=parseInt(h[1])),h[2]&&(u=parseInt(h[2])),h[3]&&(c=parseInt(h[3]));else if(h=o.arg.match(/index(\d+)/))s=1,u=parseInt(h[1]),c=u+1;else if(o.arg=="even")s=2,u=1;else if(o.arg=="odd")s=2,u=0;else throw new SyntaxError(`Invalid argument "${o.arg}"`);if(s<=0)throw new RangeError("Stride must be positive");const v=r.children;for(let b=u;b<v.length&&b<c;b+=s)yield v[b]}function Lc(r,o){const s=Eo([r.getAttribute("class"),o]);r.setAttribute("class",[...new Set(s.split(" "))].join(" "))}const co=Symbol.for("vue3gui.labelHost"),Sy={bottom:["top-100 left-0 w-fill h-0 flex center","top-100 mt-1"],"bottom-right":["top-100 left-0 w-fill h-0 flex","top-100 mt-1"],"bottom-left":["top-100 left-0 w-fill h-0 flex end-main","top-100 mt-1"],top:["bottom-100 left-0 w-fill h-0 flex center","bottom-100 mb-1"],"top-right":["bottom-100 left-0 w-fill h-0 flex","bottom-100 mb-1"],"top-left":["bottom-100 left-0 w-fill h-0 flex end-main","bottom-100 mb-1"],right:["left-100 top-0 h-fill w-0 flex center","left-100 ml-1"],left:["right-100 top-0 h-fill w-0 flex center","right-100 mr-1"]},Cy={install(r,o){r.directive("child-class",(s,u,c,h)=>{for(const v of Tc(s,u))Lc(v,u.value)}),r.directive("child-style",(s,u,c,h)=>{for(const v of Tc(s,u)){const b=Mo([v.getAttribute("style"),u.value]);v.setAttribute("style",Yp(b))}}),r.directive("label",(s,u,c,h)=>{if(!(s instanceof HTMLElement))throw new TypeError("Can only use this directive on a HTMLElement");Lc(s,"hover-check");const v=s.ariaLabel,b=u.value;if(!b){if(v==null)return;s.ariaLabel=null;const T=s[co];T&&T[0].remove(),s[co]=null;return}if(v==b)return;s.ariaLabel=b;let y=s[co];y==null&&(y=[document.createElement("div"),document.createElement("div")],s[co]=y,s.appendChild(y[0]),y[0].appendChild(y[1]),y[0].style.zIndex="1000");const w=Sy[u.arg??"bottom"];if(w==null)throw new TypeError(`Invalid label alignment "${u.arg}"`);y[0].className="if-hover-fade fade-delay absolute "+w[0],y[1].className="small rounded shadow bg-default absolute p-1 px-2 nowrap ignored "+w[1],y[1].innerHTML=Qp(b)})}},Oh=Cm(wy);Oh.use(Cy,{});Oh.mount("#app");export{rv as a,tv as b,Br as c,ot as d,dt as e,Bc as f,Cl as h,Fr as i,Kn as n,yn as o,La as p,hr as r,Sa as s,Ag as u,Je as w};
